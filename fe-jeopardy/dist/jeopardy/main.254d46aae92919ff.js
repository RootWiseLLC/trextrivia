(self.webpackChunkjeopardy=self.webpackChunkjeopardy||[]).push([[792],{599:(an,De,Re)=>{"use strict";function et(e,n,t,r,i,o,s){try{var a=e[o](s),l=a.value}catch(c){return void t(c)}a.done?n(l):Promise.resolve(l).then(r,i)}function w(e){return function(){var n=this,t=arguments;return new Promise(function(r,i){var o=e.apply(n,t);function s(l){et(o,r,i,s,a,"next",l)}function a(l){et(o,r,i,s,a,"throw",l)}s(void 0)})}}let Ie=null,T=1;const P=Symbol("SIGNAL");function L(e){const n=Ie;return Ie=e,n}function ln(e){if((!Un(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==T)){if(!e.producerMustRecompute(e)&&!Ut(e))return e.dirty=!1,void(e.lastCleanEpoch=T);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=T}}function Ut(e){ki(e);for(let n=0;n<e.producerNode.length;n++){const t=e.producerNode[n],r=e.producerLastReadVersion[n];if(r!==t.version||(ln(t),r!==t.version))return!0}return!1}function sr(e,n){if(function Xo(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),ki(e),1===e.liveConsumerNode.length)for(let r=0;r<e.producerNode.length;r++)sr(e.producerNode[r],e.producerIndexOfThis[r]);const t=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[t],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[t],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[n],i=e.liveConsumerNode[n];ki(i),i.producerIndexOfThis[r]=n}}function Un(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function ki(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let Bc=null;function Ee(e){return"function"==typeof e}function hi(e){const t=e(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const nt=hi(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function en(e,n){if(e){const t=e.indexOf(n);0<=t&&e.splice(t,1)}}class at{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(Ee(r))try{r()}catch(o){n=o instanceof nt?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{Dv(o)}catch(s){n=n??[],s instanceof nt?n=[...n,...s.errors]:n.push(s)}}if(n)throw new nt(n)}}add(n){var t;if(n&&n!==this)if(this.closed)Dv(n);else{if(n instanceof at){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(n)}}_hasParent(n){const{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){const{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&en(t,n)}remove(n){const{_finalizers:t}=this;t&&en(t,n),n instanceof at&&n._removeParent(this)}}at.EMPTY=(()=>{const e=new at;return e.closed=!0,e})();const ar=at.EMPTY;function Ur(e){return e instanceof at||e&&"closed"in e&&Ee(e.remove)&&Ee(e.add)&&Ee(e.unsubscribe)}function Dv(e){Ee(e)?e():e.unsubscribe()}const fo={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Hc={setTimeout(e,n,...t){const{delegate:r}=Hc;return r?.setTimeout?r.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){const{delegate:n}=Hc;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Sv(e){Hc.setTimeout(()=>{const{onUnhandledError:n}=fo;if(!n)throw e;n(e)})}function sf(){}const DO=af("C",void 0,void 0);function af(e,n,t){return{kind:e,value:n,error:t}}let po=null;function zc(e){if(fo.useDeprecatedSynchronousErrorHandling){const n=!po;if(n&&(po={errorThrown:!1,error:null}),e(),n){const{errorThrown:t,error:r}=po;if(po=null,t)throw r}}else e()}class lf extends at{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,Ur(n)&&n.add(this)):this.destination=OO}static create(n,t,r){return new Gc(n,t,r)}next(n){this.isStopped?uf(function MO(e){return af("N",e,void 0)}(n),this):this._next(n)}error(n){this.isStopped?uf(function SO(e){return af("E",void 0,e)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?uf(DO,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const TO=Function.prototype.bind;function cf(e,n){return TO.call(e,n)}class AO{constructor(n){this.partialObserver=n}next(n){const{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(r){qc(r)}}error(n){const{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(r){qc(r)}else qc(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){qc(t)}}}class Gc extends lf{constructor(n,t,r){let i;if(super(),Ee(n)||!n)i={next:n??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&fo.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),i={next:n.next&&cf(n.next,o),error:n.error&&cf(n.error,o),complete:n.complete&&cf(n.complete,o)}):i=n}this.destination=new AO(i)}}function qc(e){fo.useDeprecatedSynchronousErrorHandling?function IO(e){fo.useDeprecatedSynchronousErrorHandling&&po&&(po.errorThrown=!0,po.error=e)}(e):Sv(e)}function uf(e,n){const{onStoppedNotification:t}=fo;t&&Hc.setTimeout(()=>t(e,n))}const OO={closed:!0,next:sf,error:function PO(e){throw e},complete:sf},df="function"==typeof Symbol&&Symbol.observable||"@@observable";function go(e){return e}function Mv(e){return 0===e.length?go:1===e.length?e[0]:function(t){return e.reduce((r,i)=>i(r),t)}}let Nt=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new e;return r.source=this,r.operator=t,r}subscribe(t,r,i){const o=function NO(e){return e&&e instanceof lf||function kO(e){return e&&Ee(e.next)&&Ee(e.error)&&Ee(e.complete)}(e)&&Ur(e)}(t)?t:new Gc(t,r,i);return zc(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=Iv(r))((i,o)=>{const s=new Gc({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[df](){return this}pipe(...t){return Mv(t)(this)}toPromise(t){return new(t=Iv(t))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=n=>new e(n),e})();function Iv(e){var n;return null!==(n=e??fo.Promise)&&void 0!==n?n:Promise}const xO=hi(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Tn=(()=>{class e extends Nt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new Tv(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new xO}next(t){zc(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){zc(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){zc(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:o}=this;return r||i?ar:(this.currentObservers=null,o.push(t),new at(()=>{this.currentObservers=null,en(o,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){const t=new Nt;return t.source=this,t}}return e.create=(n,t)=>new Tv(n,t),e})();class Tv extends Tn{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,n)}error(n){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,n)}complete(){var n,t;null===(t=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===t||t.call(n)}_subscribe(n){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(n))&&void 0!==r?r:ar}}class Bn extends Tn{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){const{hasError:n,thrownError:t,_value:r}=this;if(n)throw t;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}}function Av(e){return Ee(e?.lift)}function tn(e){return n=>{if(Av(n))return n.lift(function(t){try{return e(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Bt(e,n,t,r,i){return new FO(e,n,t,r,i)}class FO extends lf{constructor(n,t,r,i,o,s){super(n),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){n.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function Fe(e,n){return tn((t,r)=>{let i=0;t.subscribe(Bt(r,o=>{r.next(e.call(n,o,i++))}))})}const Pv="https://g.co/ng/security#xss";class I extends Error{constructor(n,t){super(function es(e,n){return`NG0${Math.abs(e)}${n?": "+n:""}`}(n,t)),this.code=n}}function fi(e){return{toString:e}.toString()}const ns="__parameters__";function is(e,n,t){return fi(()=>{const r=function hf(e){return function(...t){if(e){const r=e(...t);for(const i in r)this[i]=r[i]}}}(n);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(l,c,u){const d=l.hasOwnProperty(ns)?l[ns]:Object.defineProperty(l,ns,{value:[]})[ns];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}const Je=globalThis;function Ye(e){for(let n in e)if(e[n]===Ye)return n;throw Error("Could not find renamed property on target object.")}function LO(e,n){for(const t in n)n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function $t(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map($t).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const n=e.toString();if(null==n)return""+n;const t=n.indexOf("\n");return-1===t?n:n.substring(0,t)}function ff(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}const jO=Ye({__forward_ref__:Ye});function lt(e){return e.__forward_ref__=lt,e.toString=function(){return $t(this())},e}function le(e){return Kc(e)?e():e}function Kc(e){return"function"==typeof e&&e.hasOwnProperty(jO)&&e.__forward_ref__===lt}function q(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function lr(e){return{providers:e.providers||[],imports:e.imports||[]}}function Jc(e){return Nv(e,Yc)||Nv(e,xv)}function Nv(e,n){return e.hasOwnProperty(n)?e[n]:null}function Qc(e){return e&&(e.hasOwnProperty(pf)||e.hasOwnProperty(zO))?e[pf]:null}const Yc=Ye({\u0275prov:Ye}),pf=Ye({\u0275inj:Ye}),xv=Ye({ngInjectableDef:Ye}),zO=Ye({ngInjectorDef:Ye});class K{constructor(n,t){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=q({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function vf(e){return e&&!!e.\u0275providers}const xa=Ye({\u0275cmp:Ye}),wf=Ye({\u0275dir:Ye}),Cf=Ye({\u0275pipe:Ye}),Lv=Ye({\u0275mod:Ye}),pi=Ye({\u0275fac:Ye}),Fa=Ye({__NG_ELEMENT_ID__:Ye}),jv=Ye({__NG_ENV_ID__:Ye});function ye(e){return"string"==typeof e?e:null==e?"":String(e)}function bf(e,n){throw new I(-201,!1)}var Pe=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Pe||{});let Ef;function Vv(){return Ef}function An(e){const n=Ef;return Ef=e,n}function Uv(e,n,t){const r=Jc(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&Pe.Optional?null:void 0!==n?n:void bf()}const La={},Df="__NG_DI_FLAG__",Zc="ngTempTokenPath",QO=/\n/gm,Bv="__source";let os;function xi(e){const n=os;return os=e,n}function XO(e,n=Pe.Default){if(void 0===os)throw new I(-203,!1);return null===os?Uv(e,void 0,n):os.get(e,n&Pe.Optional?null:void 0,n)}function Y(e,n=Pe.Default){return(Vv()||XO)(le(e),n)}function j(e,n=Pe.Default){return Y(e,Xc(n))}function Xc(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Sf(e){const n=[];for(let t=0;t<e.length;t++){const r=le(e[t]);if(Array.isArray(r)){if(0===r.length)throw new I(900,!1);let i,o=Pe.Default;for(let s=0;s<r.length;s++){const a=r[s],l=e1(a);"number"==typeof l?-1===l?i=a.token:o|=l:i=a}n.push(Y(i,o))}else n.push(Y(r))}return n}function ja(e,n){return e[Df]=n,e.prototype[Df]=n,e}function e1(e){return e[Df]}const eu=ja(is("Optional"),8),tu=ja(is("SkipSelf"),4);function mo(e,n){return e.hasOwnProperty(pi)?e[pi]:null}function ss(e,n){e.forEach(t=>Array.isArray(t)?ss(t,n):n(t))}function Hv(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function nu(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function zn(e,n,t){let r=as(e,n);return r>=0?e[1|r]=t:(r=~r,function zv(e,n,t,r){let i=e.length;if(i==n)e.push(t,r);else if(1===i)e.push(r,e[0]),e[0]=t;else{for(i--,e.push(e[i-1],e[i]);i>n;)e[i]=e[i-2],i--;e[n]=t,e[n+1]=r}}(e,r,n,t)),r}function If(e,n){const t=as(e,n);if(t>=0)return e[1|t]}function as(e,n){return function Gv(e,n,t){let r=0,i=e.length>>t;for(;i!==r;){const o=r+(i-r>>1),s=e[o<<t];if(n===s)return o<<t;s>n?i=o:r=o+1}return~(i<<t)}(e,n,1)}const Br={},Le=[],yo=new K(""),qv=new K("",-1),Tf=new K("");class iu{get(n,t=La){if(t===La){const r=new Error(`NullInjectorError: No provider for ${$t(n)}!`);throw r.name="NullInjectorError",r}return t}}var ou=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(ou||{}),wr=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(wr||{}),pt=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(pt||{});function a1(e,n,t){let r=e.length;for(;;){const i=e.indexOf(n,t);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const o=n.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}t=i+1}}function Af(e,n,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const o=t[r++],s=t[r++],a=t[r++];e.setAttribute(n,s,a,o)}else{const o=i,s=t[++r];Kv(o)?e.setProperty(n,o,s):e.setAttribute(n,o,s),r++}}return r}function Wv(e){return 3===e||4===e||6===e}function Kv(e){return 64===e.charCodeAt(0)}function Va(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let t=-1;for(let r=0;r<n.length;r++){const i=n[r];"number"==typeof i?t=i:0===t||Jv(e,t,i,null,-1===t||2===t?n[++r]:null)}}return e}function Jv(e,n,t,r,i){let o=0,s=e.length;if(-1===n)s=-1;else for(;o<e.length;){const a=e[o++];if("number"==typeof a){if(a===n){s=-1;break}if(a>n){s=o-1;break}}}for(;o<e.length;){const a=e[o];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(e.splice(s,0,n),o=s+1),e.splice(o++,0,t),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}const Qv="ng-template";function l1(e,n,t,r){let i=0;if(r){for(;i<n.length&&"string"==typeof n[i];i+=2)if("class"===n[i]&&-1!==a1(n[i+1].toLowerCase(),t,0))return!0}else if(Pf(e))return!1;if(i=n.indexOf(1,i),i>-1){let o;for(;++i<n.length&&"string"==typeof(o=n[i]);)if(o.toLowerCase()===t)return!0}return!1}function Pf(e){return 4===e.type&&e.value!==Qv}function c1(e,n,t){return n===(4!==e.type||t?e.value:Qv)}function u1(e,n,t){let r=4;const i=e.attrs,o=null!==i?function f1(e){for(let n=0;n<e.length;n++)if(Wv(e[n]))return n;return e.length}(i):0;let s=!1;for(let a=0;a<n.length;a++){const l=n[a];if("number"!=typeof l){if(!s)if(4&r){if(r=2|1&r,""!==l&&!c1(e,l,t)||""===l&&1===n.length){if(Cr(r))return!1;s=!0}}else if(8&r){if(null===i||!l1(e,i,l,t)){if(Cr(r))return!1;s=!0}}else{const c=n[++a],u=d1(l,i,Pf(e),t);if(-1===u){if(Cr(r))return!1;s=!0;continue}if(""!==c){let d;if(d=u>o?"":i[u+1].toLowerCase(),2&r&&c!==d){if(Cr(r))return!1;s=!0}}}}else{if(!s&&!Cr(r)&&!Cr(l))return!1;if(s&&Cr(l))continue;s=!1,r=l|1&r}}return Cr(r)||s}function Cr(e){return!(1&e)}function d1(e,n,t,r){if(null===n)return-1;let i=0;if(r||!t){let o=!1;for(;i<n.length;){const s=n[i];if(s===e)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=n[++i];for(;"string"==typeof a;)a=n[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function p1(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){const r=e[t];if("number"==typeof r)return-1;if(r===n)return t;t++}return-1}(n,e)}function Yv(e,n,t=!1){for(let r=0;r<n.length;r++)if(u1(e,n[r],t))return!0;return!1}function Zv(e,n){return e?":not("+n.trim()+")":n}function m1(e){let n=e[0],t=1,r=2,i="",o=!1;for(;t<e.length;){let s=e[t];if("string"==typeof s)if(2&r){const a=e[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!Cr(s)&&(n+=Zv(o,i),i=""),r=s,o=o||!Cr(r);t++}return""!==i&&(n+=Zv(o,i)),n}function $e(e){return fi(()=>{const n=ew(e),t={...n,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===ou.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||wr.Emulated,styles:e.styles||Le,_:null,schemas:e.schemas||null,tView:null,id:""};tw(t);const r=e.dependencies;return t.directiveDefs=su(r,!1),t.pipeDefs=su(r,!0),t.id=function b1(e){let n=0;const t=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const i of t)n=Math.imul(31,n)+i.charCodeAt(0)|0;return n+=2147483648,"c"+n}(t),t})}function v1(e){return Te(e)||Ht(e)}function w1(e){return null!==e}function br(e){return fi(()=>({type:e.type,bootstrap:e.bootstrap||Le,declarations:e.declarations||Le,imports:e.imports||Le,exports:e.exports||Le,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Xv(e,n){if(null==e)return Br;const t={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];let o,s,a=pt.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),n?(t[o]=a!==pt.None?[r,a]:r,n[o]=s):t[o]=r}return t}function pe(e){return fi(()=>{const n=ew(e);return tw(n),n})}function Te(e){return e[xa]||null}function Ht(e){return e[wf]||null}function nn(e){return e[Cf]||null}function cn(e,n){const t=e[Lv]||null;if(!t&&!0===n)throw new Error(`Type ${$t(e)} does not have '\u0275mod' property.`);return t}function ew(e){const n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:e.inputs||Br,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Le,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Xv(e.inputs,n),outputs:Xv(e.outputs),debugInfo:null}}function tw(e){e.features?.forEach(n=>n(e))}function su(e,n){if(!e)return null;const t=n?nn:v1;return()=>("function"==typeof e?e():e).map(r=>t(r)).filter(w1)}function E1(...e){return{\u0275providers:Of(0,e),\u0275fromNgModule:!0}}function Of(e,...n){const t=[],r=new Set;let i;const o=s=>{t.push(s)};return ss(n,s=>{const a=s;au(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&nw(i,o),t}function nw(e,n){for(let t=0;t<e.length;t++){const{ngModule:r,providers:i}=e[t];Rf(i,o=>{n(o,r)})}}function au(e,n,t,r){if(!(e=le(e)))return!1;let i=null,o=Qc(e);const s=!o&&Te(e);if(o||s){if(s&&!s.standalone)return!1;i=e}else{const l=e.ngModule;if(o=Qc(l),!o)return!1;i=l}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of l)au(c,n,t,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;r.add(i);try{ss(o.imports,u=>{au(u,n,t,r)&&(c||=[],c.push(u))})}finally{}void 0!==c&&nw(c,n)}if(!a){const c=mo(i)||(()=>new i);n({provide:i,useFactory:c,deps:Le},i),n({provide:Tf,useValue:i,multi:!0},i),n({provide:yo,useValue:()=>Y(i),multi:!0},i)}const l=o.providers;if(null!=l&&!a){const c=e;Rf(l,u=>{n(u,c)})}}}return i!==e&&void 0!==e.providers}function Rf(e,n){for(let t of e)vf(t)&&(t=t.\u0275providers),Array.isArray(t)?Rf(t,n):n(t)}const D1=Ye({provide:String,useValue:Ye});function kf(e){return null!==e&&"object"==typeof e&&D1 in e}function _o(e){return"function"==typeof e}const Nf=new K(""),lu={},M1={};let xf;function cu(){return void 0===xf&&(xf=new iu),xf}class vn{}class ls extends vn{get destroyed(){return this._destroyed}constructor(n,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Lf(n,s=>this.processProvider(s)),this.records.set(qv,cs(void 0,this)),i.has("environment")&&this.records.set(vn,cs(void 0,this));const o=this.records.get(Nf);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Tf,Le,Pe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const n=L(null);try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),L(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const t=xi(this),r=An(void 0);try{return n()}finally{xi(t),An(r)}}get(n,t=La,r=Pe.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(jv))return n[jv](this);r=Xc(r);const o=xi(this),s=An(void 0);try{if(!(r&Pe.SkipSelf)){let l=this.records.get(n);if(void 0===l){const c=function O1(e){return"function"==typeof e||"object"==typeof e&&e instanceof K}(n)&&Jc(n);l=c&&this.injectableDefInScope(c)?cs(Ff(n),lu):null,this.records.set(n,l)}if(null!=l)return this.hydrate(n,l)}return(r&Pe.Self?cu():this.parent).get(n,t=r&Pe.Optional&&t===La?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[Zc]=a[Zc]||[]).unshift($t(n)),o)throw a;return function t1(e,n,t,r){const i=e[Zc];throw n[Bv]&&i.unshift(n[Bv]),e.message=function n1(e,n,t,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let i=$t(n);if(Array.isArray(n))i=n.map($t).join(" -> ");else if("object"==typeof n){let o=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):$t(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${e.replace(QO,"\n  ")}`}("\n"+e.message,i,t,r),e.ngTokenPath=i,e[Zc]=null,e}(a,n,"R3InjectorError",this.source)}throw a}finally{An(s),xi(o)}}resolveInjectorInitializers(){const n=L(null),t=xi(this),r=An(void 0);try{const o=this.get(yo,Le,Pe.Self);for(const s of o)s()}finally{xi(t),An(r),L(n)}}toString(){const n=[],t=this.records;for(const r of t.keys())n.push($t(r));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new I(205,!1)}processProvider(n){let t=_o(n=le(n))?n:le(n&&n.provide);const r=function T1(e){return kf(e)?cs(void 0,e.useValue):cs(ow(e),lu)}(n);if(!_o(n)&&!0===n.multi){let i=this.records.get(t);i||(i=cs(void 0,lu,!0),i.factory=()=>Sf(i.multi),this.records.set(t,i)),t=n,i.multi.push(n)}this.records.set(t,r)}hydrate(n,t){const r=L(null);try{return t.value===lu&&(t.value=M1,t.value=t.factory()),"object"==typeof t.value&&t.value&&function P1(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{L(r)}}injectableDefInScope(n){if(!n.providedIn)return!1;const t=le(n.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){const t=this._onDestroyHooks.indexOf(n);-1!==t&&this._onDestroyHooks.splice(t,1)}}function Ff(e){const n=Jc(e),t=null!==n?n.factory:mo(e);if(null!==t)return t;if(e instanceof K)throw new I(204,!1);if(e instanceof Function)return function I1(e){if(e.length>0)throw new I(204,!1);const t=function HO(e){return e&&(e[Yc]||e[xv])||null}(e);return null!==t?()=>t.factory(e):()=>new e}(e);throw new I(204,!1)}function ow(e,n,t){let r;if(_o(e)){const i=le(e);return mo(i)||Ff(i)}if(kf(e))r=()=>le(e.useValue);else if(function iw(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Sf(e.deps||[]));else if(function rw(e){return!(!e||!e.useExisting)}(e))r=()=>Y(le(e.useExisting));else{const i=le(e&&(e.useClass||e.provide));if(!function A1(e){return!!e.deps}(e))return mo(i)||Ff(i);r=()=>new i(...Sf(e.deps))}return r}function cs(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function Lf(e,n){for(const t of e)Array.isArray(t)?Lf(t,n):t&&vf(t)?Lf(t.\u0275providers,n):n(t)}function $r(e,n){e instanceof ls&&e.assertNotDestroyed();const r=xi(e),i=An(void 0);try{return n()}finally{xi(r),An(i)}}function sw(){return void 0!==Vv()||null!=function ZO(){return os}()}const yt=0,H=1,te=2,Tt=3,Er=4,un=5,Gn=6,ds=7,ct=8,xt=9,Dr=10,ue=11,$a=12,lw=13,hs=14,Ct=15,Ha=16,fs=17,gi=18,za=19,cw=20,Li=21,hu=22,vo=23,_e=25,Vf=1,Hr=7,ps=9,At=10;var Uf=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(Uf||{});function dn(e){return Array.isArray(e)&&"object"==typeof e[Vf]}function hn(e){return Array.isArray(e)&&!0===e[Vf]}function Bf(e){return!!(4&e.flags)}function wo(e){return e.componentOffset>-1}function pu(e){return!(1&~e.flags)}function Sr(e){return!!e.template}function $f(e){return!!(512&e[te])}class z1{constructor(n,t,r){this.previousValue=n,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function fw(e,n,t,r){null!==n?n.applyValueToInputSignal(n,r):e[t]=r}function cr(){return pw}function pw(e){return e.type.prototype.ngOnChanges&&(e.setInput=q1),G1}function G1(){const e=mw(this),n=e?.current;if(n){const t=e.previous;if(t===Br)e.previous=n;else for(let r in n)t[r]=n[r];e.current=null,this.ngOnChanges(n)}}function q1(e,n,t,r,i){const o=this.declaredInputs[r],s=mw(e)||function W1(e,n){return e[gw]=n}(e,{previous:Br,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new z1(c&&c.currentValue,t,l===Br),fw(e,n,i,t)}cr.ngInherit=!0;const gw="__ngSimpleChanges__";function mw(e){return e[gw]||null}const zr=function(e,n,t){};let vw=!1;function rt(e){for(;Array.isArray(e);)e=e[yt];return e}function qa(e,n){return rt(n[e])}function wn(e,n){return rt(n[e.index])}function Wa(e,n){return e.data[n]}function qn(e,n){const t=n[e];return dn(t)?t:t[yt]}function Wf(e){return!(128&~e[te])}function Gr(e,n){return null==n?null:e[n]}function ww(e){e[fs]=0}function X1(e){1024&e[te]||(e[te]|=1024,Wf(e)&&Ka(e))}function Kf(e){return!!(9216&e[te]||e[vo]?.dirty)}function Jf(e){e[Dr].changeDetectionScheduler?.notify(1),Kf(e)?Ka(e):64&e[te]&&(function J1(){return vw}()?(e[te]|=1024,Ka(e)):e[Dr].changeDetectionScheduler?.notify())}function Ka(e){e[Dr].changeDetectionScheduler?.notify();let n=Co(e);for(;null!==n&&!(8192&n[te])&&(n[te]|=8192,Wf(n));)n=Co(n)}function gu(e,n){if(!(256&~e[te]))throw new I(911,!1);null===e[Li]&&(e[Li]=[]),e[Li].push(n)}function Co(e){const n=e[Tt];return hn(n)?n[Tt]:n}const de={lFrame:Pw(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Ew(){return de.bindingsEnabled}function O(){return de.lFrame.lView}function Oe(){return de.lFrame.tView}function z(e){return de.lFrame.contextLView=e,e[ct]}function G(e){return de.lFrame.contextLView=null,e}function Ze(){let e=Dw();for(;null!==e&&64===e.type;)e=e.parent;return e}function Dw(){return de.lFrame.currentTNode}function qr(e,n){const t=de.lFrame;t.currentTNode=e,t.isParent=n}function Yf(){return de.lFrame.isParent}function mi(){return de.lFrame.bindingIndex}function Mr(){return de.lFrame.bindingIndex++}function yi(e){const n=de.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function uR(e,n){const t=de.lFrame;t.bindingIndex=t.bindingRootIndex=e,Xf(n)}function Xf(e){de.lFrame.currentDirectiveIndex=e}function tp(){return de.lFrame.currentQueryIndex}function mu(e){de.lFrame.currentQueryIndex=e}function hR(e){const n=e[H];return 2===n.type?n.declTNode:1===n.type?e[un]:null}function Tw(e,n,t){if(t&Pe.SkipSelf){let i=n,o=e;for(;!(i=i.parent,null!==i||t&Pe.Host||(i=hR(o),null===i||(o=o[hs],10&i.type))););if(null===i)return!1;n=i,e=o}const r=de.lFrame=Aw();return r.currentTNode=n,r.lView=e,!0}function np(e){const n=Aw(),t=e[H];de.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function Aw(){const e=de.lFrame,n=null===e?null:e.child;return null===n?Pw(e):n}function Pw(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function Ow(){const e=de.lFrame;return de.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Rw=Ow;function rp(){const e=Ow();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function fn(){return de.lFrame.selectedIndex}function bo(e){de.lFrame.selectedIndex=e}function ut(){const e=de.lFrame;return Wa(e.tView,e.selectedIndex)}let Nw=!0;function Qa(){return Nw}function Wr(e){Nw=e}function yu(e,n){for(let t=n.directiveStart,r=n.directiveEnd;t<r;t++){const o=e.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-t,s),a&&((e.contentHooks??=[]).push(t,a),(e.contentCheckHooks??=[]).push(t,a)),l&&(e.viewHooks??=[]).push(-t,l),c&&((e.viewHooks??=[]).push(t,c),(e.viewCheckHooks??=[]).push(t,c)),null!=u&&(e.destroyHooks??=[]).push(t,u)}}function _u(e,n,t){xw(e,n,3,t)}function vu(e,n,t,r){(3&e[te])===t&&xw(e,n,t,r)}function ip(e,n){let t=e[te];(3&t)===n&&(t&=16383,t+=1,e[te]=t)}function xw(e,n,t,r){const o=r??-1,s=n.length-1;let a=0;for(let l=void 0!==r?65535&e[fs]:0;l<s;l++)if("number"==typeof n[l+1]){if(a=n[l],null!=r&&a>=r)break}else n[l]<0&&(e[fs]+=65536),(a<o||-1==o)&&(vR(e,t,n,l),e[fs]=(4294901760&e[fs])+l+2),l++}function Fw(e,n){zr(4,e,n);const t=L(null);try{n.call(e)}finally{L(t),zr(5,e,n)}}function vR(e,n,t,r){const i=t[r]<0,o=t[r+1],a=e[i?-t[r]:t[r]];i?e[te]>>14<e[fs]>>16&&(3&e[te])===n&&(e[te]+=16384,Fw(a,o)):Fw(a,o)}const ys=-1;class Ya{constructor(n,t,r){this.factory=n,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function sp(e){return e!==ys}function Za(e){return 32767&e}function Xa(e,n){let t=function DR(e){return e>>16}(e),r=n;for(;t>0;)r=r[hs],t--;return r}let ap=!0;function wu(e){const n=ap;return ap=e,n}const Lw=255,jw=5;let SR=0;const Kr={};function Cu(e,n){const t=Vw(e,n);if(-1!==t)return t;const r=n[H];r.firstCreatePass&&(e.injectorIndex=n.length,lp(r.data,e),lp(n,null),lp(r.blueprint,null));const i=bu(e,n),o=e.injectorIndex;if(sp(i)){const s=Za(i),a=Xa(i,n),l=a[H].data;for(let c=0;c<8;c++)n[o+c]=a[s+c]|l[s+c]}return n[o+8]=i,o}function lp(e,n){e.push(0,0,0,0,0,0,0,0,n)}function Vw(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function bu(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let t=0,r=null,i=n;for(;null!==i;){if(r=qw(i),null===r)return ys;if(t++,i=i[hs],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return ys}function cp(e,n,t){!function MR(e,n,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Fa)&&(r=t[Fa]),null==r&&(r=t[Fa]=SR++);const i=r&Lw;n.data[e+(i>>jw)]|=1<<i}(e,n,t)}function Uw(e,n,t){if(t&Pe.Optional||void 0!==e)return e;bf()}function Bw(e,n,t,r){if(t&Pe.Optional&&void 0===r&&(r=null),!(t&(Pe.Self|Pe.Host))){const i=e[xt],o=An(void 0);try{return i?i.get(n,r,t&Pe.Optional):Uv(n,r,t&Pe.Optional)}finally{An(o)}}return Uw(r,0,t)}function $w(e,n,t,r=Pe.Default,i){if(null!==e){if(2048&n[te]&&!(r&Pe.Self)){const s=function OR(e,n,t,r,i){let o=e,s=n;for(;null!==o&&null!==s&&2048&s[te]&&!(512&s[te]);){const a=Hw(o,s,t,r|Pe.Self,Kr);if(a!==Kr)return a;let l=o.parent;if(!l){const c=s[cw];if(c){const u=c.get(t,Kr,r);if(u!==Kr)return u}l=qw(s),s=s[hs]}o=l}return i}(e,n,t,r,Kr);if(s!==Kr)return s}const o=Hw(e,n,t,r,Kr);if(o!==Kr)return o}return Bw(n,t,r,i)}function Hw(e,n,t,r,i){const o=function AR(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(Fa)?e[Fa]:void 0;return"number"==typeof n?n>=0?n&Lw:PR:n}(t);if("function"==typeof o){if(!Tw(n,e,r))return r&Pe.Host?Uw(i,0,r):Bw(n,t,r,i);try{let s;if(s=o(r),null!=s||r&Pe.Optional)return s;bf()}finally{Rw()}}else if("number"==typeof o){let s=null,a=Vw(e,n),l=ys,c=r&Pe.Host?n[Ct][un]:null;for((-1===a||r&Pe.SkipSelf)&&(l=-1===a?bu(e,n):n[a+8],l!==ys&&Gw(r,!1)?(s=n[H],a=Za(l),n=Xa(l,n)):a=-1);-1!==a;){const u=n[H];if(zw(o,a,u.data)){const d=TR(a,n,t,s,r,c);if(d!==Kr)return d}l=n[a+8],l!==ys&&Gw(r,n[H].data[a+8]===c)&&zw(o,a,n)?(s=u,a=Za(l),n=Xa(l,n)):a=-1}}return i}function TR(e,n,t,r,i,o){const s=n[H],a=s.data[e+8],u=Eu(a,s,t,null==r?wo(a)&&ap:r!=s&&!!(3&a.type),i&Pe.Host&&o===a);return null!==u?Eo(n,s,u,a):Kr}function Eu(e,n,t,r,i){const o=e.providerIndexes,s=n.data,a=1048575&o,l=e.directiveStart,u=o>>20,h=i?a+u:e.directiveEnd;for(let f=r?a:a+u;f<h;f++){const p=s[f];if(f<l&&t===p||f>=l&&p.type===t)return f}if(i){const f=s[l];if(f&&Sr(f)&&f.type===t)return l}return null}function Eo(e,n,t,r){let i=e[t];const o=n.data;if(function wR(e){return e instanceof Ya}(i)){const s=i;s.resolving&&function WO(e,n){throw n&&n.join(" > "),new I(-200,e)}(function ze(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():ye(e)}(o[t]));const a=wu(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?An(s.injectImpl):null;Tw(e,r,Pe.Default);try{i=e[t]=s.factory(void 0,o,e,r),n.firstCreatePass&&t>=r.directiveStart&&function _R(e,n,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=n.type.prototype;if(r){const s=pw(n);(t.preOrderHooks??=[]).push(e,s),(t.preOrderCheckHooks??=[]).push(e,s)}i&&(t.preOrderHooks??=[]).push(0-e,i),o&&((t.preOrderHooks??=[]).push(e,o),(t.preOrderCheckHooks??=[]).push(e,o))}(t,o[t],n)}finally{null!==c&&An(c),wu(a),s.resolving=!1,Rw()}}return i}function zw(e,n,t){return!!(t[n+(e>>jw)]&1<<e)}function Gw(e,n){return!(e&Pe.Self||e&Pe.Host&&n)}class Gt{constructor(n,t){this._tNode=n,this._lView=t}get(n,t,r){return $w(this._tNode,this._lView,n,Xc(r),t)}}function PR(){return new Gt(Ze(),O())}function Qt(e){return fi(()=>{const n=e.prototype.constructor,t=n[pi]||up(n),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const o=i[pi]||up(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function up(e){return Kc(e)?()=>{const n=up(le(e));return n&&n()}:mo(e)}function qw(e){const n=e[H],t=n.type;return 2===t?n.declTNode:1===t?e[un]:null}function Yw(e,n=null,t=null,r){const i=Zw(e,n,t,r);return i.resolveInjectorInitializers(),i}function Zw(e,n=null,t=null,r,i=new Set){const o=[t||Le,E1(e)];return r=r||("object"==typeof e?void 0:$t(e)),new ls(o,n||cu(),r||null,i)}let bn=(()=>{class e{static{this.THROW_IF_NOT_FOUND=La}static{this.NULL=new iu}static create(t,r){if(Array.isArray(t))return Yw({name:""},r,t,"");{const i=t.name??"";return Yw({name:i},t.parent,t.providers,i)}}static{this.\u0275prov=q({token:e,providedIn:"any",factory:()=>Y(qv)})}static{this.__NG_ELEMENT_ID__=-1}}return e})();function hp(e){return e.ngOriginalError}class Jr{constructor(){this._console=console}handleError(n){const t=this._findOriginalError(n);this._console.error("ERROR",n),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(n){let t=n&&hp(n);for(;t&&hp(t);)t=hp(t);return t||null}}const eC=new K("",{providedIn:"root",factory:()=>j(Jr).handleError.bind(void 0)});let ws=(()=>{class e{static{this.__NG_ELEMENT_ID__=UR}static{this.__NG_ENV_ID__=t=>t}}return e})();class VR extends ws{constructor(n){super(),this._lView=n}onDestroy(n){return gu(this._lView,n),()=>function Qf(e,n){if(null===e[Li])return;const t=e[Li].indexOf(n);-1!==t&&e[Li].splice(t,1)}(this._lView,n)}}function UR(){return new VR(O())}function BR(){return Cs(Ze(),O())}function Cs(e,n){return new Wn(wn(e,n))}let Wn=(()=>{class e{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=BR}}return e})();function nC(e){return e instanceof Wn?e.nativeElement:e}function fp(e){return n=>{setTimeout(e,void 0,n)}}const Mt=class $R extends Tn{constructor(n=!1){super(),this.destroyRef=void 0,this.__isAsync=n,sw()&&(this.destroyRef=j(ws,{optional:!0})??void 0)}emit(n){const t=L(null);try{super.next(n)}finally{L(t)}}subscribe(n,t,r){let i=n,o=t||(()=>null),s=r;if(n&&"object"==typeof n){const l=n;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=fp(o),i&&(i=fp(i)),s&&(s=fp(s)));const a=super.subscribe({next:i,error:o,complete:s});return n instanceof at&&n.add(a),a}};function HR(){return this._results[Symbol.iterator]()}class pp{get changes(){return this._changes??=new Mt}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const t=pp.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=HR)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,t){return this._results.reduce(n,t)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,t){this.dirty=!1;const r=function Pn(e){return e.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function s1(e,n,t){if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=n[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function Su(e){return!(128&~e.flags)}const gp=new Map;let GR=0;const yp="__ngContext__";function pn(e,n){dn(n)?(e[yp]=n[za],function WR(e){gp.set(e[za],e)}(n)):e[yp]=n}function hC(e){return pC(e[$a])}function fC(e){return pC(e[Er])}function pC(e){for(;null!==e&&!hn(e);)e=e[Er];return e}let _p;const Tu=new K("",{providedIn:"root",factory:()=>dk}),dk="ng",bC=new K(""),Vi=new K("",{providedIn:"platform",factory:()=>"unknown"}),EC=new K(""),DC=new K("",{providedIn:"root",factory:()=>function ji(){if(void 0!==_p)return _p;if(typeof document<"u")return document;throw new I(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let SC=()=>null;function Mp(e,n,t=!1){return SC(e,n,t)}const PC=new K("",{providedIn:"root",factory:()=>!1});class xC{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Pv})`}}function Ui(e){return e instanceof xC?e.changingThisBreaksApplicationSecurity:e}const Nk=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Ss=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Ss||{});function Ms(e){const n=function cl(){const e=O();return e&&e[Dr].sanitizer}();return n?n.sanitize(Ss.URL,e)||"":function al(e,n){const t=function Pk(e){return e instanceof xC&&e.getTypeName()||null}(e);if(null!=t&&t!==n){if("ResourceURL"===t&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${t} (see ${Pv})`)}return t===n}(e,"URL")?Ui(e):function Rp(e){return(e=String(e)).match(Nk)?e:"unsafe:"+e}(ye(e))}function Kn(e){return e instanceof Function?e():e}var Bi=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Bi||{});let Vp;function Up(e,n){return Vp(e,n)}function Ts(e,n,t,r,i){if(null!=r){let o,s=!1;hn(r)?o=r:dn(r)&&(s=!0,r=r[yt]);const a=rt(r);0===e&&null!==t?null==i?rb(n,t,a):Do(n,t,a,i||null,!0):1===e&&null!==t?Do(n,t,a,i||null,!0):2===e?function hl(e,n,t){const r=$u(e,n);r&&function yN(e,n,t,r){e.removeChild(n,t,r)}(e,r,n,t)}(n,a,s):3===e&&n.destroyNode(a),null!=o&&function wN(e,n,t,r,i){const o=t[Hr];o!==rt(t)&&Ts(n,e,r,o,i);for(let a=At;a<t.length;a++){const l=t[a];zu(l[H],l,e,n,r,o)}}(n,e,o,t,i)}}function Uu(e,n,t){return e.createElement(n,t)}function eb(e,n){n[Dr].changeDetectionScheduler?.notify(1),zu(e,n,n[ue],2,null,null)}function tb(e,n){const t=e[ps],r=t.indexOf(n);t.splice(r,1)}function ul(e,n){if(e.length<=At)return;const t=At+n,r=e[t];if(r){const i=r[Ha];null!==i&&i!==e&&tb(i,r),n>0&&(e[t-1][Er]=r[Er]);const o=nu(e,At+n);!function uN(e,n){eb(e,n),n[yt]=null,n[un]=null}(r[H],r);const s=o[gi];null!==s&&s.detachView(o[H]),r[Tt]=null,r[Er]=null,r[te]&=-129}return r}function Bu(e,n){if(!(256&n[te])){const t=n[ue];t.destroyNode&&zu(e,n,t,3,null,null),function hN(e){let n=e[$a];if(!n)return Hp(e[H],e);for(;n;){let t=null;if(dn(n))t=n[$a];else{const r=n[At];r&&(t=r)}if(!t){for(;n&&!n[Er]&&n!==e;)dn(n)&&Hp(n[H],n),n=n[Tt];null===n&&(n=e),dn(n)&&Hp(n[H],n),t=n&&n[Er]}n=t}}(n)}}function Hp(e,n){if(256&n[te])return;const t=L(null);try{n[te]&=-129,n[te]|=256,n[vo]&&function Zo(e){if(ki(e),Un(e))for(let n=0;n<e.producerNode.length;n++)sr(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}(n[vo]),function mN(e,n){let t;if(null!=e&&null!=(t=e.destroyHooks))for(let r=0;r<t.length;r+=2){const i=n[t[r]];if(!(i instanceof Ya)){const o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],l=o[s+1];zr(4,a,l);try{l.call(a)}finally{zr(5,a,l)}}else{zr(4,i,o);try{o.call(i)}finally{zr(5,i,o)}}}}}(e,n),function gN(e,n){const t=e.cleanup,r=n[ds];if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else t[o].call(r[t[o+1]]);null!==r&&(n[ds]=null);const i=n[Li];if(null!==i){n[Li]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(e,n),1===n[H].type&&n[ue].destroy();const r=n[Ha];if(null!==r&&hn(n[Tt])){r!==n[Tt]&&tb(r,n);const i=n[gi];null!==i&&i.detachView(e)}!function KR(e){gp.delete(e[za])}(n)}finally{L(t)}}function zp(e,n,t){return function nb(e,n,t){let r=n;for(;null!==r&&40&r.type;)r=(n=r).parent;if(null===r)return t[yt];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=e.data[r.directiveStart+i];if(o===wr.None||o===wr.Emulated)return null}return wn(r,t)}}(e,n.parent,t)}function Do(e,n,t,r,i){e.insertBefore(n,t,r,i)}function rb(e,n,t){e.appendChild(n,t)}function ib(e,n,t,r,i){null!==r?Do(e,n,t,r,i):rb(e,n,t)}function $u(e,n){return e.parentNode(n)}let Gp,ab=function sb(e,n,t){return 40&e.type?wn(e,t):null};function Hu(e,n,t,r){const i=zp(e,r,n),o=n[ue],a=function ob(e,n,t){return ab(e,n,t)}(r.parent||n[un],r,n);if(null!=i)if(Array.isArray(t))for(let l=0;l<t.length;l++)ib(o,i,t[l],a,!1);else ib(o,i,t,a,!1);void 0!==Gp&&Gp(o,r,n,t,i)}function dl(e,n){if(null!==n){const t=n.type;if(3&t)return wn(n,e);if(4&t)return qp(-1,e[n.index]);if(8&t){const r=n.child;if(null!==r)return dl(e,r);{const i=e[n.index];return hn(i)?qp(-1,i):rt(i)}}if(32&t)return Up(n,e)()||rt(e[n.index]);{const r=cb(e,n);return null!==r?Array.isArray(r)?r[0]:dl(Co(e[Ct]),r):dl(e,n.next)}}return null}function cb(e,n){return null!==n?e[Ct][un].projection[n.projection]:null}function qp(e,n){const t=At+e+1;if(t<n.length){const r=n[t],i=r[H].firstChild;if(null!==i)return dl(r,i)}return n[Hr]}function Wp(e,n,t,r,i,o,s){for(;null!=t;){const a=r[t.index],l=t.type;if(s&&0===n&&(a&&pn(rt(a),r),t.flags|=2),32&~t.flags)if(8&l)Wp(e,n,t.child,r,i,o,!1),Ts(n,e,i,a,o);else if(32&l){const c=Up(t,r);let u;for(;u=c();)Ts(n,e,i,u,o);Ts(n,e,i,a,o)}else 16&l?db(e,n,r,t,i,o):Ts(n,e,i,a,o);t=s?t.projectionNext:t.next}}function zu(e,n,t,r,i,o){Wp(t,r,e.firstChild,n,i,o,!1)}function db(e,n,t,r,i,o){const s=t[Ct],l=s[un].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Ts(n,e,i,l[c],o);else{let c=l;const u=s[Tt];Su(r)&&(c.flags|=128),Wp(e,n,c,u,i,o,!0)}}function hb(e,n,t){""===t?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function fb(e,n,t){const{mergedAttrs:r,classes:i,styles:o}=t;null!==r&&Af(e,n,r),null!==i&&hb(e,n,i),null!==o&&function bN(e,n,t){e.setAttribute(n,"style",t)}(e,n,o)}const Ce={};function _(e=1){pb(Oe(),O(),fn()+e,!1)}function pb(e,n,t,r){if(!r)if(3&~n[te]){const o=e.preOrderHooks;null!==o&&vu(n,o,0,t)}else{const o=e.preOrderCheckHooks;null!==o&&_u(n,o,t)}bo(t)}function D(e,n=Pe.Default){const t=O();return null===t?Y(e,n):$w(Ze(),t,le(e),n)}function mb(e,n,t,r,i,o){const s=L(null);try{let a=null;i&pt.SignalBased&&(a=n[r][P]),null!==a&&void 0!==a.transformFn&&(o=a.transformFn(o)),i&pt.HasDecoratorInputTransform&&(o=e.inputTransforms[r].call(n,o)),null!==e.setInput?e.setInput(n,a,o,t,r):fw(n,a,r,o)}finally{L(s)}}function Gu(e,n,t,r,i,o,s,a,l,c,u){const d=n.blueprint.slice();return d[yt]=i,d[te]=204|r,(null!==c||e&&2048&e[te])&&(d[te]|=2048),ww(d),d[Tt]=d[hs]=e,d[ct]=t,d[Dr]=s||e&&e[Dr],d[ue]=a||e&&e[ue],d[xt]=l||e&&e[xt]||null,d[un]=o,d[za]=function qR(){return GR++}(),d[Gn]=u,d[cw]=c,d[Ct]=2==n.type?e[Ct]:d,d}function As(e,n,t,r,i){let o=e.data[n];if(null===o)o=function Kp(e,n,t,r,i){const o=Dw(),s=Yf(),l=e.data[n]=function PN(e,n,t,r,i,o){let s=n?n.injectorIndex:-1,a=0;return function ms(){return null!==de.skipHydrationRootTNode}()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,n,r,i);return null===e.firstChild&&(e.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l,l.prev=o)),l}(e,n,t,r,i),function cR(){return de.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=r,o.attrs=i;const s=function Ja(){const e=de.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return qr(o,!0),o}function fl(e,n,t,r){if(0===t)return-1;const i=n.length;for(let o=0;o<t;o++)n.push(r),e.blueprint.push(r),e.data.push(null);return i}function yb(e,n,t,r,i){const o=fn(),s=2&r;try{bo(-1),s&&n.length>_e&&pb(e,n,_e,!1),zr(s?2:0,i),t(r,i)}finally{bo(o),zr(s?3:1,i)}}function Jp(e,n,t){if(Bf(n)){const r=L(null);try{const o=n.directiveEnd;for(let s=n.directiveStart;s<o;s++){const a=e.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}finally{L(r)}}}function Qp(e,n,t){Ew()&&(function LN(e,n,t,r){const i=t.directiveStart,o=t.directiveEnd;wo(t)&&function zN(e,n,t){const r=wn(n,e),i=_b(t);let s=16;t.signals?s=4096:t.onPush&&(s=64);const a=qu(e,Gu(e,i,null,s,r,n,null,e[Dr].rendererFactory.createRenderer(r,t),null,null,null));e[n.index]=a}(n,t,e.data[i+t.componentOffset]),e.firstCreatePass||Cu(t,n),pn(r,n);const s=t.initialInputs;for(let a=i;a<o;a++){const l=e.data[a],c=Eo(n,e,a,t);pn(c,n),null!==s&&GN(0,a-i,c,l,0,s),Sr(l)&&(qn(t.index,n)[ct]=Eo(n,e,a,t))}}(e,n,t,wn(t,n)),!(64&~t.flags)&&Eb(e,n,t))}function Yp(e,n,t=wn){const r=n.localNames;if(null!==r){let i=n.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?t(n,e):e[s];e[i++]=a}}}function _b(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=Zp(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function Zp(e,n,t,r,i,o,s,a,l,c,u){const d=_e+r,h=d+i,f=function DN(e,n){const t=[];for(let r=0;r<n;r++)t.push(r<e?null:Ce);return t}(d,h),p="function"==typeof c?c():c;return f[H]={type:e,blueprint:f,template:t,queries:null,viewQuery:a,declTNode:n,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:u}}let vb=()=>null;function wb(e,n,t,r,i){for(let o in n){if(!n.hasOwnProperty(o))continue;const s=n[o];if(void 0===s)continue;r??={};let a,l=pt.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let c=o;if(null!==i){if(!i.hasOwnProperty(o))continue;c=i[o]}0===e?Cb(r,t,c,a,l):Cb(r,t,c,a)}return r}function Cb(e,n,t,r,i){let o;e.hasOwnProperty(t)?(o=e[t]).push(n,r):o=e[t]=[n,r],void 0!==i&&o.push(i)}function kn(e,n,t,r,i,o,s,a){const l=wn(n,t);let u,c=n.inputs;!a&&null!=c&&(u=c[r])?(rg(e,t,u,r,i),wo(n)&&function kN(e,n){const t=qn(n,e);16&t[te]||(t[te]|=64)}(t,n.index)):3&n.type&&(r=function RN(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=s?s(i,n.value||"",r):i,o.setProperty(l,r,i))}function Xp(e,n,t,r){if(Ew()){const i=null===r?null:{"":-1},o=function VN(e,n){const t=e.directiveRegistry;let r=null,i=null;if(t)for(let o=0;o<t.length;o++){const s=t[o];if(Yv(n,s.selectors,!1))if(r||(r=[]),Sr(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),eg(e,n,a.length)}else r.unshift(s),eg(e,n,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(e,t);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&bb(e,n,t,s,i,a),i&&function UN(e,n,t){if(n){const r=e.localNames=[];for(let i=0;i<n.length;i+=2){const o=t[n[i+1]];if(null==o)throw new I(-301,!1);r.push(n[i],o)}}}(t,r,i)}t.mergedAttrs=Va(t.mergedAttrs,t.attrs)}function bb(e,n,t,r,i,o){for(let c=0;c<r.length;c++)cp(Cu(t,n),e,r[c].type);!function $N(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}(t,e.data.length,r.length);for(let c=0;c<r.length;c++){const u=r[c];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,l=fl(e,n,r.length,null);for(let c=0;c<r.length;c++){const u=r[c];t.mergedAttrs=Va(t.mergedAttrs,u.hostAttrs),HN(e,t,n,l,u),BN(l,u,i),null!==u.contentQueries&&(t.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(t.flags|=64);const d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}!function ON(e,n,t){const i=n.directiveEnd,o=e.data,s=n.attrs,a=[];let l=null,c=null;for(let u=n.directiveStart;u<i;u++){const d=o[u],h=t?t.get(d):null,p=h?h.outputs:null;l=wb(0,d.inputs,u,l,h?h.inputs:null),c=wb(1,d.outputs,u,c,p);const g=null===l||null===s||Pf(n)?null:qN(l,u,s);a.push(g)}null!==l&&(l.hasOwnProperty("class")&&(n.flags|=8),l.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=a,n.inputs=l,n.outputs=c}(e,t,o)}function Eb(e,n,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,s=function dR(){return de.lFrame.currentDirectiveIndex}();try{bo(o);for(let a=r;a<i;a++){const l=e.data[a],c=n[a];Xf(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&jN(l,c)}}finally{bo(-1),Xf(s)}}function jN(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function eg(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function BN(e,n,t){if(t){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)t[n.exportAs[r]]=e;Sr(n)&&(t[""]=e)}}function HN(e,n,t,r,i){e.data[r]=i;const o=i.factory||(i.factory=mo(i.type)),s=new Ya(o,Sr(i),D);e.blueprint[r]=s,t[r]=s,function xN(e,n,t,r,i){const o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);const a=~n.index;(function FN(e){let n=e.length;for(;n>0;){const t=e[--n];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,r,o)}}(e,n,r,fl(e,t,i.hostVars,Ce),i)}function Qr(e,n,t,r,i,o){const s=wn(e,n);!function tg(e,n,t,r,i,o,s){if(null==o)e.removeAttribute(n,i,t);else{const a=null==s?ye(o):s(o,r||"",i);e.setAttribute(n,i,a,t)}}(n[ue],s,o,e.value,t,r,i)}function GN(e,n,t,r,i,o){const s=o[n];if(null!==s)for(let a=0;a<s.length;)mb(r,t,s[a++],s[a++],s[a++],s[a++])}function qN(e,n,t){let r=null,i=0;for(;i<t.length;){const o=t[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(e.hasOwnProperty(o)){null===r&&(r=[]);const s=e[o];for(let a=0;a<s.length;a+=3)if(s[a]===n){r.push(o,s[a+1],s[a+2],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function Db(e,n,t,r){return[e,!0,0,n,null,r,null,t,null,null]}function Sb(e,n){const t=e.contentQueries;if(null!==t){const r=L(null);try{for(let i=0;i<t.length;i+=2){const s=t[i+1];if(-1!==s){const a=e.data[s];mu(t[i]),a.contentQueries(2,n[s],s)}}}finally{L(r)}}}function qu(e,n){return e[$a]?e[lw][Er]=n:e[$a]=n,e[lw]=n,n}function ng(e,n,t){mu(0);const r=L(null);try{n(e,t)}finally{L(r)}}function Mb(e){return e[ds]||(e[ds]=[])}function Ib(e){return e.cleanup||(e.cleanup=[])}function Wu(e,n){const t=e[xt],r=t?t.get(Jr,null):null;r&&r.handleError(n)}function rg(e,n,t,r,i){for(let o=0;o<t.length;){const s=t[o++],a=t[o++],l=t[o++];mb(e.data[s],n[s],r,a,l,i)}}function vi(e,n,t){const r=qa(n,e);!function XC(e,n,t){e.setValue(n,t)}(e[ue],r,t)}function WN(e,n){const t=qn(n,e),r=t[H];!function KN(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}(r,t);const i=t[yt];null!==i&&null===t[Gn]&&(t[Gn]=Mp(i,t[xt])),ig(r,t,t[ct])}function ig(e,n,t){np(n);try{const r=e.viewQuery;null!==r&&ng(1,r,t);const i=e.template;null!==i&&yb(e,n,i,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),n[gi]?.finishViewCreation(e),e.staticContentQueries&&Sb(e,n),e.staticViewQueries&&ng(2,e.viewQuery,t);const o=e.components;null!==o&&function JN(e,n){for(let t=0;t<n.length;t++)WN(e,n[t])}(n,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{n[te]&=-5,rp()}}function Ps(e,n){return!n||null===n.firstChild||Su(e)}function gl(e,n,t,r=!0){const i=n[H];if(function fN(e,n,t,r){const i=At+r,o=t.length;r>0&&(t[i-1][Er]=n),r<o-At?(n[Er]=t[i],Hv(t,At+r,n)):(t.push(n),n[Er]=null),n[Tt]=t;const s=n[Ha];null!==s&&t!==s&&function pN(e,n){const t=e[ps];n[Ct]!==n[Tt][Tt][Ct]&&(e[te]|=Uf.HasTransplantedViews),null===t?e[ps]=[n]:t.push(n)}(s,n);const a=n[gi];null!==a&&a.insertView(e),Jf(n),n[te]|=128}(i,n,e,t),r){const s=qp(t,e),a=n[ue],l=$u(a,e[Hr]);null!==l&&function dN(e,n,t,r,i,o){r[yt]=i,r[un]=n,zu(e,r,t,1,i,o)}(i,e[un],a,n,l,s)}const o=n[Gn];null!==o&&null!==o.firstChild&&(o.firstChild=null)}function ml(e,n,t,r,i=!1){for(;null!==t;){const o=n[t.index];null!==o&&r.push(rt(o)),hn(o)&&Pb(o,r);const s=t.type;if(8&s)ml(e,n,t.child,r);else if(32&s){const a=Up(t,n);let l;for(;l=a();)r.push(l)}else if(16&s){const a=cb(n,t);if(Array.isArray(a))r.push(...a);else{const l=Co(n[Ct]);ml(l[H],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function Pb(e,n){for(let t=At;t<e.length;t++){const r=e[t],i=r[H].firstChild;null!==i&&ml(r[H],r,i,n)}e[Hr]!==e[yt]&&n.push(e[Hr])}let Ob=[];const XN={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Ka(e.lView)},consumerOnSignalRead(){this.lView[vo]=this}},Rb=100;function Ku(e,n=!0,t=0){const r=e[Dr],i=r.rendererFactory;i.begin?.();try{!function ex(e,n){sg(e,n);let t=0;for(;Kf(e);){if(t===Rb)throw new I(103,!1);t++,sg(e,1)}}(e,t)}catch(s){throw n&&Wu(e,s),s}finally{i.end?.(),r.inlineEffectRunner?.flush()}}function tx(e,n,t,r){const i=n[te];if(!(256&~i))return;n[Dr].inlineEffectRunner?.flush(),np(n);let s=null,a=null;(function nx(e){return 2!==e.type})(e)&&(a=function QN(e){return e[vo]??function YN(e){const n=Ob.pop()??Object.create(XN);return n.lView=e,n}(e)}(n),s=function mt(e){return e&&(e.nextProducerIndex=0),L(e)}(a));try{ww(n),function Mw(e){return de.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==t&&yb(e,n,t,2,r);const l=!(3&~i);if(l){const d=e.preOrderCheckHooks;null!==d&&_u(n,d,null)}else{const d=e.preOrderHooks;null!==d&&vu(n,d,0,null),ip(n,0)}if(function rx(e){for(let n=hC(e);null!==n;n=fC(n)){if(!(n[te]&Uf.HasTransplantedViews))continue;const t=n[ps];for(let r=0;r<t.length;r++){X1(t[r])}}}(n),kb(n,0),null!==e.contentQueries&&Sb(e,n),l){const d=e.contentCheckHooks;null!==d&&_u(n,d)}else{const d=e.contentHooks;null!==d&&vu(n,d,1),ip(n,1)}!function EN(e,n){const t=e.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)bo(~i);else{const o=i,s=t[++r],a=t[++r];uR(s,o),a(2,n[o])}}}finally{bo(-1)}}(e,n);const c=e.components;null!==c&&xb(n,c,0);const u=e.viewQuery;if(null!==u&&ng(2,u,r),l){const d=e.viewCheckHooks;null!==d&&_u(n,d)}else{const d=e.viewHooks;null!==d&&vu(n,d,2),ip(n,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[hu]){for(const d of n[hu])d();n[hu]=null}n[te]&=-73}catch(l){throw Ka(n),l}finally{null!==a&&(function Vn(e,n){if(L(n),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Un(e))for(let t=e.nextProducerIndex;t<e.producerNode.length;t++)sr(e.producerNode[t],e.producerIndexOfThis[t]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}(a,s),function ZN(e){e.lView[vo]!==e&&(e.lView=null,Ob.push(e))}(a)),rp()}}function kb(e,n){for(let t=hC(e);null!==t;t=fC(t))for(let r=At;r<t.length;r++)Nb(t[r],n)}function ix(e,n,t){Nb(qn(n,e),t)}function Nb(e,n){Wf(e)&&sg(e,n)}function sg(e,n){const r=e[H],i=e[te],o=e[vo];let s=!!(0===n&&16&i);if(s||=!!(64&i&&0===n),s||=!!(1024&i),s||=!(!o?.dirty||!Ut(o)),o&&(o.dirty=!1),e[te]&=-9217,s)tx(r,e,r.template,e[ct]);else if(8192&i){kb(e,1);const a=r.components;null!==a&&xb(e,a,1)}}function xb(e,n,t){for(let r=0;r<n.length;r++)ix(e,n[r],t)}function yl(e){for(e[Dr].changeDetectionScheduler?.notify();e;){e[te]|=64;const n=Co(e);if($f(e)&&!n)return e;e=n}return null}class _l{get rootNodes(){const n=this._lView,t=n[H];return ml(t,n,t.firstChild,[])}constructor(n,t,r=!0){this._lView=n,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ct]}set context(n){this._lView[ct]=n}get destroyed(){return!(256&~this._lView[te])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Tt];if(hn(n)){const t=n[8],r=t?t.indexOf(this):-1;r>-1&&(ul(n,r),nu(t,r))}this._attachedToViewContainer=!1}Bu(this._lView[H],this._lView)}onDestroy(n){gu(this._lView,n)}markForCheck(){yl(this._cdRefInjectingView||this._lView)}detach(){this._lView[te]&=-129}reattach(){Jf(this._lView),this._lView[te]|=128}detectChanges(){this._lView[te]|=1024,Ku(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new I(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,eb(this._lView[H],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new I(902,!1);this._appRef=n,Jf(this._lView)}}let wi=(()=>{class e{static{this.__NG_ELEMENT_ID__=ax}}return e})();const ox=wi,sx=class extends ox{constructor(n,t,r){super(),this._declarationLView=n,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,t){return this.createEmbeddedViewImpl(n,t)}createEmbeddedViewImpl(n,t,r){const i=function pl(e,n,t,r){const i=L(null);try{const o=n.tView,l=Gu(e,o,t,4096&e[te]?4096:16,null,n,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null);l[Ha]=e[n.index];const u=e[gi];return null!==u&&(l[gi]=u.createEmbeddedView(o)),ig(o,l,t),l}finally{L(i)}}(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:t,dehydratedView:r});return new _l(i)}};function ax(){return Ju(Ze(),O())}function Ju(e,n){return 4&e.type?new sx(n,e,Cs(e,n)):null}class ed{}class Ox{}class $b{}class kx{resolveComponentFactory(n){throw function Rx(e){const n=Error(`No component factory found for ${$t(e)}.`);return n.ngComponent=e,n}(n)}}let td=(()=>{class e{static{this.NULL=new kx}}return e})();class hg{}let Ci=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function Nx(){const e=O(),t=qn(Ze().index,e);return(dn(t)?t:e)[ue]}()}}return e})(),xx=(()=>{class e{static{this.\u0275prov=q({token:e,providedIn:"root",factory:()=>null})}}return e})();const fg={},zb=new Set;function Yr(e){zb.has(e)||(zb.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function Gb(...e){}class Ge{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Mt(!1),this.onMicrotaskEmpty=new Mt(!1),this.onStable=new Mt(!1),this.onError=new Mt(!1),typeof Zone>"u")throw new I(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function Fx(){const e="function"==typeof Je.requestAnimationFrame;let n=Je[e?"requestAnimationFrame":"setTimeout"],t=Je[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&t){const r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function Vx(e){const n=()=>{!function jx(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Je,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,gg(e),e.isCheckStableRunning=!0,pg(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),gg(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,o,s,a)=>{if(function Ux(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(i,o,s,a);try{return qb(e),t.invokeTask(i,o,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&n(),Wb(e)}},onInvoke:(t,r,i,o,s,a,l)=>{try{return qb(e),t.invoke(i,o,s,a,l)}finally{e.shouldCoalesceRunChangeDetection&&n(),Wb(e)}},onHasTask:(t,r,i,o)=>{t.hasTask(i,o),r===i&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,gg(e),pg(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,r,i,o)=>(t.handleError(i,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ge.isInAngularZone())throw new I(909,!1)}static assertNotInAngularZone(){if(Ge.isInAngularZone())throw new I(909,!1)}run(n,t,r){return this._inner.run(n,t,r)}runTask(n,t,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,n,Lx,Gb,Gb);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(n,t,r){return this._inner.runGuarded(n,t,r)}runOutsideAngular(n){return this._outer.run(n)}}const Lx={};function pg(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function gg(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function qb(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Wb(e){e._nesting--,pg(e)}class Kb{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Mt,this.onMicrotaskEmpty=new Mt,this.onStable=new Mt,this.onError=new Mt}run(n,t,r){return n.apply(t,r)}runGuarded(n,t,r){return n.apply(t,r)}runOutsideAngular(n){return n()}runTask(n,t,r,i){return n.apply(t,r)}}var So=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(So||{});const Jb={destroy(){}};function yg(e,n){!n&&function uu(e){if(!sw())throw new I(-203,!1)}();const t=n?.injector??j(bn);if(!function Ir(e){return"browser"===(e??j(bn)).get(Vi)}(t))return Jb;Yr("NgAfterNextRender");const r=t.get(El),i=r.handler??=new Yb,o=n?.phase??So.MixedReadWrite,s=()=>{i.unregister(l),a()},a=t.get(ws).onDestroy(s),l=$r(t,()=>new Qb(o,()=>{s(),e()}));return i.register(l),{destroy:s}}class Qb{constructor(n,t){this.phase=n,this.callbackFn=t,this.zone=j(Ge),this.errorHandler=j(Jr,{optional:!0}),j(ed,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(n){this.errorHandler?.handleError(n)}}}class Yb{constructor(){this.executingCallbacks=!1,this.buckets={[So.EarlyRead]:new Set,[So.Write]:new Set,[So.MixedReadWrite]:new Set,[So.Read]:new Set},this.deferredCallbacks=new Set}register(n){(this.executingCallbacks?this.deferredCallbacks:this.buckets[n.phase]).add(n)}unregister(n){this.buckets[n.phase].delete(n),this.deferredCallbacks.delete(n)}execute(){this.executingCallbacks=!0;for(const n of Object.values(this.buckets))for(const t of n)t.invoke();this.executingCallbacks=!1;for(const n of this.deferredCallbacks)this.buckets[n.phase].add(n);this.deferredCallbacks.clear()}destroy(){for(const n of Object.values(this.buckets))n.clear();this.deferredCallbacks.clear()}}let El=(()=>{class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const t=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const r of t)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=q({token:e,providedIn:"root",factory:()=>new e})}}return e})();function rd(e,n,t){let r=t?e.styles:null,i=t?e.classes:null,o=0;if(null!==n)for(let s=0;s<n.length;s++){const a=n[s];"number"==typeof a?o=a:1==o?i=ff(i,a):2==o&&(r=ff(r,a+": "+n[++s]+";"))}t?e.styles=r:e.stylesWithoutHost=r,t?e.classes=i:e.classesWithoutHost=i}class e0 extends td{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const t=Te(n);return new Ml(t,this.ngModule)}}function t0(e){const n=[];for(const t in e){if(!e.hasOwnProperty(t))continue;const r=e[t];void 0!==r&&n.push({propName:Array.isArray(r)?r[0]:r,templateName:t})}return n}class id{constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,r){r=Xc(r);const i=this.injector.get(n,fg,r);return i!==fg||t===fg?i:this.parentInjector.get(n,t,r)}}class Ml extends $b{get inputs(){const n=this.componentDef,t=n.inputTransforms,r=t0(n.inputs);if(null!==t)for(const i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return t0(this.componentDef.outputs)}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=function y1(e){return e.map(m1).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!t}create(n,t,r,i){const o=L(null);try{let s=(i=i||this.ngModule)instanceof vn?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const a=s?new id(n,s):n,l=a.get(hg,null);if(null===l)throw new I(407,!1);const c=a.get(xx,null),h={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:a.get(El,null),changeDetectionScheduler:a.get(ed,null)},f=l.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",g=r?function SN(e,n,t,r){const o=r.get(PC,!1)||t===wr.ShadowDom,s=e.selectRootElement(n,o);return function MN(e){vb(e)}(s),s}(f,r,this.componentDef.encapsulation,a):Uu(f,p,function Gx(e){const n=e.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(p));let v=512;this.componentDef.signals?v|=4096:this.componentDef.onPush||(v|=16);let b=null;null!==g&&(b=Mp(g,a,!0));const E=Zp(0,null,null,1,0,null,null,null,null,null,null),R=Gu(null,E,null,v,null,null,h,f,a,null,b);let F,V;np(R);try{const Q=this.componentDef;let ve,oe=null;Q.findHostDirectiveDefs?(ve=[],oe=new Map,Q.findHostDirectiveDefs(Q,ve,oe),ve.push(Q)):ve=[Q];const Qe=function Wx(e,n){const t=e[H],r=_e;return e[r]=n,As(t,r,2,"#host",null)}(R,g),sn=function Kx(e,n,t,r,i,o,s){const a=i[H];!function Jx(e,n,t,r){for(const i of e)n.mergedAttrs=Va(n.mergedAttrs,i.hostAttrs);null!==n.mergedAttrs&&(rd(n,n.mergedAttrs,!0),null!==t&&fb(r,t,n))}(r,e,n,s);let l=null;null!==n&&(l=Mp(n,i[xt]));const c=o.rendererFactory.createRenderer(n,t);let u=16;t.signals?u=4096:t.onPush&&(u=64);const d=Gu(i,_b(t),null,u,i[e.index],e,o,c,null,null,l);return a.firstCreatePass&&eg(a,e,r.length-1),qu(i,d),i[e.index]=d}(Qe,g,Q,ve,R,h,f);V=Wa(E,_e),g&&function Yx(e,n,t,r){if(r)Af(e,t,["ng-version","17.3.12"]);else{const{attrs:i,classes:o}=function _1(e){const n=[],t=[];let r=1,i=2;for(;r<e.length;){let o=e[r];if("string"==typeof o)2===i?""!==o&&n.push(o,e[++r]):8===i&&t.push(o);else{if(!Cr(i))break;i=o}r++}return{attrs:n,classes:t}}(n.selectors[0]);i&&Af(e,t,i),o&&o.length>0&&hb(e,t,o.join(" "))}}(f,Q,g,r),void 0!==t&&function Zx(e,n,t){const r=e.projection=[];for(let i=0;i<n.length;i++){const o=t[i];r.push(null!=o?Array.from(o):null)}}(V,this.ngContentSelectors,t),F=function Qx(e,n,t,r,i,o){const s=Ze(),a=i[H],l=wn(s,i);bb(a,i,s,t,null,r);for(let u=0;u<t.length;u++)pn(Eo(i,a,s.directiveStart+u,s),i);Eb(a,i,s),l&&pn(l,i);const c=Eo(i,a,s.directiveStart+s.componentOffset,s);if(e[ct]=i[ct]=c,null!==o)for(const u of o)u(c,n);return Jp(a,s,i),c}(sn,Q,ve,oe,R,[Xx]),ig(E,R,null)}finally{rp()}return new qx(this.componentType,F,Cs(V,R),R,V)}finally{L(o)}}}class qx extends Ox{constructor(n,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new _l(i,void 0,!1),this.componentType=n}setInput(n,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;const o=this._rootLView;rg(o[H],o,i,n,t),this.previousInputValues.set(n,t),yl(qn(this._tNode.index,o))}}get injector(){return new Gt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function Xx(){const e=Ze();yu(O()[H],e)}let Tr=(()=>{class e{static{this.__NG_ELEMENT_ID__=eF}}return e})();function eF(){return o0(Ze(),O())}const tF=Tr,n0=class extends tF{constructor(n,t,r){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=r}get element(){return Cs(this._hostTNode,this._hostLView)}get injector(){return new Gt(this._hostTNode,this._hostLView)}get parentInjector(){const n=bu(this._hostTNode,this._hostLView);if(sp(n)){const t=Xa(n,this._hostLView),r=Za(n);return new Gt(t[H].data[r+8],t)}return new Gt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const t=r0(this._lContainer);return null!==t&&t[n]||null}get length(){return this._lContainer.length-At}createEmbeddedView(n,t,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=n.createEmbeddedViewImpl(t||{},o,null);return this.insertImpl(a,i,Ps(this._hostTNode,null)),a}createComponent(n,t,r,i,o){const s=n&&!function Ba(e){return"function"==typeof e}(n);let a;if(s)a=t;else{const p=t||{};a=p.index,r=p.injector,i=p.projectableNodes,o=p.environmentInjector||p.ngModuleRef}const l=s?n:new Ml(Te(n)),c=r||this.parentInjector;if(!o&&null==l.ngModule){const g=(s?c:this.parentInjector).get(vn,null);g&&(o=g)}Te(l.componentType??{});const f=l.create(c,i,null,o);return this.insertImpl(f.hostView,a,Ps(this._hostTNode,null)),f}insert(n,t){return this.insertImpl(n,t,!0)}insertImpl(n,t,r){const i=n._lView;if(function Z1(e){return hn(e[Tt])}(i)){const a=this.indexOf(n);if(-1!==a)this.detach(a);else{const l=i[Tt],c=new n0(l,l[un],l[Tt]);c.detach(c.indexOf(n))}}const o=this._adjustIndex(t),s=this._lContainer;return gl(s,i,o,r),n.attachToViewContainerRef(),Hv(wg(s),o,n),n}move(n,t){return this.insert(n,t)}indexOf(n){const t=r0(this._lContainer);return null!==t?t.indexOf(n):-1}remove(n){const t=this._adjustIndex(n,-1),r=ul(this._lContainer,t);r&&(nu(wg(this._lContainer),t),Bu(r[H],r))}detach(n){const t=this._adjustIndex(n,-1),r=ul(this._lContainer,t);return r&&null!=nu(wg(this._lContainer),t)?new _l(r):null}_adjustIndex(n,t=0){return n??this.length+t}};function r0(e){return e[8]}function wg(e){return e[8]||(e[8]=[])}function o0(e,n){let t;const r=n[e.index];return hn(r)?t=r:(t=Db(r,n,null,e),n[e.index]=t,qu(n,t)),s0(t,n,e,r),new n0(t,e,n)}let s0=function l0(e,n,t,r){if(e[Hr])return;let i;i=8&t.type?rt(r):function nF(e,n){const t=e[ue],r=t.createComment(""),i=wn(n,e);return Do(t,$u(t,i),r,function _N(e,n){return e.nextSibling(n)}(t,i),!1),r}(n,t),e[Hr]=i},Cg=()=>!1;class bg{constructor(n){this.queryList=n,this.matches=null}clone(){return new bg(this.queryList)}setDirty(){this.queryList.setDirty()}}class Eg{constructor(n=[]){this.queries=n}createEmbeddedView(n){const t=n.queries;if(null!==t){const r=null!==n.contentQueries?n.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){const s=t.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new Eg(i)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let t=0;t<this.queries.length;t++)null!==Tg(n,t).matches&&this.queries[t].setDirty()}}class c0{constructor(n,t,r=null){this.flags=t,this.read=r,this.predicate="string"==typeof n?function uF(e){return e.split(",").map(n=>n.trim())}(n):n}}class Dg{constructor(n=[]){this.queries=n}elementStart(n,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(n,t)}elementEnd(n){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(n)}embeddedTView(n){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,o=this.getByIndex(r).embeddedTView(n,i);o&&(o.indexInDeclarationView=r,null!==t?t.push(o):t=[o])}return null!==t?new Dg(t):null}template(n,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(n,t)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Sg{constructor(n,t=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(n,t){this.isApplyingToNode(t)&&this.matchTNode(n,t)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,t){this.elementStart(n,t)}embeddedTView(n,t){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,t),new Sg(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1&~this.metadata.flags){const t=this._declarationNodeIndex;let r=n.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(n,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(n,t,sF(t,o)),this.matchTNodeWithReadOption(n,t,Eu(t,n,o,!1,!1))}else r===wi?4&t.type&&this.matchTNodeWithReadOption(n,t,-1):this.matchTNodeWithReadOption(n,t,Eu(t,n,r,!1,!1))}matchTNodeWithReadOption(n,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Wn||i===Tr||i===wi&&4&t.type)this.addMatch(t.index,-2);else{const o=Eu(t,n,i,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(n,t){null===this.matches?this.matches=[n,t]:this.matches.push(n,t)}}function sF(e,n){const t=e.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===n)return t[r+1];return null}function lF(e,n,t,r){return-1===t?function aF(e,n){return 11&e.type?Cs(e,n):4&e.type?Ju(e,n):null}(n,e):-2===t?function cF(e,n,t){return t===Wn?Cs(n,e):t===wi?Ju(n,e):t===Tr?o0(n,e):void 0}(e,n,r):Eo(e,e[H],t,n)}function u0(e,n,t,r){const i=n[gi].queries[r];if(null===i.matches){const o=e.data,s=t.matches,a=[];for(let l=0;null!==s&&l<s.length;l+=2){const c=s[l];a.push(c<0?null:lF(n,o[c],s[l+1],t.metadata.read))}i.matches=a}return i.matches}function Mg(e,n,t,r){const i=e.queries.getByIndex(t),o=i.matches;if(null!==o){const s=u0(e,n,i,t);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)r.push(s[a/2]);else{const c=o[a+1],u=n[-l];for(let d=At;d<u.length;d++){const h=u[d];h[Ha]===h[Tt]&&Mg(h[H],h,c,r)}if(null!==u[ps]){const d=u[ps];for(let h=0;h<d.length;h++){const f=d[h];Mg(f[H],f,c,r)}}}}}return r}function h0(e,n,t){const r=Oe();return r.firstCreatePass&&(function p0(e,n,t){null===e.queries&&(e.queries=new Dg),e.queries.track(new Sg(n,t))}(r,new c0(e,n,t),-1),!(2&~n)&&(r.staticViewQueries=!0)),function d0(e,n,t){const r=new pp(!(4&~t));return function AN(e,n,t,r){const i=Mb(n);i.push(t),e.firstCreatePass&&Ib(e).push(r,i.length-1)}(e,n,r,r.destroy),(n[gi]??=new Eg).queries.push(new bg(r))-1}(r,O(),n)}function Tg(e,n){return e.queries.getByIndex(n)}function g0(e,n){const t=e[H],r=Tg(t,n);return r.crossesNgTemplate?Mg(t,e,n,[]):u0(t,e,r,n)}function _0(e){return function m0(e){return"function"==typeof e&&void 0!==e[P]}(e)&&"function"==typeof e.set}function Xe(e){let n=function A0(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),t=!0;const r=[e];for(;n;){let i;if(Sr(e))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new I(903,!1);i=n.\u0275dir}if(i){if(t){r.push(i);const s=e;s.inputs=sd(e.inputs),s.inputTransforms=sd(e.inputTransforms),s.declaredInputs=sd(e.declaredInputs),s.outputs=sd(e.outputs);const a=i.hostBindings;a&&MF(e,a);const l=i.viewQuery,c=i.contentQueries;if(l&&DF(e,l),c&&SF(e,c),bF(e,i),LO(e.outputs,i.outputs),Sr(i)&&i.data.animation){const u=e.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(e),a===Xe&&(t=!1)}}n=Object.getPrototypeOf(n)}!function EF(e){let n=0,t=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=n+=i.hostVars,i.hostAttrs=Va(i.hostAttrs,t=Va(t,i.hostAttrs))}}(r)}function bF(e,n){for(const t in n.inputs){if(!n.inputs.hasOwnProperty(t)||e.inputs.hasOwnProperty(t))continue;const r=n.inputs[t];if(void 0!==r&&(e.inputs[t]=r,e.declaredInputs[t]=n.declaredInputs[t],null!==n.inputTransforms)){const i=Array.isArray(r)?r[0]:r;if(!n.inputTransforms.hasOwnProperty(i))continue;e.inputTransforms??={},e.inputTransforms[i]=n.inputTransforms[i]}}}function sd(e){return e===Br?{}:e===Le?[]:e}function DF(e,n){const t=e.viewQuery;e.viewQuery=t?(r,i)=>{n(r,i),t(r,i)}:n}function SF(e,n){const t=e.contentQueries;e.contentQueries=t?(r,i,o)=>{n(r,i,o),t(r,i,o)}:n}function MF(e,n){const t=e.hostBindings;e.hostBindings=t?(r,i)=>{n(r,i),t(r,i)}:n}class Mo{}class N0{}class Pg extends Mo{constructor(n,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new e0(this);const i=cn(n);this._bootstrapComponents=Kn(i.bootstrap),this._r3Injector=Zw(n,t,[{provide:Mo,useValue:this},{provide:td,useValue:this.componentFactoryResolver},...r],$t(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Og extends N0{constructor(n){super(),this.moduleType=n}create(n){return new Pg(this.moduleType,n,[])}}class x0 extends Mo{constructor(n){super(),this.componentFactoryResolver=new e0(this),this.instance=null;const t=new ls([...n.providers,{provide:Mo,useValue:this},{provide:td,useValue:this.componentFactoryResolver}],n.parent||cu(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function ad(e,n,t=null){return new x0({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}let zi=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Bn(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function cd(e){return!!Rg(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function Rg(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Pt(e,n,t){return!Object.is(e[n],t)&&(e[n]=t,!0)}function Io(e,n,t,r){const i=Pt(e,n,t);return Pt(e,n+1,r)||i}function W(e,n,t,r,i,o,s,a){const l=O(),c=Oe(),u=e+_e,d=c.firstCreatePass?function VF(e,n,t,r,i,o,s,a,l){const c=n.consts,u=As(n,e,4,s||null,Gr(c,a));Xp(n,t,u,Gr(c,l)),yu(n,u);const d=u.tView=Zp(2,u,r,i,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,c,null);return null!==n.queries&&(n.queries.template(n,u),d.queries=n.queries.embeddedTView(u)),u}(u,c,l,n,t,r,i,o,s):c.data[u];qr(d,!1);const h=F0(c,l,d,e);Qa()&&Hu(c,l,h,d),pn(h,l);const f=Db(h,l,h,d);return l[u]=f,qu(l,f),function a0(e,n,t){return Cg(e,n,t)}(f,d,l),pu(d)&&Qp(c,l,d),null!=s&&Yp(l,d,a),W}let F0=function L0(e,n,t,r){return Wr(!0),n[ue].createComment("")};function Xr(e,n,t,r){const i=O();return Pt(i,Mr(),n)&&(Oe(),Qr(ut(),i,e,n,t,r)),Xr}function $s(e,n,t,r,i,o,s,a){const c=function ud(e,n,t,r,i){const o=Io(e,n,t,r);return Pt(e,n+2,i)||o}(e,mi(),t,i,s);return yi(3),c?n+ye(t)+r+ye(i)+o+ye(s)+a:Ce}function md(e,n){return e<<17|n<<2}function qi(e){return e>>17&32767}function $g(e){return 2|e}function Ao(e){return(131068&e)>>2}function Hg(e,n){return-131069&e|n<<2}function zg(e){return 1|e}function pE(e,n,t,r){const i=e[t+1],o=null===n;let s=r?qi(i):Ao(i),a=!1;for(;0!==s&&(!1===a||o);){const c=e[s+1];SL(e[s],n)&&(a=!0,e[s+1]=r?zg(c):$g(c)),s=r?qi(c):Ao(c)}a&&(e[t+1]=r?$g(i):zg(i))}function SL(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&as(e,n)>=0}function S(e,n,t){const r=O();return Pt(r,Mr(),n)&&kn(Oe(),ut(),r,e,n,r[ue],t,!1),S}function Gg(e,n,t,r,i){const s=i?"class":"style";rg(e,t,n.inputs[s],s,r)}function Js(e,n){return function Ar(e,n,t,r){const i=O(),o=Oe(),s=yi(2);o.firstUpdatePass&&function EE(e,n,t,r){const i=e.data;if(null===i[t+1]){const o=i[fn()],s=function bE(e,n){return n>=e.expandoStartIndex}(e,t);(function IE(e,n){return!!(e.flags&(n?8:16))})(o,r)&&null===n&&!s&&(n=!1),n=function NL(e,n,t,r){const i=function ep(e){const n=de.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}(e);let o=r?n.residualClasses:n.residualStyles;if(null===i)0===(r?n.classBindings:n.styleBindings)&&(t=kl(t=qg(null,e,n,t,r),n.attrs,r),o=null);else{const s=n.directiveStylingLast;if(-1===s||e[s]!==i)if(t=qg(i,e,n,t,r),null===o){let l=function xL(e,n,t){const r=t?n.classBindings:n.styleBindings;if(0!==Ao(r))return e[qi(r)]}(e,n,r);void 0!==l&&Array.isArray(l)&&(l=qg(null,e,n,l[1],r),l=kl(l,n.attrs,r),function FL(e,n,t,r){e[qi(t?n.classBindings:n.styleBindings)]=r}(e,n,r,l))}else o=function LL(e,n,t){let r;const i=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<i;o++)r=kl(r,e[o].hostAttrs,t);return kl(r,n.attrs,t)}(e,n,r)}return void 0!==o&&(r?n.residualClasses=o:n.residualStyles=o),t}(i,o,n,r),function EL(e,n,t,r,i,o){let s=o?n.classBindings:n.styleBindings,a=qi(s),l=Ao(s);e[r]=t;let u,c=!1;if(Array.isArray(t)?(u=t[1],(null===u||as(t,u)>0)&&(c=!0)):u=t,i)if(0!==l){const h=qi(e[a+1]);e[r+1]=md(h,a),0!==h&&(e[h+1]=Hg(e[h+1],r)),e[a+1]=function CL(e,n){return 131071&e|n<<17}(e[a+1],r)}else e[r+1]=md(a,0),0!==a&&(e[a+1]=Hg(e[a+1],r)),a=r;else e[r+1]=md(l,0),0===a?a=r:e[l+1]=Hg(e[l+1],r),l=r;c&&(e[r+1]=$g(e[r+1])),pE(e,u,r,!0),pE(e,u,r,!1),function DL(e,n,t,r,i){const o=i?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof n&&as(o,n)>=0&&(t[r+1]=zg(t[r+1]))}(n,u,e,r,o),s=md(a,l),o?n.classBindings=s:n.styleBindings=s}(i,o,n,t,s,r)}}(o,e,s,r),n!==Ce&&Pt(i,s,n)&&function SE(e,n,t,r,i,o,s,a){if(!(3&n.type))return;const l=e.data,c=l[a+1],u=function bL(e){return!(1&~e)}(c)?ME(l,n,t,i,Ao(c),s):void 0;yd(u)||(yd(o)||function wL(e){return!(2&~e)}(c)&&(o=ME(l,null,t,i,a,s)),function CN(e,n,t,r,i){if(n)i?e.addClass(t,r):e.removeClass(t,r);else{let o=-1===r.indexOf("-")?void 0:Bi.DashCase;null==i?e.removeStyle(t,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Bi.Important),e.setStyle(t,r,i,o))}}(r,s,qa(fn(),t),i,o))}(o,o.data[fn()],i,i[ue],e,i[s+1]=function BL(e,n){return null==e||""===e||("string"==typeof n?e+=n:"object"==typeof e&&(e=$t(Ui(e)))),e}(n,t),r,s)}(e,n,null,!0),Js}function qg(e,n,t,r,i){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=n[a],r=kl(r,o.hostAttrs,i),o!==e);)a++;return null!==e&&(t.directiveStylingLast=a),r}function kl(e,n,t){const r=t?1:2;let i=-1;if(null!==n)for(let o=0;o<n.length;o++){const s=n[o];"number"==typeof s?i=s:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),zn(e,s,!!t||n[++o]))}return void 0===e?null:e}function ME(e,n,t,r,i,o){const s=null===n;let a;for(;i>0;){const l=e[i],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=t[i+1];h===Ce&&(h=d?Le:void 0);let f=d?If(h,r):u===r?h:void 0;if(c&&!yd(f)&&(f=If(l,r)),yd(f)&&(a=f,s))return a;const p=e[i+1];i=s?qi(p):Ao(p)}if(null!==n){let l=o?n.residualClasses:n.residualStyles;null!=l&&(a=If(l,r))}return a}function yd(e){return void 0!==e}function m(e,n,t,r){const i=O(),o=Oe(),s=_e+e,a=i[ue],l=o.firstCreatePass?function uj(e,n,t,r,i,o){const s=n.consts,l=As(n,e,2,r,Gr(s,i));return Xp(n,t,l,Gr(s,o)),null!==l.attrs&&rd(l,l.attrs,!1),null!==l.mergedAttrs&&rd(l,l.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,l),l}(s,o,i,n,t,r):o.data[s],c=OE(o,i,l,a,n,e);i[s]=c;const u=pu(l);return qr(l,!0),fb(a,c,l),!function Al(e){return!(32&~e.flags)}(l)&&Qa()&&Hu(o,i,c,l),0===function eR(){return de.lFrame.elementDepthCount}()&&pn(c,i),function tR(){de.lFrame.elementDepthCount++}(),u&&(Qp(o,i,l),Jp(o,l,i)),null!==r&&Yp(i,l),m}function y(){let e=Ze();Yf()?function Zf(){de.lFrame.isParent=!1}():(e=e.parent,qr(e,!1));const n=e;(function rR(e){return de.skipHydrationRootTNode===e})(n)&&function aR(){de.skipHydrationRootTNode=null}(),function nR(){de.lFrame.elementDepthCount--}();const t=Oe();return t.firstCreatePass&&(yu(t,e),Bf(e)&&t.queries.elementEnd(e)),null!=n.classesWithoutHost&&function bR(e){return!!(8&e.flags)}(n)&&Gg(t,n,O(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function ER(e){return!!(16&e.flags)}(n)&&Gg(t,n,O(),n.stylesWithoutHost,!1),y}function Z(e,n,t,r){return m(e,n,t,r),y(),Z}let OE=(e,n,t,r,i,o)=>(Wr(!0),Uu(r,i,function kw(){return de.lFrame.currentNamespace}()));function ge(){return O()}const Ys="en-US";let jE=Ys;function U(e,n,t,r){const i=O(),o=Oe(),s=Ze();return tm(o,i,i[ue],s,e,n,r),U}function tm(e,n,t,r,i,o,s){const a=pu(r),c=e.firstCreatePass&&Ib(e),u=n[ct],d=Mb(n);let h=!0;if(3&r.type||s){const g=wn(r,n),v=s?s(g):g,b=d.length,E=s?F=>s(rt(F[r.index])):r.index;let R=null;if(!s&&a&&(R=function p2(e,n,t,r){const i=e.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===t&&i[o+1]===r){const a=n[ds],l=i[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(e,n,i,r.index)),null!==R)(R.__ngLastListenerFn__||R).__ngNextListenerFn__=o,R.__ngLastListenerFn__=o,h=!1;else{o=hD(r,n,u,o,!1);const F=t.listen(v,i,o);d.push(o,F),c&&c.push(i,E,b,b+1)}}else o=hD(r,n,u,o,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const g=p.length;if(g)for(let v=0;v<g;v+=2){const V=n[p[v]][p[v+1]].subscribe(o),Q=d.length;d.push(o,V),c&&c.push(i,r.index,Q,-(Q+1))}}}function dD(e,n,t,r){const i=L(null);try{return zr(6,n,t),!1!==t(r)}catch(o){return Wu(e,o),!1}finally{zr(7,n,t),L(i)}}function hD(e,n,t,r,i){return function o(s){if(s===Function)return r;yl(e.componentOffset>-1?qn(e.index,n):n);let l=dD(n,t,r,s),c=o.__ngNextListenerFn__;for(;c;)l=dD(n,t,c,s)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&s.preventDefault(),l}}function k(e=1){return function fR(e){return(de.lFrame.contextLView=function Cw(e,n){for(;e>0;)n=n[hs],e--;return n}(e,de.lFrame.contextLView))[ct]}(e)}function Or(e,n,t){h0(e,n,t)}function dr(e){const n=O(),t=Oe(),r=tp();mu(r+1);const i=Tg(t,r);if(e.dirty&&function Y1(e){return!(4&~e[te])}(n)===!(2&~i.metadata.flags)){if(null===i.matches)e.reset([]);else{const o=g0(n,r);e.reset(o,nC),e.notifyOnChanges()}return!0}return!1}function hr(){return function Ig(e,n){return e[gi].queries[n].queryList}(O(),tp())}function C(e,n=""){const t=O(),r=Oe(),i=e+_e,o=r.firstCreatePass?As(r,i,1,n,null):r.data[i],s=RD(r,t,o,n,e);t[i]=s,Qa()&&Hu(r,t,s,o),qr(o,!1)}let RD=(e,n,t,r,i)=>(Wr(!0),function Bp(e,n){return e.createText(n)}(n[ue],r));function Ne(e){return be("",e,""),Ne}function be(e,n,t){const r=O(),i=function Us(e,n,t,r){return Pt(e,Mr(),t)?n+ye(t)+r:Ce}(r,e,n,t);return i!==Ce&&vi(r,fn(),i),be}function bi(e,n,t,r,i){const o=O(),s=function Bs(e,n,t,r,i,o){const a=Io(e,mi(),t,i);return yi(2),a?n+ye(t)+r+ye(i)+o:Ce}(o,e,n,t,r,i);return s!==Ce&&vi(o,fn(),s),bi}function Oo(e,n,t,r,i,o,s){const a=O(),l=$s(a,e,n,t,r,i,o,s);return l!==Ce&&vi(a,fn(),l),Oo}function je(e,n,t){_0(n)&&(n=n());const r=O();return Pt(r,Mr(),n)&&kn(Oe(),ut(),r,e,n,r[ue],t,!1),je}function He(e,n){const t=_0(e);return t&&e.set(n),t}function Ve(e,n){const t=O(),r=Oe(),i=Ze();return tm(r,t,t[ue],i,e,n),Ve}function rm(e,n,t,r,i){if(e=le(e),Array.isArray(e))for(let o=0;o<e.length;o++)rm(e[o],n,t,r,i);else{const o=Oe(),s=O(),a=Ze();let l=_o(e)?e:le(e.provide);const c=ow(e),u=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(_o(e)||!e.multi){const f=new Ya(c,i,D),p=om(l,n,i?u:u+h,d);-1===p?(cp(Cu(a,s),o,l),im(o,e,n.length),n.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(f),s.push(f)):(t[p]=f,s[p]=f)}else{const f=om(l,n,u+h,d),p=om(l,n,u,u+h),v=p>=0&&t[p];if(i&&!v||!i&&!(f>=0&&t[f])){cp(Cu(a,s),o,l);const b=function L2(e,n,t,r,i){const o=new Ya(e,t,D);return o.multi=[],o.index=n,o.componentProviders=0,VD(o,i,r&&!t),o}(i?F2:x2,t.length,i,r,c);!i&&v&&(t[p].providerFactory=b),im(o,e,n.length,0),n.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(b),s.push(b)}else im(o,e,f>-1?f:p,VD(t[i?p:f],c,!i&&r));!i&&r&&v&&t[p].componentProviders++}}}function im(e,n,t,r){const i=_o(n),o=function S1(e){return!!e.useClass}(n);if(i||o){const l=(o?le(n.useClass):n).prototype.ngOnDestroy;if(l){const c=e.destroyHooks||(e.destroyHooks=[]);if(!i&&n.multi){const u=c.indexOf(t);-1===u?c.push(t,[r,l]):c[u+1].push(r,l)}else c.push(t,l)}}}function VD(e,n,t){return t&&e.componentProviders++,e.multi.push(n)-1}function om(e,n,t,r){for(let i=t;i<r;i++)if(n[i]===e)return i;return-1}function x2(e,n,t,r){return sm(this.multi,[])}function F2(e,n,t,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Eo(t,t[H],this.providerFactory.index,r);o=a.slice(0,s),sm(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],sm(i,o);return o}function sm(e,n){for(let t=0;t<e.length;t++)n.push((0,e[t])());return n}function _t(e,n=[]){return t=>{t.providersResolver=(r,i)=>function N2(e,n,t){const r=Oe();if(r.firstCreatePass){const i=Sr(e);rm(t,r.data,r.blueprint,i,!0),rm(n,r.data,r.blueprint,i,!1)}}(r,i?i(e):e,n)}}let j2=(()=>{class e{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const r=Of(0,t.type),i=r.length>0?ad([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=q({token:e,providedIn:"environment",factory:()=>new e(Y(vn))})}}return e})();function UD(e){Yr("NgStandalone"),e.getStandaloneInjector=n=>n.get(j2).getOrCreateStandaloneInjector(e)}function Zs(e,n,t,r){return function $D(e,n,t,r,i,o){const s=n+t;return Pt(e,s,i)?function Zr(e,n,t){return e[n]=t}(e,s+1,o?r.call(o,i):r(i)):function Ul(e,n){const t=e[n];return t===Ce?void 0:t}(e,s+1)}(O(),function Cn(){const e=de.lFrame;let n=e.bindingRootIndex;return-1===n&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}(),e,n,t,r)}let lS=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();const fS=new K(""),Sd=new K("");let pm,hm=(()=>{class e{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,pm||(function QV(e){pm=e}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ge.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t()},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static{this.\u0275fac=function(r){return new(r||e)(Y(Ge),Y(fm),Y(Sd))}}static{this.\u0275prov=q({token:e,factory:e.\u0275fac})}}return e})(),fm=(()=>{class e{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return pm?.findTestabilityInTree(this,t,r)??null}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();function Gl(e){return!!e&&"function"==typeof e.then}function pS(e){return!!e&&"function"==typeof e.subscribe}const gm=new K("");let mm=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=j(gm,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const i of this.appInits){const o=i();if(Gl(o))t.push(o);else if(pS(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const ym=new K("");function yS(e,n){return Array.isArray(n)?n.reduce(yS,e):{...e,...n}}let Wi=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=j(eC),this.afterRenderEffectManager=j(El),this.externalTestViews=new Set,this.beforeRender=new Tn,this.afterTick=new Tn,this.componentTypes=[],this.components=[],this.isStable=j(zi).hasPendingTasks.pipe(Fe(t=>!t)),this._injector=j(vn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof $b;if(!this._injector.get(mm).done)throw!i&&function Fi(e){const n=Te(e)||Ht(e)||nn(e);return null!==n&&n.standalone}(t),new I(405,!1);let s;s=i?t:this._injector.get(td).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function YV(e){return e.isBoundToModule}(s)?void 0:this._injector.get(Mo),c=s.create(bn.NULL,[],r||s.selector,a),u=c.location.nativeElement,d=c.injector.get(fS,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),Md(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){this._tick(!0)}_tick(t){if(this._runningTick)throw new I(101,!1);const r=L(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(t)}catch(i){this.internalErrorHandler(i)}finally{this.afterTick.next(),this._runningTick=!1,L(r)}}detectChangesInAttachedViews(t){let r=0;const i=this.afterRenderEffectManager;for(;;){if(r===Rb)throw new I(103,!1);if(t){const o=0===r;this.beforeRender.next(o);for(let{_lView:s,notifyErrorHandler:a}of this._views)XV(s,o,a)}if(r++,i.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>_m(o))&&(i.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>_m(o))))break}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;Md(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(ym,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Md(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new I(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Md(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}function XV(e,n,t){!n&&!_m(e)||function eU(e,n,t){let r;t?(r=0,e[te]|=1024):r=64&e[te]?0:1,Ku(e,n,r)}(e,t,n)}function _m(e){return Kf(e)}class tU{constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}}let _S=(()=>{class e{compileModuleSync(t){return new Og(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),o=Kn(cn(t).declarations).reduce((s,a)=>{const l=Te(a);return l&&s.push(new Ml(l)),s},[]);return new tU(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),iU=(()=>{class e{constructor(){this.zone=j(Ge),this.applicationRef=j(Wi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function oU(){const e=j(Ge),n=j(Jr);return t=>e.runOutsideAngular(()=>n.handleError(t))}let aU=(()=>{class e{constructor(){this.subscription=new at,this.initialized=!1,this.zone=j(Ge),this.pendingTasks=j(zi)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ge.assertNotInAngularZone(),queueMicrotask(()=>{null!==t&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ge.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const Ei=new K("",{providedIn:"root",factory:()=>j(Ei,Pe.Optional|Pe.SkipSelf)||function lU(){return typeof $localize<"u"&&$localize.locale||Ys}()}),vm=new K("");let bS=(()=>{class e{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function Bx(e="zone.js",n){return"noop"===e?new Kb:"zone.js"===e?new Ge(n):e}(r?.ngZone,function CS(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const o=function kF(e,n,t){return new Pg(e,n,t)}(t.moduleType,this.injector,function wS(e){return[{provide:Ge,useFactory:e},{provide:yo,multi:!0,useFactory:()=>{const n=j(iU,{optional:!0});return()=>n.initialize()}},{provide:yo,multi:!0,useFactory:()=>{const n=j(aU);return()=>{n.initialize()}}},{provide:eC,useFactory:oU}]}(()=>i)),s=o.injector.get(Jr,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:l=>{s.handleError(l)}});o.onDestroy(()=>{Md(this._modules,o),a.unsubscribe()})}),function mS(e,n,t){try{const r=t();return Gl(r)?r.catch(i=>{throw n.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>e.handleError(r)),r}}(s,i,()=>{const a=o.injector.get(mm);return a.runInitializers(),a.donePromise.then(()=>(function VE(e){"string"==typeof e&&(jE=e.toLowerCase().replace(/_/g,"-"))}(o.injector.get(Ei,Ys)||Ys),this._moduleDoBootstrap(o),o))})})}bootstrapModule(t,r=[]){const i=yS({},r);return function rU(e,n,t){const r=new Og(t);return Promise.resolve(r)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(t){const r=t.injector.get(Wi);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new I(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new I(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(vm,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(r){return new(r||e)(Y(bn))}}static{this.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})(),Ki=null;const ES=new K("");function DS(e,n,t=[]){const r=`Platform: ${n}`,i=new K(r);return(o=[])=>{let s=wm();if(!s||s.injector.get(ES,!1)){const a=[...t,...o,{provide:i,useValue:!0}];e?e(a):function dU(e){if(Ki&&!Ki.get(ES,!1))throw new I(400,!1);(function gS(){!function $c(e){Bc=e}(()=>{throw new I(600,!1)})})(),Ki=e;const n=e.get(bS);(function MS(e){e.get(bC,null)?.forEach(t=>t())})(e)}(function SS(e=[],n){return bn.create({name:n,providers:[{provide:Nf,useValue:"platform"},{provide:vm,useValue:new Set([()=>Ki=null])},...e]})}(a,r))}return function hU(e){const n=wm();if(!n)throw new I(401,!1);return n}()}}function wm(){return Ki?.get(bS)??null}let ql=(()=>{class e{static{this.__NG_ELEMENT_ID__=pU}}return e})();function pU(e){return function gU(e,n,t){if(wo(e)&&!t){const r=qn(e.index,n);return new _l(r,r)}return 47&e.type?new _l(n[Ct],n):null}(Ze(),O(),!(16&~e))}class OS{constructor(){}supports(n){return cd(n)}create(n){return new wU(n)}}const vU=(e,n)=>n;class wU{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||vU}forEachItem(n){let t;for(t=this._itHead;null!==t;t=t._next)n(t)}forEachOperation(n){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){const s=!r||t&&t.currentIndex<kS(r,i,o)?t:r,a=kS(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,null==s.previousIndex)i++;else{o||(o=[]);const c=a-i,u=l-i;if(c!=u){for(let h=0;h<c;h++){const f=h<o.length?o[h]:o[h]=0,p=f+h;u<=p&&p<c&&(o[h]=f+1)}o[s.previousIndex]=u-c}}a!==l&&n(s,a,l)}}forEachPreviousItem(n){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)n(t)}forEachMovedItem(n){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)n(t)}forEachIdentityChange(n){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)n(t)}diff(n){if(null==n&&(n=[]),!cd(n))throw new I(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i,o,s,t=this._itHead,r=!1;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)o=n[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),r=!0),t=t._next}else i=0,function LF(e,n){if(Array.isArray(e))for(let t=0;t<e.length;t++)n(e[t]);else{const t=e[Symbol.iterator]();let r;for(;!(r=t.next()).done;)n(r.value)}}(n,a=>{s=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,t,r,i){let o;return null===n?o=this._itTail:(o=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._reinsertAfter(n,o,i)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._moveAfter(n,o,i)):n=this._addAfter(new CU(t,r),o,i),n}_verifyReinsertion(n,t,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?n=this._reinsertAfter(o,n._prev,i):n.currentIndex!=i&&(n.currentIndex=i,this._addToMoves(n,i)),n}_truncate(n){for(;null!==n;){const t=n._next;this._addToRemovals(this._unlink(n)),n=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const i=n._prevRemoved,o=n._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(n,t,r),this._addToMoves(n,r),n}_moveAfter(n,t,r){return this._unlink(n),this._insertAfter(n,t,r),this._addToMoves(n,r),n}_addAfter(n,t,r){return this._insertAfter(n,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,t,r){const i=null===t?this._itHead:t._next;return n._next=i,n._prev=t,null===i?this._itTail=n:i._prev=n,null===t?this._itHead=n:t._next=n,null===this._linkedRecords&&(this._linkedRecords=new RS),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const t=n._prev,r=n._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,n}_addToMoves(n,t){return n.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new RS),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,t){return n.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class CU{constructor(n,t){this.item=n,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class bU{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){const t=n._prevDup,r=n._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class RS{constructor(){this.map=new Map}put(n){const t=n.trackById;let r=this.map.get(t);r||(r=new bU,this.map.set(t,r)),r.add(n)}get(n,t){const i=this.map.get(n);return i?i.get(n,t):null}remove(n){const t=n.trackById;return this.map.get(t).remove(n)&&this.map.delete(t),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function kS(e,n,t){const r=e.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+n+i}class NS{constructor(){}supports(n){return n instanceof Map||Rg(n)}create(){return new EU}}class EU{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let t;for(t=this._mapHead;null!==t;t=t._next)n(t)}forEachPreviousItem(n){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)n(t)}forEachChangedItem(n){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)n(t)}diff(n){if(n){if(!(n instanceof Map||Rg(n)))throw new I(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(n,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const o=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,t){if(n){const r=n._prev;return t._next=n,t._prev=r,n._prev=t,r&&(r._next=t),n===this._mapHead&&(this._mapHead=t),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(n,t){if(this._records.has(n)){const i=this._records.get(n);this._maybeAddToChanges(i,t);const o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}const r=new DU(n);return this._records.set(n,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,t){Object.is(t,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=t,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,t){n instanceof Map?n.forEach(t):Object.keys(n).forEach(r=>t(n[r],r))}}class DU{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function xS(){return new Sm([new OS])}let Sm=(()=>{class e{static{this.\u0275prov=q({token:e,providedIn:"root",factory:xS})}constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new e(t)}static extend(t){return{provide:e,useFactory:r=>e.create(t,r||xS()),deps:[[e,new tu,new eu]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new I(901,!1)}}return e})();function FS(){return new Pd([new NS])}let Pd=(()=>{class e{static{this.\u0275prov=q({token:e,providedIn:"root",factory:FS})}constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new e(t)}static extend(t){return{provide:e,useFactory:r=>e.create(t,r||FS()),deps:[[e,new tu,new eu]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new I(901,!1)}}return e})();const IU=DS(null,"core",[]);let TU=(()=>{class e{constructor(t){}static{this.\u0275fac=function(r){return new(r||e)(Y(Wi))}}static{this.\u0275mod=br({type:e})}static{this.\u0275inj=lr({})}}return e})();let oM=null;function Ji(){return oM}class dB{}const xn=new K("");let Tm=(()=>{class e{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=q({token:e,factory:()=>j(fB),providedIn:"platform"})}}return e})();const hB=new K("");let fB=(()=>{class e extends Tm{constructor(){super(),this._doc=j(xn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ji().getBaseHref(this._doc)}onPopState(t){const r=Ji().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Ji().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=q({token:e,factory:()=>new e,providedIn:"platform"})}}return e})();function Am(e,n){if(0==e.length)return n;if(0==n.length)return e;let t=0;return e.endsWith("/")&&t++,n.startsWith("/")&&t++,2==t?e+n.substring(1):1==t?e+n:e+"/"+n}function sM(e){const n=e.match(/#|\?|$/),t=n&&n.index||e.length;return e.slice(0,t-("/"===e[t-1]?1:0))+e.slice(t)}function Di(e){return e&&"?"!==e[0]?"?"+e:e}let ko=(()=>{class e{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=q({token:e,factory:()=>j(lM),providedIn:"root"})}}return e})();const aM=new K("");let lM=(()=>{class e extends ko{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??j(xn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Am(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Di(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){const s=this.prepareExternalUrl(i+Di(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){const s=this.prepareExternalUrl(i+Di(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||e)(Y(Tm),Y(aM,8))}}static{this.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),pB=(()=>{class e extends ko{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){const r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Am(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Di(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Di(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||e)(Y(Tm),Y(aM,8))}}static{this.\u0275prov=q({token:e,factory:e.\u0275fac})}}return e})(),Jl=(()=>{class e{constructor(t){this._subject=new Mt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function yB(e){if(new RegExp("^(https?:)?//").test(e)){const[,t]=e.split(/\/\/[^\/]+/);return t}return e}(sM(cM(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Di(r))}normalize(t){return e.stripTrailingSlash(function mB(e,n){if(!e||!n.startsWith(e))return n;const t=n.substring(e.length);return""===t||["/",";","?","#"].includes(t[0])?t:n}(this._basePath,cM(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Di(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Di(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=Di}static{this.joinWithSlash=Am}static{this.stripTrailingSlash=sM}static{this.\u0275fac=function(r){return new(r||e)(Y(ko))}}static{this.\u0275prov=q({token:e,factory:()=>function gB(){return new Jl(Y(ko))}(),providedIn:"root"})}}return e})();function cM(e){return e.replace(/\/index.html$/,"")}function _M(e,n){n=encodeURIComponent(n);for(const t of e.split(";")){const r=t.indexOf("="),[i,o]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===n)return decodeURIComponent(o)}return null}const Vm=/\s+/,vM=[];let wM=(()=>{class e{constructor(t,r){this._ngEl=t,this._renderer=r,this.initialClasses=vM,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(Vm):vM}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(Vm):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(Vm).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||e)(D(Wn),D(Ci))}}static{this.\u0275dir=pe({type:e,selectors:[["","ngClass",""]],inputs:{klass:[pt.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return e})();class n${constructor(n,t,r,i){this.$implicit=n,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let kr=(()=>{class e{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new n$(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),bM(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{bM(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||e)(D(Tr),D(wi),D(Sm))}}static{this.\u0275dir=pe({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return e})();function bM(e,n){e.context.$implicit=n.item}let vt=(()=>{class e{constructor(t,r){this._viewContainer=t,this._context=new r$,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){EM("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){EM("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||e)(D(Tr),D(wi))}}static{this.\u0275dir=pe({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return e})();class r${constructor(){this.$implicit=null,this.ngIf=null}}function EM(e,n){if(n&&!n.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${$t(n)}'.`)}let Wd=(()=>{class e{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,o]=t.split("."),s=-1===i.indexOf("-")?void 0:Bi.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static{this.\u0275fac=function(r){return new(r||e)(D(Wn),D(Pd),D(Ci))}}static{this.\u0275dir=pe({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return e})(),P$=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=br({type:e})}static{this.\u0275inj=lr({})}}return e})();const MM="browser";function IM(e){return"server"===e}let x$=(()=>{class e{static{this.\u0275prov=q({token:e,providedIn:"root",factory:()=>function N$(e){return e===MM}(j(Vi))?new F$(j(xn),window):new j$})}}return e})();class F${constructor(n,t){this.document=n,this.window=t,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(n){this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){const t=function L$(e,n){const t=e.getElementById(n)||e.getElementsByName(n)[0];if(t)return t;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(n)||o.querySelector(`[name="${n}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,n);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(n){this.window.history.scrollRestoration=n}scrollToElement(n){const t=n.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}}class j${setOffset(n){}getScrollPosition(){return[0,0]}scrollToPosition(n){}scrollToAnchor(n){}setHistoryScrollRestoration(n){}}class TM{}class h3 extends dB{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Gm extends h3{static makeCurrent(){!function uB(e){oM??=e}(new Gm)}onAndCancel(n,t,r){return n.addEventListener(t,r),()=>{n.removeEventListener(t,r)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,t){return(t=t||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return"window"===t?window:"document"===t?n:"body"===t?n.body:null}getBaseHref(n){const t=function f3(){return Xl=Xl||document.querySelector("base"),Xl?Xl.getAttribute("href"):null}();return null==t?null:function p3(e){return new URL(e,document.baseURI).pathname}(t)}resetBaseElement(){Xl=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return _M(document.cookie,n)}}let Xl=null,m3=(()=>{class e{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=q({token:e,factory:e.\u0275fac})}}return e})();const qm=new K("");let LM=(()=>{class e{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new I(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||e)(Y(qm),Y(Ge))}}static{this.\u0275prov=q({token:e,factory:e.\u0275fac})}}return e})();class jM{constructor(n){this._doc=n}}const Wm="ng-app-id";let VM=(()=>{class e{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=IM(o),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${Wm}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(Wm),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(Wm,this.appId),t.appendChild(s),s}}addStyleToHost(t,r){const i=this.getStyleElement(t,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||e)(Y(xn),Y(Tu),Y(DC,8),Y(Vi))}}static{this.\u0275prov=q({token:e,factory:e.\u0275fac})}}return e})();const Km={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Jm=/%COMP%/g,w3=new K("",{providedIn:"root",factory:()=>!0});function BM(e,n){return n.map(t=>t.replace(Jm,e))}let Qm=(()=>{class e{constructor(t,r,i,o,s,a,l,c=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=IM(a),this.defaultRenderer=new Ym(t,s,l,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===wr.ShadowDom&&(r={...r,encapsulation:wr.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof HM?i.applyToHost(t):i instanceof Zm&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case wr.Emulated:o=new HM(l,c,r,this.appId,u,s,a,d);break;case wr.ShadowDom:return new D3(l,c,t,r,s,a,this.nonce,d);default:o=new Zm(l,c,r,u,s,a,d)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||e)(Y(LM),Y(VM),Y(Tu),Y(w3),Y(xn),Y(Vi),Y(Ge),Y(DC))}}static{this.\u0275prov=q({token:e,factory:e.\u0275fac})}}return e})();class Ym{constructor(n,t,r,i){this.eventManager=n,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(n,t){return t?this.doc.createElementNS(Km[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){($M(n)?n.content:n).appendChild(t)}insertBefore(n,t,r){n&&($M(n)?n.content:n).insertBefore(t,r)}removeChild(n,t){n&&n.removeChild(t)}selectRootElement(n,t){let r="string"==typeof n?this.doc.querySelector(n):n;if(!r)throw new I(-5104,!1);return t||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,r,i){if(i){t=i+":"+t;const o=Km[i];o?n.setAttributeNS(o,t,r):n.setAttribute(t,r)}else n.setAttribute(t,r)}removeAttribute(n,t,r){if(r){const i=Km[r];i?n.removeAttributeNS(i,t):n.removeAttribute(`${r}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,r,i){i&(Bi.DashCase|Bi.Important)?n.style.setProperty(t,r,i&Bi.Important?"important":""):n.style[t]=r}removeStyle(n,t,r){r&Bi.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,r){null!=n&&(n[t]=r)}setValue(n,t){n.nodeValue=t}listen(n,t,r){if("string"==typeof n&&!(n=Ji().getGlobalEventTarget(this.doc,n)))throw new Error(`Unsupported event target ${n} for event ${t}`);return this.eventManager.addEventListener(n,t,this.decoratePreventDefault(r))}decoratePreventDefault(n){return t=>{if("__ngUnwrap__"===t)return n;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>n(t)):n(t))&&t.preventDefault()}}}function $M(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class D3 extends Ym{constructor(n,t,r,i,o,s,a,l){super(n,o,s,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=BM(i.id,i.styles);for(const u of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,r){return super.insertBefore(this.nodeOrShadowRoot(n),t,r)}removeChild(n,t){return super.removeChild(this.nodeOrShadowRoot(n),t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Zm extends Ym{constructor(n,t,r,i,o,s,a,l){super(n,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=l?BM(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class HM extends Zm{constructor(n,t,r,i,o,s,a,l){const c=i+"-"+r.id;super(n,t,r,o,s,a,l,c),this.contentAttr=function C3(e){return"_ngcontent-%COMP%".replace(Jm,e)}(c),this.hostAttr=function b3(e){return"_nghost-%COMP%".replace(Jm,e)}(c)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){const r=super.createElement(n,t);return super.setAttribute(r,this.contentAttr,""),r}}let S3=(()=>{class e extends jM{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||e)(Y(xn))}}static{this.\u0275prov=q({token:e,factory:e.\u0275fac})}}return e})();const zM=["alt","control","meta","shift"],M3={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},I3={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let T3=(()=>{class e extends jM{constructor(t){super(t)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,r,i){const o=e.parseEventName(r),s=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ji().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=e._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),zM.forEach(c=>{const u=r.indexOf(c);u>-1&&(r.splice(u,1),s+=c+".")}),s+=o,0!=r.length||0===o.length)return null;const l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(t,r){let i=M3[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),zM.forEach(s=>{s!==i&&(0,I3[s])(t)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{e.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}static{this.\u0275fac=function(r){return new(r||e)(Y(xn))}}static{this.\u0275prov=q({token:e,factory:e.\u0275fac})}}return e})();const R3=DS(IU,"browser",[{provide:Vi,useValue:MM},{provide:bC,useValue:function A3(){Gm.makeCurrent()},multi:!0},{provide:xn,useFactory:function O3(){return function uk(e){_p=e}(document),document},deps:[]}]),k3=new K(""),WM=[{provide:Sd,useClass:class g3{addToWindow(n){Je.getAngularTestability=(r,i=!0)=>{const o=n.findTestabilityInTree(r,i);if(null==o)throw new I(5103,!1);return o},Je.getAllAngularTestabilities=()=>n.getAllTestabilities(),Je.getAllAngularRootElements=()=>n.getAllRootElements(),Je.frameworkStabilizers||(Je.frameworkStabilizers=[]),Je.frameworkStabilizers.push(r=>{const i=Je.getAllAngularTestabilities();let o=i.length;const s=function(){o--,0==o&&r()};i.forEach(a=>{a.whenStable(s)})})}findTestabilityInTree(n,t,r){return null==t?null:n.getTestability(t)??(r?Ji().isShadowRoot(t)?this.findTestabilityInTree(n,t.host,!0):this.findTestabilityInTree(n,t.parentElement,!0):null)}},deps:[]},{provide:fS,useClass:hm,deps:[Ge,fm,Sd]},{provide:hm,useClass:hm,deps:[Ge,fm,Sd]}],KM=[{provide:Nf,useValue:"root"},{provide:Jr,useFactory:function P3(){return new Jr},deps:[]},{provide:qm,useClass:S3,multi:!0,deps:[xn,Ge,Vi]},{provide:qm,useClass:T3,multi:!0,deps:[xn]},Qm,VM,LM,{provide:hg,useExisting:Qm},{provide:TM,useClass:m3,deps:[]},[]];let JM=(()=>{class e{constructor(t){}static withServerTransition(t){return{ngModule:e,providers:[{provide:Tu,useValue:t.appId}]}}static{this.\u0275fac=function(r){return new(r||e)(Y(k3,12))}}static{this.\u0275mod=br({type:e})}static{this.\u0275inj=lr({providers:[...KM,...WM],imports:[P$,TU]})}}return e})(),N3=(()=>{class e{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||e)(Y(xn))}}static{this.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Xm(e){return e[e.length-1]}function XM(e){return Ee(Xm(e))?e.pop():void 0}function Yd(e){return function j3(e){return e&&Ee(e.schedule)}(Xm(e))?e.pop():void 0}var J=Re(482);const eI=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function tI(e){return Ee(e?.then)}function nI(e){return Ee(e[df])}function rI(e){return Symbol.asyncIterator&&Ee(e?.[Symbol.asyncIterator])}function iI(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const oI=function V3(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function sI(e){return Ee(e?.[oI])}function aI(e){return(0,J.__asyncGenerator)(this,arguments,function*(){const t=e.getReader();try{for(;;){const{value:r,done:i}=yield(0,J.__await)(t.read());if(i)return yield(0,J.__await)(void 0);yield yield(0,J.__await)(r)}}finally{t.releaseLock()}})}function lI(e){return Ee(e?.getReader)}function ni(e){if(e instanceof Nt)return e;if(null!=e){if(nI(e))return function U3(e){return new Nt(n=>{const t=e[df]();if(Ee(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(eI(e))return function B3(e){return new Nt(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}(e);if(tI(e))return function $3(e){return new Nt(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,Sv)})}(e);if(rI(e))return cI(e);if(sI(e))return function H3(e){return new Nt(n=>{for(const t of e)if(n.next(t),n.closed)return;n.complete()})}(e);if(lI(e))return function z3(e){return cI(aI(e))}(e)}throw iI(e)}function cI(e){return new Nt(n=>{(function G3(e,n){var t,r,i,o;return(0,J.__awaiter)(this,void 0,void 0,function*(){try{for(t=(0,J.__asyncValues)(e);!(r=yield t.next()).done;)if(n.next(r.value),n.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}n.complete()})})(e,n).catch(t=>n.error(t))})}function Ii(e,n,t,r=0,i=!1){const o=n.schedule(function(){t(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function uI(e,n=0){return tn((t,r)=>{t.subscribe(Bt(r,i=>Ii(r,e,()=>r.next(i),n),()=>Ii(r,e,()=>r.complete(),n),i=>Ii(r,e,()=>r.error(i),n)))})}function dI(e,n=0){return tn((t,r)=>{r.add(e.schedule(()=>t.subscribe(r),n))})}function hI(e,n){if(!e)throw new Error("Iterable cannot be null");return new Nt(t=>{Ii(t,n,()=>{const r=e[Symbol.asyncIterator]();Ii(t,n,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Kt(e,n){return n?function Y3(e,n){if(null!=e){if(nI(e))return function q3(e,n){return ni(e).pipe(dI(n),uI(n))}(e,n);if(eI(e))return function K3(e,n){return new Nt(t=>{let r=0;return n.schedule(function(){r===e.length?t.complete():(t.next(e[r++]),t.closed||this.schedule())})})}(e,n);if(tI(e))return function W3(e,n){return ni(e).pipe(dI(n),uI(n))}(e,n);if(rI(e))return hI(e,n);if(sI(e))return function J3(e,n){return new Nt(t=>{let r;return Ii(t,n,()=>{r=e[oI](),Ii(t,n,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void t.error(s)}o?t.complete():t.next(i)},0,!0)}),()=>Ee(r?.return)&&r.return()})}(e,n);if(lI(e))return function Q3(e,n){return hI(aI(e),n)}(e,n)}throw iI(e)}(e,n):ni(e)}function he(...e){return Kt(e,Yd(e))}function gn(e,n,t=1/0){return Ee(n)?gn((r,i)=>Fe((o,s)=>n(r,o,i,s))(ni(e(r,i))),t):("number"==typeof n&&(t=n),tn((r,i)=>function Z3(e,n,t,r,i,o,s,a){const l=[];let c=0,u=0,d=!1;const h=()=>{d&&!l.length&&!c&&n.complete()},f=g=>c<r?p(g):l.push(g),p=g=>{o&&n.next(g),c++;let v=!1;ni(t(g,u++)).subscribe(Bt(n,b=>{i?.(b),o?f(b):n.next(b)},()=>{v=!0},void 0,()=>{if(v)try{for(c--;l.length&&c<r;){const b=l.shift();s?Ii(n,s,()=>p(b)):p(b)}h()}catch(b){n.error(b)}}))};return e.subscribe(Bt(n,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,e,t)))}function ia(e,n){return Ee(n)?gn(e,n,1):gn(e,1)}function Ti(e,n){return tn((t,r)=>{let i=0;t.subscribe(Bt(r,o=>e.call(n,o,i++)&&r.next(o)))})}function tc(e){return tn((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}function xr(e,n){return tn((t,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();t.subscribe(Bt(r,l=>{i?.unsubscribe();let c=0;const u=o++;ni(e(l,u)).subscribe(i=Bt(r,d=>r.next(n?n(l,d,u,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}class Zd{}class Xd{}class Yn{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?"string"==typeof n?this.lazyInit=()=>{this.headers=new Map,n.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const t=this.headers.get(n.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,t){return this.clone({name:n,value:t,op:"a"})}set(n,t){return this.clone({name:n,value:t,op:"s"})}delete(n,t){return this.clone({name:n,value:t,op:"d"})}maybeSetNormalizedName(n,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,n)}init(){this.lazyInit&&(this.lazyInit instanceof Yn?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(t=>{this.headers.set(t,n.headers.get(t)),this.normalizedNames.set(t,n.normalizedNames.get(t))})}clone(n){const t=new Yn;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Yn?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([n]),t}applyUpdate(n){const t=n.name.toLowerCase();switch(n.op){case"a":case"s":let r=n.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(n.name,t);const i=("a"===n.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const o=n.value;if(o){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(n,t){const r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=n.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(n,i)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>n(this.normalizedNames.get(t),this.headers.get(t)))}}class X3{encodeKey(n){return fI(n)}encodeValue(n){return fI(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const tH=/%(\d[a-f0-9])/gi,nH={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function fI(e){return encodeURIComponent(e).replace(tH,(n,t)=>nH[t]??n)}function eh(e){return`${e}`}class Qi{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new X3,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function eH(e,n){const t=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[s,a]=-1==o?[n.decodeKey(i),""]:[n.decodeKey(i.slice(0,o)),n.decodeValue(i.slice(o+1))],l=t.get(s)||[];l.push(a),t.set(s,l)}),t}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(t=>{const r=n.fromObject[t],i=Array.isArray(r)?r.map(eh):[eh(r)];this.map.set(t,i)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const t=this.map.get(n);return t?t[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,t){return this.clone({param:n,value:t,op:"a"})}appendAll(n){const t=[];return Object.keys(n).forEach(r=>{const i=n[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(n,t){return this.clone({param:n,value:t,op:"s"})}delete(n,t){return this.clone({param:n,value:t,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const t=this.encoder.encodeKey(n);return this.map.get(n).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const t=new Qi({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(n),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const t=("a"===n.op?this.map.get(n.param):void 0)||[];t.push(eh(n.value)),this.map.set(n.param,t);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let r=this.map.get(n.param)||[];const i=r.indexOf(eh(n.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(n.param,r):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class rH{constructor(){this.map=new Map}set(n,t){return this.map.set(n,t),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function pI(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function gI(e){return typeof Blob<"u"&&e instanceof Blob}function mI(e){return typeof FormData<"u"&&e instanceof FormData}class nc{constructor(n,t,r,i){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function iH(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Yn,this.context??=new rH,this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new Qi,this.urlWithParams=t}serializeBody(){return null===this.body?null:"string"==typeof this.body||pI(this.body)||gI(this.body)||mI(this.body)||function oH(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)?this.body:this.body instanceof Qi?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||mI(this.body)?null:gI(this.body)?this.body.type||null:pI(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Qi?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){const t=n.method||this.method,r=n.url||this.url,i=n.responseType||this.responseType,o=n.transferCache??this.transferCache,s=void 0!==n.body?n.body:this.body,a=n.withCredentials??this.withCredentials,l=n.reportProgress??this.reportProgress;let c=n.headers||this.headers,u=n.params||this.params;const d=n.context??this.context;return void 0!==n.setHeaders&&(c=Object.keys(n.setHeaders).reduce((h,f)=>h.set(f,n.setHeaders[f]),c)),n.setParams&&(u=Object.keys(n.setParams).reduce((h,f)=>h.set(f,n.setParams[f]),u)),new nc(t,r,s,{params:u,headers:c,context:d,reportProgress:l,responseType:i,withCredentials:a,transferCache:o})}}var Yi=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Yi||{});class ey{constructor(n,t=rc.Ok,r="OK"){this.headers=n.headers||new Yn,this.status=void 0!==n.status?n.status:t,this.statusText=n.statusText||r,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class th extends ey{constructor(n={}){super(n),this.type=Yi.ResponseHeader}clone(n={}){return new th({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class No extends ey{constructor(n={}){super(n),this.type=Yi.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new No({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class oa extends ey{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}var rc=function(e){return e[e.Continue=100]="Continue",e[e.SwitchingProtocols=101]="SwitchingProtocols",e[e.Processing=102]="Processing",e[e.EarlyHints=103]="EarlyHints",e[e.Ok=200]="Ok",e[e.Created=201]="Created",e[e.Accepted=202]="Accepted",e[e.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",e[e.NoContent=204]="NoContent",e[e.ResetContent=205]="ResetContent",e[e.PartialContent=206]="PartialContent",e[e.MultiStatus=207]="MultiStatus",e[e.AlreadyReported=208]="AlreadyReported",e[e.ImUsed=226]="ImUsed",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.Found=302]="Found",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.Unused=306]="Unused",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.LengthRequired=411]="LengthRequired",e[e.PreconditionFailed=412]="PreconditionFailed",e[e.PayloadTooLarge=413]="PayloadTooLarge",e[e.UriTooLong=414]="UriTooLong",e[e.UnsupportedMediaType=415]="UnsupportedMediaType",e[e.RangeNotSatisfiable=416]="RangeNotSatisfiable",e[e.ExpectationFailed=417]="ExpectationFailed",e[e.ImATeapot=418]="ImATeapot",e[e.MisdirectedRequest=421]="MisdirectedRequest",e[e.UnprocessableEntity=422]="UnprocessableEntity",e[e.Locked=423]="Locked",e[e.FailedDependency=424]="FailedDependency",e[e.TooEarly=425]="TooEarly",e[e.UpgradeRequired=426]="UpgradeRequired",e[e.PreconditionRequired=428]="PreconditionRequired",e[e.TooManyRequests=429]="TooManyRequests",e[e.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",e[e.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout",e[e.HttpVersionNotSupported=505]="HttpVersionNotSupported",e[e.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",e[e.InsufficientStorage=507]="InsufficientStorage",e[e.LoopDetected=508]="LoopDetected",e[e.NotExtended=510]="NotExtended",e[e.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",e}(rc||{});function ty(e,n){return{body:n,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}let yI=(()=>{class e{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof nc)o=t;else{let l,c;l=i.headers instanceof Yn?i.headers:new Yn(i.headers),i.params&&(c=i.params instanceof Qi?i.params:new Qi({fromObject:i.params})),o=new nc(t,r,void 0!==i.body?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}const s=he(o).pipe(ia(l=>this.handler.handle(l)));if(t instanceof nc||"events"===i.observe)return s;const a=s.pipe(Ti(l=>l instanceof No));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Fe(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(Fe(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(Fe(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(Fe(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Qi).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,ty(i,r))}post(t,r,i={}){return this.request("POST",t,ty(i,r))}put(t,r,i={}){return this.request("PUT",t,ty(i,r))}static{this.\u0275fac=function(r){return new(r||e)(Y(Zd))}}static{this.\u0275prov=q({token:e,factory:e.\u0275fac})}}return e})();function vI(e,n){return n(e)}function uH(e,n){return(t,r)=>n.intercept(t,{handle:i=>e(i,r)})}const hH=new K(""),ic=new K(""),wI=new K(""),CI=new K("");function fH(){let e=null;return(n,t)=>{null===e&&(e=(j(hH,{optional:!0})??[]).reduceRight(uH,vI));const r=j(zi),i=r.add();return e(n,t).pipe(tc(()=>r.remove(i)))}}let bI=(()=>{class e extends Zd{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=j(zi);const i=j(CI,{optional:!0});this.backend=i??t}handle(t){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(ic),...this.injector.get(wI,[])]));this.chain=i.reduceRight((o,s)=>function dH(e,n,t){return(r,i)=>$r(t,()=>n(r,o=>e(o,i)))}(o,s,this.injector),vI)}const r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(tc(()=>this.pendingTasks.remove(r)))}static{this.\u0275fac=function(r){return new(r||e)(Y(Xd),Y(vn))}}static{this.\u0275prov=q({token:e,factory:e.\u0275fac})}}return e})();const _H=/^\)\]\}',?\n/;let DI=(()=>{class e{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new I(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?Kt(r.\u0275loadImpl()):he(null)).pipe(xr(()=>new Nt(o=>{const s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((g,v)=>s.setRequestHeader(g,v.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const g=t.detectContentTypeHeader();null!==g&&s.setRequestHeader("Content-Type",g)}if(t.responseType){const g=t.responseType.toLowerCase();s.responseType="json"!==g?g:"text"}const a=t.serializeBody();let l=null;const c=()=>{if(null!==l)return l;const g=s.statusText||"OK",v=new Yn(s.getAllResponseHeaders()),b=function vH(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(s)||t.url;return l=new th({headers:v,status:s.status,statusText:g,url:b}),l},u=()=>{let{headers:g,status:v,statusText:b,url:E}=c(),R=null;v!==rc.NoContent&&(R=typeof s.response>"u"?s.responseText:s.response),0===v&&(v=R?rc.Ok:0);let F=v>=200&&v<300;if("json"===t.responseType&&"string"==typeof R){const V=R;R=R.replace(_H,"");try{R=""!==R?JSON.parse(R):null}catch(Q){R=V,F&&(F=!1,R={error:Q,text:R})}}F?(o.next(new No({body:R,headers:g,status:v,statusText:b,url:E||void 0})),o.complete()):o.error(new oa({error:R,headers:g,status:v,statusText:b,url:E||void 0}))},d=g=>{const{url:v}=c(),b=new oa({error:g,status:s.status||0,statusText:s.statusText||"Unknown Error",url:v||void 0});o.error(b)};let h=!1;const f=g=>{h||(o.next(c()),h=!0);let v={type:Yi.DownloadProgress,loaded:g.loaded};g.lengthComputable&&(v.total=g.total),"text"===t.responseType&&s.responseText&&(v.partialText=s.responseText),o.next(v)},p=g=>{let v={type:Yi.UploadProgress,loaded:g.loaded};g.lengthComputable&&(v.total=g.total),o.next(v)};return s.addEventListener("load",u),s.addEventListener("error",d),s.addEventListener("timeout",d),s.addEventListener("abort",d),t.reportProgress&&(s.addEventListener("progress",f),null!==a&&s.upload&&s.upload.addEventListener("progress",p)),s.send(a),o.next({type:Yi.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",u),s.removeEventListener("timeout",d),t.reportProgress&&(s.removeEventListener("progress",f),null!==a&&s.upload&&s.upload.removeEventListener("progress",p)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(r){return new(r||e)(Y(TM))}}static{this.\u0275prov=q({token:e,factory:e.\u0275fac})}}return e})();const iy=new K(""),SI=new K("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),MI=new K("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class II{}let bH=(()=>{class e{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=_M(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(r){return new(r||e)(Y(xn),Y(Vi),Y(SI))}}static{this.\u0275prov=q({token:e,factory:e.\u0275fac})}}return e})();function EH(e,n){const t=e.url.toLowerCase();if(!j(iy)||"GET"===e.method||"HEAD"===e.method||t.startsWith("http://")||t.startsWith("https://"))return n(e);const r=j(II).getToken(),i=j(MI);return null!=r&&!e.headers.has(i)&&(e=e.clone({headers:e.headers.set(i,r)})),n(e)}var Zi=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(Zi||{});function xo(e,n){return{\u0275kind:e,\u0275providers:n}}function DH(...e){const n=[yI,DI,bI,{provide:Zd,useExisting:bI},{provide:Xd,useExisting:DI},{provide:ic,useValue:EH,multi:!0},{provide:iy,useValue:!0},{provide:II,useClass:bH}];for(const t of e)n.push(...t.\u0275providers);return function Ua(e){return{\u0275providers:e}}(n)}const TI=new K("");let MH=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=br({type:e})}static{this.\u0275inj=lr({providers:[DH(xo(Zi.LegacyInterceptors,[{provide:TI,useFactory:fH},{provide:ic,useExisting:TI,multi:!0}]))]})}}return e})();const{isArray:RH}=Array,{getPrototypeOf:kH,prototype:NH,keys:xH}=Object;function FI(e){if(1===e.length){const n=e[0];if(RH(n))return{args:n,keys:null};if(function FH(e){return e&&"object"==typeof e&&kH(e)===NH}(n)){const t=xH(n);return{args:t.map(r=>n[r]),keys:t}}}return{args:e,keys:null}}const{isArray:LH}=Array;function LI(e){return Fe(n=>function jH(e,n){return LH(n)?e(...n):e(n)}(e,n))}function jI(e,n){return e.reduce((t,r,i)=>(t[r]=n[i],t),{})}let VI=(()=>{class e{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||e)(D(Ci),D(Wn))}}static{this.\u0275dir=pe({type:e})}}return e})(),Fo=(()=>{class e extends VI{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Qt(e)))(i||e)}})()}static{this.\u0275dir=pe({type:e,features:[Xe]})}}return e})();const ri=new K(""),UH={provide:ri,useExisting:lt(()=>oc),multi:!0};let oc=(()=>{class e extends Fo{writeValue(t){this.setProperty("checked",t)}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Qt(e)))(i||e)}})()}static{this.\u0275dir=pe({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){1&r&&U("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},features:[_t([UH]),Xe]})}}return e})();const BH={provide:ri,useExisting:lt(()=>Fn),multi:!0},HH=new K("");let Fn=(()=>{class e extends VI{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function $H(){const e=Ji()?Ji().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||e)(D(Ci),D(Wn),D(HH,8))}}static{this.\u0275dir=pe({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&U("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[_t([BH]),Xe]})}}return e})();function Xi(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}const mn=new K(""),eo=new K("");function rh(e){return null}function JI(e){return null!=e}function QI(e){return Gl(e)?Kt(e):e}function YI(e){let n={};return e.forEach(t=>{n=null!=t?{...n,...t}:n}),0===Object.keys(n).length?null:n}function ZI(e,n){return n.map(t=>t(e))}function XI(e){return e.map(n=>function GH(e){return!e.validate}(n)?n:t=>n.validate(t))}function oy(e){return null!=e?function eT(e){if(!e)return null;const n=e.filter(JI);return 0==n.length?null:function(t){return YI(ZI(t,n))}}(XI(e)):null}function sy(e){return null!=e?function tT(e){if(!e)return null;const n=e.filter(JI);return 0==n.length?null:function(t){return function VH(...e){const n=XM(e),{args:t,keys:r}=FI(e),i=new Nt(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let l=s,c=s;for(let u=0;u<s;u++){let d=!1;ni(t[u]).subscribe(Bt(o,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(r?jI(r,a):a),o.complete())}))}});return n?i.pipe(LI(n)):i}(ZI(t,n).map(QI)).pipe(Fe(YI))}}(XI(e)):null}function nT(e,n){return null===e?[n]:Array.isArray(e)?[...e,n]:[e,n]}function ay(e){return e?Array.isArray(e)?e:[e]:[]}function ih(e,n){return Array.isArray(e)?e.includes(n):e===n}function oT(e,n){const t=ay(n);return ay(e).forEach(i=>{ih(t,i)||t.push(i)}),t}function sT(e,n){return ay(n).filter(t=>!ih(e,t))}class aT{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=oy(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=sy(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,t){return!!this.control&&this.control.hasError(n,t)}getError(n,t){return this.control?this.control.getError(n,t):null}}class Mn extends aT{get formDirective(){return null}get path(){return null}}class to extends aT{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class lT{constructor(n){this._cd=n}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Zn=(()=>{class e extends lT{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||e)(D(to,2))}}static{this.\u0275dir=pe({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Js("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Xe]})}}return e})();const sc="VALID",sh="INVALID",sa="PENDING",ac="DISABLED";function ah(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class hy{constructor(n,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===sc}get invalid(){return this.status===sh}get pending(){return this.status==sa}get disabled(){return this.status===ac}get enabled(){return this.status!==ac}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(oT(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(oT(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(sT(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(sT(n,this._rawAsyncValidators))}hasValidator(n){return ih(this._rawValidators,n)}hasAsyncValidator(n){return ih(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=sa,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=ac,this.errors=null,this._forEachChild(r=>{r.disable({...n,onlySelf:!0})}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=sc,this._forEachChild(r=>{r.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===sc||this.status===sa)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ac:sc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=sa,this._hasOwnPendingAsyncValidator=!0;const t=QI(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(!1!==t.emitEvent)}get(n){let t=n;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(n,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new Mt,this.statusChanges=new Mt}_calculateStatus(){return this._allControlsDisabled()?ac:this.errors?sh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(sa)?sa:this._anyControlsHaveStatus(sh)?sh:sc}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){ah(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=function QH(e){return Array.isArray(e)?oy(e):e||null}(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=function YH(e){return Array.isArray(e)?sy(e):e||null}(this._rawAsyncValidators)}}const aa=new K("CallSetDisabledState",{providedIn:"root",factory:()=>lh}),lh="always";function lc(e,n,t=lh){(function py(e,n){const t=function rT(e){return e._rawValidators}(e);null!==n.validator?e.setValidators(nT(t,n.validator)):"function"==typeof t&&e.setValidators([t]);const r=function iT(e){return e._rawAsyncValidators}(e);null!==n.asyncValidator?e.setAsyncValidators(nT(r,n.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const i=()=>e.updateValueAndValidity();dh(n._rawValidators,i),dh(n._rawAsyncValidators,i)})(e,n),n.valueAccessor.writeValue(e.value),(e.disabled||"always"===t)&&n.valueAccessor.setDisabledState?.(e.disabled),function e4(e,n){n.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&hT(e,n)})}(e,n),function n4(e,n){const t=(r,i)=>{n.valueAccessor.writeValue(r),i&&n.viewToModelUpdate(r)};e.registerOnChange(t),n._registerOnDestroy(()=>{e._unregisterOnChange(t)})}(e,n),function t4(e,n){n.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&hT(e,n),"submit"!==e.updateOn&&e.markAsTouched()})}(e,n),function XH(e,n){if(n.valueAccessor.setDisabledState){const t=r=>{n.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(t),n._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}(e,n)}function dh(e,n){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function hT(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function gT(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}function mT(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}Promise.resolve();const yT=class extends hy{constructor(n=null,t,r){super(function uy(e){return(ah(e)?e.validators:e)||null}(t),function dy(e,n){return(ah(n)?n.asyncValidators:e)||null}(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ah(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=mT(n)?n.value:n)}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=this.defaultValue,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){gT(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){gT(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){mT(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}},u4={provide:to,useExisting:lt(()=>Ln)},wT=Promise.resolve();let Ln=(()=>{class e extends to{constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new yT,this._registered=!1,this.name="",this.update=new Mt,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function yy(e,n){if(!n)return null;let t,r,i;return Array.isArray(n),n.forEach(o=>{o.constructor===Fn?t=o:function o4(e){return Object.getPrototypeOf(e.constructor)===Fo}(o)?r=o:i=o}),i||r||t||null}(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function my(e,n){if(!e.hasOwnProperty("model"))return!1;const t=e.model;return!!t.isFirstChange()||!Object.is(n,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){lc(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){wT.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&function na(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}(r);wT.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function ch(e,n){return[...n.path,e]}(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||e)(D(Mn,9),D(mn,10),D(eo,10),D(ri,10),D(ql,8),D(aa,8))}}static{this.\u0275dir=pe({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[pt.None,"disabled","isDisabled"],model:[pt.None,"ngModel","model"],options:[pt.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[_t([u4]),Xe,cr]})}}return e})();const h4={provide:ri,useExisting:lt(()=>fh),multi:!0};let fh=(()=>{class e extends Fo{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Qt(e)))(i||e)}})()}static{this.\u0275dir=pe({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){1&r&&U("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[_t([h4]),Xe]})}}return e})();const f4={provide:ri,useExisting:lt(()=>vy),multi:!0};let p4=(()=>{class e{constructor(){this._accessors=[]}add(t,r){this._accessors.push([t,r])}remove(t){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===t)return void this._accessors.splice(r,1)}select(t){this._accessors.forEach(r=>{this._isSameGroup(r,t)&&r[1]!==t&&r[1].fireUncheck(t.value)})}_isSameGroup(t,r){return!!t[0].control&&t[0]._parent===r._control._parent&&t[1].name===r.name}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),vy=(()=>{class e extends Fo{constructor(t,r,i,o){super(t,r),this._registry=i,this._injector=o,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=j(aa,{optional:!0})??lh}ngOnInit(){this._control=this._injector.get(to),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this.setProperty("checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}setDisabledState(t){(this.setDisabledStateFired||t||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",t),this.setDisabledStateFired=!0}fireUncheck(t){this.writeValue(t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(r){return new(r||e)(D(Ci),D(Wn),D(p4),D(bn))}}static{this.\u0275dir=pe({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(r,i){1&r&&U("change",function(){return i.onChange()})("blur",function(){return i.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[_t([f4]),Xe]})}}return e})();const C4={provide:ri,useExisting:lt(()=>uc),multi:!0};function MT(e,n){return null==e?`${n}`:(n&&"object"==typeof n&&(n="Object"),`${e}: ${n}`.slice(0,50))}let uc=(()=>{class e extends Fo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=MT(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function b4(e){return e.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Qt(e)))(i||e)}})()}static{this.\u0275dir=pe({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){1&r&&U("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[_t([C4]),Xe]})}}return e})(),Ey=(()=>{class e{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(MT(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||e)(D(Wn),D(Ci),D(uc,9))}}static{this.\u0275dir=pe({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return e})();const E4={provide:ri,useExisting:lt(()=>Dy),multi:!0};function IT(e,n){return null==e?`${n}`:("string"==typeof n&&(n=`'${n}'`),n&&"object"==typeof n&&(n="Object"),`${e}: ${n}`.slice(0,50))}let Dy=(()=>{class e extends Fo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],o=r.selectedOptions;if(void 0!==o){const s=o;for(let a=0;a<s.length;a++){const c=this._getOptionValue(s[a].value);i.push(c)}}else{const s=r.options;for(let a=0;a<s.length;a++){const l=s[a];if(l.selected){const c=this._getOptionValue(l.value);i.push(c)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function D4(e){return e.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Qt(e)))(i||e)}})()}static{this.\u0275dir=pe({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){1&r&&U("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[_t([E4]),Xe]})}}return e})(),Sy=(()=>{class e{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(IT(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(IT(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||e)(D(Wn),D(Ci),D(Dy,9))}}static{this.\u0275dir=pe({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return e})();function AT(e){return"number"==typeof e?e:parseFloat(e)}let Lo=(()=>{class e{constructor(){this._validator=rh}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):rh,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=pe({type:e,features:[cr]})}}return e})();const S4={provide:mn,useExisting:lt(()=>My),multi:!0};let My=(()=>{class e extends Lo{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=t=>AT(t),this.createValidator=t=>function $I(e){return n=>{if(Xi(n.value)||Xi(e))return null;const t=parseFloat(n.value);return!isNaN(t)&&t>e?{max:{max:e,actual:n.value}}:null}}(t)}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Qt(e)))(i||e)}})()}static{this.\u0275dir=pe({type:e,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&Xr("max",i._enabled?i.max:null)},inputs:{max:"max"},features:[_t([S4]),Xe]})}}return e})();const M4={provide:mn,useExisting:lt(()=>Iy),multi:!0};let Iy=(()=>{class e extends Lo{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=t=>AT(t),this.createValidator=t=>function BI(e){return n=>{if(Xi(n.value)||Xi(e))return null;const t=parseFloat(n.value);return!isNaN(t)&&t<e?{min:{min:e,actual:n.value}}:null}}(t)}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Qt(e)))(i||e)}})()}static{this.\u0275dir=pe({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&Xr("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[_t([M4]),Xe]})}}return e})(),k4=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=br({type:e})}static{this.\u0275inj=lr({})}}return e})(),x4=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:aa,useValue:t.callSetDisabledState??lh}]}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=br({type:e})}static{this.\u0275inj=lr({imports:[k4]})}}return e})();var fe=function(e){return e[e.State=0]="State",e[e.Transition=1]="Transition",e[e.Sequence=2]="Sequence",e[e.Group=3]="Group",e[e.Animate=4]="Animate",e[e.Keyframes=5]="Keyframes",e[e.Style=6]="Style",e[e.Trigger=7]="Trigger",e[e.Reference=8]="Reference",e[e.AnimateChild=9]="AnimateChild",e[e.AnimateRef=10]="AnimateRef",e[e.Query=11]="Query",e[e.Stagger=12]="Stagger",e}(fe||{});const Ai="*";function xT(e,n){return{type:fe.Trigger,name:e,definitions:n,options:{}}}function FT(e,n=null){return{type:fe.Animate,styles:n,timings:e}}function dc(e){return{type:fe.Style,styles:e,offset:null}}function Ay(e,n,t){return{type:fe.State,name:e,styles:n,options:t}}function LT(e,n,t=null){return{type:fe.Transition,expr:e,animation:n,options:t}}class hc{constructor(n=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=n+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(n){this._position=this.totalTime?n*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(n){const t="start"==n?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class jT{constructor(n){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=n;let t=0,r=0,i=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this.players.forEach(n=>n.init())}onStart(n){this._onStartFns.push(n)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(n=>n()),this._onStartFns=[])}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(n=>n.play())}pause(){this.players.forEach(n=>n.pause())}restart(){this.players.forEach(n=>n.restart())}finish(){this._onFinish(),this.players.forEach(n=>n.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(n=>n.destroy()),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this.players.forEach(n=>n.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(n){const t=n*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const n=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=n?n.getPosition():0}beforeDestroy(){this.players.forEach(n=>{n.beforeDestroy&&n.beforeDestroy()})}triggerCallback(n){const t="start"==n?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function VT(e){return new I(3e3,!1)}function no(e){switch(e.length){case 0:return new hc;case 1:return e[0];default:return new jT(e)}}function UT(e,n,t=new Map,r=new Map){const i=[],o=[];let s=-1,a=null;if(n.forEach(l=>{const c=l.get("offset"),u=c==s,d=u&&a||new Map;l.forEach((h,f)=>{let p=f,g=h;if("offset"!==f)switch(p=e.normalizePropertyName(p,i),g){case"!":g=t.get(f);break;case Ai:g=r.get(f);break;default:g=e.normalizeStyleValue(f,p,g,i)}d.set(p,g)}),u||o.push(d),a=d,s=c}),i.length)throw function cz(e){return new I(3502,!1)}();return o}function Oy(e,n,t,r){switch(n){case"start":e.onStart(()=>r(t&&Ry(t,"start",e)));break;case"done":e.onDone(()=>r(t&&Ry(t,"done",e)));break;case"destroy":e.onDestroy(()=>r(t&&Ry(t,"destroy",e)))}}function Ry(e,n,t){const o=ky(e.element,e.triggerName,e.fromState,e.toState,n||e.phaseName,t.totalTime??e.totalTime,!!t.disabled),s=e._data;return null!=s&&(o._data=s),o}function ky(e,n,t,r,i="",o=0,s){return{element:e,triggerName:n,fromState:t,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function Xn(e,n,t){let r=e.get(n);return r||e.set(n,r=t),r}function BT(e){const n=e.indexOf(":");return[e.substring(1,n),e.slice(n+1)]}const Cz=typeof document>"u"?null:document.documentElement;function Ny(e){const n=e.parentNode||e.host||null;return n===Cz?null:n}let jo=null,$T=!1;function HT(e,n){for(;n;){if(n===e)return!0;n=Ny(n)}return!1}function zT(e,n,t){if(t)return Array.from(e.querySelectorAll(n));const r=e.querySelector(n);return r?[r]:[]}let xy=(()=>{class e{validateStyleProperty(t){return function Ez(e){jo||(jo=function Dz(){return typeof document<"u"?document.body:null}()||{},$T=!!jo.style&&"WebkitAppearance"in jo.style);let n=!0;return jo.style&&!function bz(e){return"ebkit"==e.substring(1,6)}(e)&&(n=e in jo.style,!n&&$T&&(n="Webkit"+e.charAt(0).toUpperCase()+e.slice(1)in jo.style)),n}(t)}matchesElement(t,r){return!1}containsElement(t,r){return HT(t,r)}getParentElement(t){return Ny(t)}query(t,r,i){return zT(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,o,s,a=[],l){return new hc(i,o)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=q({token:e,factory:e.\u0275fac})}}return e})();class Fy{static{this.NOOP=new xy}}class Ly{}const Mz=1e3,jy="ng-enter",ph="ng-leave",gh="ng-trigger",mh=".ng-trigger",qT="ng-animating",Vy=".ng-animating";function Pi(e){if("number"==typeof e)return e;const n=e.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:Uy(parseFloat(n[1]),n[2])}function Uy(e,n){return"s"===n?e*Mz:e}function yh(e,n,t){return e.hasOwnProperty("duration")?e:function Tz(e,n,t){let i,o=0,s="";if("string"==typeof e){const a=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return n.push(VT()),{duration:0,delay:0,easing:""};i=Uy(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(o=Uy(parseFloat(l),a[4]));const c=a[5];c&&(s=c)}else i=e;if(!t){let a=!1,l=n.length;i<0&&(n.push(function B4(){return new I(3100,!1)}()),a=!0),o<0&&(n.push(function $4(){return new I(3101,!1)}()),a=!0),a&&n.splice(l,0,VT())}return{duration:i,delay:o,easing:s}}(e,n,t)}function ii(e,n,t){n.forEach((r,i)=>{const o=$y(i);t&&!t.has(i)&&t.set(i,e.style[o]),e.style[o]=r})}function Vo(e,n){n.forEach((t,r)=>{const i=$y(r);e.style[i]=""})}function fc(e){return Array.isArray(e)?1==e.length?e[0]:function F4(e,n=null){return{type:fe.Sequence,steps:e,options:n}}(e):e}const By=new RegExp("{{\\s*(.+?)\\s*}}","g");function KT(e){let n=[];if("string"==typeof e){let t;for(;t=By.exec(e);)n.push(t[1]);By.lastIndex=0}return n}function pc(e,n,t){const r=`${e}`,i=r.replace(By,(o,s)=>{let a=n[s];return null==a&&(t.push(function z4(e){return new I(3003,!1)}()),a=""),a.toString()});return i==r?e:i}const Oz=/-+([a-z0-9])/g;function $y(e){return e.replace(Oz,(...n)=>n[1].toUpperCase())}function er(e,n,t){switch(n.type){case fe.Trigger:return e.visitTrigger(n,t);case fe.State:return e.visitState(n,t);case fe.Transition:return e.visitTransition(n,t);case fe.Sequence:return e.visitSequence(n,t);case fe.Group:return e.visitGroup(n,t);case fe.Animate:return e.visitAnimate(n,t);case fe.Keyframes:return e.visitKeyframes(n,t);case fe.Style:return e.visitStyle(n,t);case fe.Reference:return e.visitReference(n,t);case fe.AnimateChild:return e.visitAnimateChild(n,t);case fe.AnimateRef:return e.visitAnimateRef(n,t);case fe.Query:return e.visitQuery(n,t);case fe.Stagger:return e.visitStagger(n,t);default:throw function G4(e){return new I(3004,!1)}()}}function Hy(e,n){return window.getComputedStyle(e)[n]}const Nz=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class JT extends Ly{normalizePropertyName(n,t){return $y(n)}normalizeStyleValue(n,t,r,i){let o="";const s=r.toString().trim();if(Nz.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)o="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function q4(e,n){return new I(3005,!1)}())}return s+o}}const _h="*";const vh=new Set(["true","1"]),wh=new Set(["false","0"]);function QT(e,n){const t=vh.has(e)||wh.has(e),r=vh.has(n)||wh.has(n);return(i,o)=>{let s=e==_h||e==i,a=n==_h||n==o;return!s&&t&&"boolean"==typeof i&&(s=i?vh.has(e):wh.has(e)),!a&&r&&"boolean"==typeof o&&(a=o?vh.has(n):wh.has(n)),s&&a}}const jz=new RegExp("s*:selfs*,?","g");function zy(e,n,t,r){return new Vz(e).build(n,t,r)}class Vz{constructor(n){this._driver=n}build(n,t,r){const i=new $z(t);return this._resetContextStyleTimingState(i),er(this,fc(n),i)}_resetContextStyleTimingState(n){n.currentQuerySelector="",n.collectedStyles=new Map,n.collectedStyles.set("",new Map),n.currentTime=0}visitTrigger(n,t){let r=t.queryCount=0,i=t.depCount=0;const o=[],s=[];return"@"==n.name.charAt(0)&&t.errors.push(function W4(){return new I(3006,!1)}()),n.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==fe.State){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,o.push(this.visitState(l,t))}),l.name=c}else if(a.type==fe.Transition){const l=this.visitTransition(a,t);r+=l.queryCount,i+=l.depCount,s.push(l)}else t.errors.push(function K4(){return new I(3007,!1)}())}),{type:fe.Trigger,name:n.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(n,t){const r=this.visitStyle(n.styles,t),i=n.options&&n.options.params||null;if(r.containsDynamicStyles){const o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{KT(l).forEach(c=>{s.hasOwnProperty(c)||o.add(c)})})}),o.size&&t.errors.push(function J4(e,n){return new I(3008,!1)}(0,o.values()))}return{type:fe.State,name:n.name,style:r,options:i?{params:i}:null}}visitTransition(n,t){t.queryCount=0,t.depCount=0;const r=er(this,fc(n.animation),t),i=function xz(e,n){const t=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(r=>function Fz(e,n,t){if(":"==e[0]){const l=function Lz(e,n){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return n.push(function oz(e){return new I(3016,!1)}()),"* => *"}}(e,t);if("function"==typeof l)return void n.push(l);e=l}const r=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function iz(e){return new I(3015,!1)}()),n;const i=r[1],o=r[2],s=r[3];n.push(QT(i,s)),"<"==o[0]&&(i!=_h||s!=_h)&&n.push(QT(s,i))}(r,t,n)):t.push(e),t}(n.expr,t.errors);return{type:fe.Transition,matchers:i,animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Uo(n.options)}}visitSequence(n,t){return{type:fe.Sequence,steps:n.steps.map(r=>er(this,r,t)),options:Uo(n.options)}}visitGroup(n,t){const r=t.currentTime;let i=0;const o=n.steps.map(s=>{t.currentTime=r;const a=er(this,s,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:fe.Group,steps:o,options:Uo(n.options)}}visitAnimate(n,t){const r=function zz(e,n){if(e.hasOwnProperty("duration"))return e;if("number"==typeof e)return Gy(yh(e,n).duration,0,"");const t=e;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=Gy(0,0,"");return o.dynamic=!0,o.strValue=t,o}const i=yh(t,n);return Gy(i.duration,i.delay,i.easing)}(n.timings,t.errors);t.currentAnimateTimings=r;let i,o=n.styles?n.styles:dc({});if(o.type==fe.Keyframes)i=this.visitKeyframes(o,t);else{let s=n.styles,a=!1;if(!s){a=!0;const c={};r.easing&&(c.easing=r.easing),s=dc(c)}t.currentTime+=r.duration+r.delay;const l=this.visitStyle(s,t);l.isEmptyStep=a,i=l}return t.currentAnimateTimings=null,{type:fe.Animate,timings:r,style:i,options:null}}visitStyle(n,t){const r=this._makeStyleAst(n,t);return this._validateStyleAst(r,t),r}_makeStyleAst(n,t){const r=[],i=Array.isArray(n.styles)?n.styles:[n.styles];for(let a of i)"string"==typeof a?a===Ai?r.push(a):t.errors.push(new I(3002,!1)):r.push(new Map(Object.entries(a)));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let l of a.values())if(l.toString().indexOf("{{")>=0){o=!0;break}}),{type:fe.Style,styles:r,easing:s,offset:n.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(n,t){const r=t.currentAnimateTimings;let i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),n.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,l)=>{const c=t.collectedStyles.get(t.currentQuerySelector),u=c.get(l);let d=!0;u&&(o!=i&&o>=u.startTime&&i<=u.endTime&&(t.errors.push(function Y4(e,n,t,r,i){return new I(3010,!1)}()),d=!1),o=u.startTime),d&&c.set(l,{startTime:o,endTime:i}),t.options&&function Pz(e,n,t){const r=n.params||{},i=KT(e);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||t.push(function H4(e){return new I(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(n,t){const r={type:fe.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Z4(){return new I(3011,!1)}()),r;let o=0;const s=[];let a=!1,l=!1,c=0;const u=n.steps.map(b=>{const E=this._makeStyleAst(b,t);let R=null!=E.offset?E.offset:function Hz(e){if("string"==typeof e)return null;let n=null;if(Array.isArray(e))e.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;n=parseFloat(r.get("offset")),r.delete("offset")}});else if(e instanceof Map&&e.has("offset")){const t=e;n=parseFloat(t.get("offset")),t.delete("offset")}return n}(E.styles),F=0;return null!=R&&(o++,F=E.offset=R),l=l||F<0||F>1,a=a||F<c,c=F,s.push(F),E});l&&t.errors.push(function X4(){return new I(3012,!1)}()),a&&t.errors.push(function ez(){return new I(3200,!1)}());const d=n.steps.length;let h=0;o>0&&o<d?t.errors.push(function tz(){return new I(3202,!1)}()):0==o&&(h=1/(d-1));const f=d-1,p=t.currentTime,g=t.currentAnimateTimings,v=g.duration;return u.forEach((b,E)=>{const R=h>0?E==f?1:h*E:s[E],F=R*v;t.currentTime=p+g.delay+F,g.duration=F,this._validateStyleAst(b,t),b.offset=R,r.styles.push(b)}),r}visitReference(n,t){return{type:fe.Reference,animation:er(this,fc(n.animation),t),options:Uo(n.options)}}visitAnimateChild(n,t){return t.depCount++,{type:fe.AnimateChild,options:Uo(n.options)}}visitAnimateRef(n,t){return{type:fe.AnimateRef,animation:this.visitReference(n.animation,t),options:Uo(n.options)}}visitQuery(n,t){const r=t.currentQuerySelector,i=n.options||{};t.queryCount++,t.currentQuery=n;const[o,s]=function Uz(e){const n=!!e.split(/\s*,\s*/).find(t=>":self"==t);return n&&(e=e.replace(jz,"")),e=e.replace(/@\*/g,mh).replace(/@\w+/g,t=>mh+"-"+t.slice(1)).replace(/:animating/g,Vy),[e,n]}(n.selector);t.currentQuerySelector=r.length?r+" "+o:o,Xn(t.collectedStyles,t.currentQuerySelector,new Map);const a=er(this,fc(n.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:fe.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:n.selector,options:Uo(n.options)}}visitStagger(n,t){t.currentQuery||t.errors.push(function nz(){return new I(3013,!1)}());const r="full"===n.timings?{duration:0,delay:0,easing:"full"}:yh(n.timings,t.errors,!0);return{type:fe.Stagger,animation:er(this,fc(n.animation),t),timings:r,options:null}}}class $z{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Uo(e){return e?(e={...e}).params&&(e.params=function Bz(e){return e?{...e}:null}(e.params)):e={},e}function Gy(e,n,t){return{duration:e,delay:n,easing:t}}function qy(e,n,t,r,i,o,s=null,a=!1){return{type:1,element:e,keyframes:n,preStyleProps:t,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}class Ch{constructor(){this._map=new Map}get(n){return this._map.get(n)||[]}append(n,t){let r=this._map.get(n);r||this._map.set(n,r=[]),r.push(...t)}has(n){return this._map.has(n)}clear(){this._map.clear()}}const Wz=new RegExp(":enter","g"),Jz=new RegExp(":leave","g");function Wy(e,n,t,r,i,o=new Map,s=new Map,a,l,c=[]){return(new Qz).buildKeyframes(e,n,t,r,i,o,s,a,l,c)}class Qz{buildKeyframes(n,t,r,i,o,s,a,l,c,u=[]){c=c||new Ch;const d=new Ky(n,t,c,i,o,u,[]);d.options=l;const h=l.delay?Pi(l.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([s],null,d.errors,l),er(this,r,d);const f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let g=f.length-1;g>=0;g--){const v=f[g];if(v.element===t){p=v;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,l)}return f.length?f.map(p=>p.buildKeyframes()):[qy(t,[],[],[],0,h,"",!1)]}visitTrigger(n,t){}visitState(n,t){}visitTransition(n,t){}visitAnimateChild(n,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(n.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=n}visitAnimateRef(n,t){const r=t.createSubContext(n.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([n.options,n.animation.options],t,r),this.visitReference(n.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=n}_applyAnimationRefDelays(n,t,r){for(const i of n){const o=i?.delay;if(o){const s="number"==typeof o?o:Pi(pc(o,i?.params??{},t.errors));r.delayNextStep(s)}}}_visitSubInstructions(n,t,r){let o=t.currentTimeline.currentTime;const s=null!=r.duration?Pi(r.duration):null,a=null!=r.delay?Pi(r.delay):null;return 0!==s&&n.forEach(l=>{const c=t.appendInstructionToTimeline(l,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(n,t){t.updateOptions(n.options,!0),er(this,n.animation,t),t.previousNode=n}visitSequence(n,t){const r=t.subContextCount;let i=t;const o=n.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),null!=o.delay)){i.previousNode.type==fe.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=bh);const s=Pi(o.delay);i.delayNextStep(s)}n.steps.length&&(n.steps.forEach(s=>er(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=n}visitGroup(n,t){const r=[];let i=t.currentTimeline.currentTime;const o=n.options&&n.options.delay?Pi(n.options.delay):0;n.steps.forEach(s=>{const a=t.createSubContext(n.options);o&&a.delayNextStep(o),er(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(i),t.previousNode=n}_visitTiming(n,t){if(n.dynamic){const r=n.strValue;return yh(t.params?pc(r,t.params,t.errors):r,t.errors)}return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,t){const r=t.currentAnimateTimings=this._visitTiming(n.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const o=n.style;o.type==fe.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(r.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=n}visitStyle(n,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const o=i&&i.easing||n.easing;n.isEmptyStep?r.applyEmptyStep(o):r.setStyles(n.styles,o,t.errors,t.options),t.previousNode=n}visitKeyframes(n,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,o=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,n.styles.forEach(l=>{a.forwardTime((l.offset||0)*o),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+o),t.previousNode=n}visitQuery(n,t){const r=t.currentTimeline.currentTime,i=n.options||{},o=i.delay?Pi(i.delay):0;o&&(t.previousNode.type===fe.Style||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=bh);let s=r;const a=t.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{t.currentQueryIndex=u;const d=t.createSubContext(n.options,c);o&&d.delayNextStep(o),c===t.element&&(l=d.currentTimeline),er(this,n.animation,d),d.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=n}visitStagger(n,t){const r=t.parentContext,i=t.currentTimeline,o=n.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1);let l=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime}const u=t.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;er(this,n.animation,t),t.previousNode=n,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const bh={};class Ky{constructor(n,t,r,i,o,s,a,l){this._driver=n,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=bh,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Eh(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,t){if(!n)return;const r=n;let i=this.options;null!=r.duration&&(i.duration=Pi(r.duration)),null!=r.delay&&(i.delay=Pi(r.delay));const o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=pc(o[a],s,this.errors))})}}_copyOptions(){const n={};if(this.options){const t=this.options.params;if(t){const r=n.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return n}createSubContext(n=null,t,r){const i=t||this.element,o=new Ky(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(n),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(n){return this.previousNode=bh,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,t,r){const i={duration:t??n.duration,delay:this.currentTimeline.currentTime+(r??0)+n.delay,easing:""},o=new Yz(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,i,n.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,t,r,i,o,s){let a=[];if(i&&a.push(this.element),n.length>0){n=(n=n.replace(Wz,"."+this._enterClassName)).replace(Jz,"."+this._leaveClassName);let c=this._driver.query(this.element,n,1!=r);0!==r&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!o&&0==a.length&&s.push(function rz(e){return new I(3014,!1)}()),a}}class Eh{constructor(n,t,r,i){this._driver=n,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(n){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+n),t&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,t){return this.applyStylesToKeyframe(),new Eh(this._driver,n,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,t){this._localTimelineStyles.set(n,t),this._globalTimelineStyles.set(n,t),this._styleSummary.set(n,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&this._previousKeyframe.set("easing",n);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Ai),this._currentKeyframe.set(t,Ai);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,t,r,i){t&&this._previousKeyframe.set("easing",t);const o=i&&i.params||{},s=function Zz(e,n){const t=new Map;let r;return e.forEach(i=>{if("*"===i){r??=n.keys();for(let o of r)t.set(o,Ai)}else for(let[o,s]of i)t.set(o,s)}),t}(n,this._globalTimelineStyles);for(let[a,l]of s){const c=pc(l,o,r);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Ai),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((n,t)=>{this._currentKeyframe.set(t,n)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((n,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,n)}))}snapshotCurrentStyles(){for(let[n,t]of this._localTimelineStyles)this._pendingStyles.set(n,t),this._updateStyle(n,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const n=[];for(let t in this._currentKeyframe)n.push(t);return n}mergeTimelineCollectedStyles(n){n._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const n=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,l)=>{const c=new Map([...this._backFill,...a]);c.forEach((u,d)=>{"!"===u?n.add(d):u===Ai&&t.add(d)}),r||c.set("offset",l/this.duration),i.push(c)});const o=[...n.values()],s=[...t.values()];if(r){const a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return qy(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}}class Yz extends Eh{constructor(n,t,r,i,o,s,a=!1){super(n,t,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],s=r+t,a=t/s,l=new Map(n[0]);l.set("offset",0),o.push(l);const c=new Map(n[0]);c.set("offset",XT(a)),o.push(c);const u=n.length-1;for(let d=1;d<=u;d++){let h=new Map(n[d]);const f=h.get("offset");h.set("offset",XT((t+f*r)/s)),o.push(h)}r=s,t=0,i="",n=o}return qy(this.element,n,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function XT(e,n=3){const t=Math.pow(10,n-1);return Math.round(e*t)/t}function eA(e,n,t,r,i,o,s,a,l,c,u,d,h){return{type:0,element:e,triggerName:n,isRemovalTransition:i,fromState:t,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}const Jy={};class tA{constructor(n,t,r){this._triggerName=n,this.ast=t,this._stateStyles=r}match(n,t,r,i){return function Xz(e,n,t,r,i){return e.some(o=>o(n,t,r,i))}(this.ast.matchers,n,t,r,i)}buildStyles(n,t,r){let i=this._stateStyles.get("*");return void 0!==n&&(i=this._stateStyles.get(n?.toString())||i),i?i.buildStyles(t,r):new Map}build(n,t,r,i,o,s,a,l,c,u){const d=[],h=this.ast.options&&this.ast.options.params||Jy,p=this.buildStyles(r,a&&a.params||Jy,d),g=l&&l.params||Jy,v=this.buildStyles(i,g,d),b=new Set,E=new Map,R=new Map,F="void"===i,V={params:nA(g,h),delay:this.ast.options?.delay},Q=u?[]:Wy(n,t,this.ast.animation,o,s,p,v,V,c,d);let ve=0;return Q.forEach(oe=>{ve=Math.max(oe.duration+oe.delay,ve)}),d.length?eA(t,this._triggerName,r,i,F,p,v,[],[],E,R,ve,d):(Q.forEach(oe=>{const Qe=oe.element,sn=Xn(E,Qe,new Set);oe.preStyleProps.forEach(Qo=>sn.add(Qo));const yr=Xn(R,Qe,new Set);oe.postStyleProps.forEach(Qo=>yr.add(Qo)),Qe!==t&&b.add(Qe)}),eA(t,this._triggerName,r,i,F,p,v,Q,[...b.values()],E,R,ve))}}function nA(e,n){const t={...n};return Object.entries(e).forEach(([r,i])=>{null!=i&&(t[r]=i)}),t}class eG{constructor(n,t,r){this.styles=n,this.defaultParams=t,this.normalizer=r}buildStyles(n,t){const r=new Map,i=nA(n,this.defaultParams);return this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=pc(s,i,t));const l=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,l,s,t),r.set(a,s)})}),r}}class nG{constructor(n,t,r){this.name=n,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new eG(i.style,i.options&&i.options.params||{},r))}),rA(this.states,"true","1"),rA(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new tA(n,i,this.states))}),this.fallbackTransition=function rG(e,n,t){return new tA(e,{type:fe.Transition,animation:{type:fe.Sequence,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},n)}(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,t,r,i){return this.transitionFactories.find(s=>s.match(n,t,r,i))||null}matchStyles(n,t,r){return this.fallbackTransition.buildStyles(n,t,r)}}function rA(e,n,t){e.has(n)?e.has(t)||e.set(t,e.get(n)):e.has(t)&&e.set(n,e.get(t))}const iG=new Ch;class oG{constructor(n,t,r){this.bodyNode=n,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(n,t){const r=[],o=zy(this._driver,t,r,[]);if(r.length)throw function uz(e){return new I(3503,!1)}();this._animations.set(n,o)}_buildPlayer(n,t,r){const i=n.element,o=UT(this._normalizer,n.keyframes,t,r);return this._driver.animate(i,o,n.duration,n.delay,n.easing,[],!0)}create(n,t,r={}){const i=[],o=this._animations.get(n);let s;const a=new Map;if(o?(s=Wy(this._driver,t,o,jy,ph,new Map,new Map,r,iG,i),s.forEach(u=>{const d=Xn(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(function dz(){return new I(3300,!1)}()),s=[]),i.length)throw function hz(e){return new I(3504,!1)}();a.forEach((u,d)=>{u.forEach((h,f)=>{u.set(f,this._driver.computeStyle(d,f,Ai))})});const c=no(s.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,new Map,d)}));return this._playersById.set(n,c),c.onDestroy(()=>this.destroy(n)),this.players.push(c),c}destroy(n){const t=this._getPlayer(n);t.destroy(),this._playersById.delete(n);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(n){const t=this._playersById.get(n);if(!t)throw function fz(e){return new I(3301,!1)}();return t}listen(n,t,r,i){const o=ky(t,"","","");return Oy(this._getPlayer(n),r,o,i),()=>{}}command(n,t,r,i){if("register"==r)return void this.register(n,i[0]);if("create"==r)return void this.create(n,t,i[0]||{});const o=this._getPlayer(n);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(n)}}}const iA="ng-animate-queued",Qy="ng-animate-disabled",uG=[],oA={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},dG={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Fr="__ng_removed";class Yy{get params(){return this.options.params}constructor(n,t=""){this.namespaceId=t;const r=n&&n.hasOwnProperty("value");if(this.value=function gG(e){return e??null}(r?n.value:n),r){const{value:o,...s}=n;this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(n){const t=n.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const gc="void",Zy=new Yy(gc);class hG{constructor(n,t,r){this.id=n,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,gr(t,this._hostClassName)}listen(n,t,r,i){if(!this._triggers.has(t))throw function pz(e,n){return new I(3302,!1)}();if(null==r||0==r.length)throw function gz(e){return new I(3303,!1)}();if(!function mG(e){return"start"==e||"done"==e}(r))throw function mz(e,n){return new I(3400,!1)}();const o=Xn(this._elementListeners,n,[]),s={name:t,phase:r,callback:i};o.push(s);const a=Xn(this._engine.statesByElement,n,new Map);return a.has(t)||(gr(n,gh),gr(n,gh+"-"+t),a.set(t,Zy)),()=>{this._engine.afterFlush(()=>{const l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(n,t){return!this._triggers.has(n)&&(this._triggers.set(n,t),!0)}_getTrigger(n){const t=this._triggers.get(n);if(!t)throw function yz(e){return new I(3401,!1)}();return t}trigger(n,t,r,i=!0){const o=this._getTrigger(t),s=new Xy(this.id,t,n);let a=this._engine.statesByElement.get(n);a||(gr(n,gh),gr(n,gh+"-"+t),this._engine.statesByElement.set(n,a=new Map));let l=a.get(t);const c=new Yy(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(t,c),l||(l=Zy),c.value!==gc&&l.value===c.value){if(!function vG(e,n){const t=Object.keys(e),r=Object.keys(n);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const o=t[i];if(!n.hasOwnProperty(o)||e[o]!==n[o])return!1}return!0}(l.params,c.params)){const g=[],v=o.matchStyles(l.value,l.params,g),b=o.matchStyles(c.value,c.params,g);g.length?this._engine.reportError(g):this._engine.afterFlush(()=>{Vo(n,v),ii(n,b)})}return}const h=Xn(this._engine.playersByElement,n,[]);h.forEach(g=>{g.namespaceId==this.id&&g.triggerName==t&&g.queued&&g.destroy()});let f=o.matchTransition(l.value,c.value,n,c.params),p=!1;if(!f){if(!i)return;f=o.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:t,transition:f,fromState:l,toState:c,player:s,isFallbackTransition:p}),p||(gr(n,iA),s.onStart(()=>{la(n,iA)})),s.onDone(()=>{let g=this.players.indexOf(s);g>=0&&this.players.splice(g,1);const v=this._engine.playersByElement.get(n);if(v){let b=v.indexOf(s);b>=0&&v.splice(b,1)}}),this.players.push(s),h.push(s),s}deregister(n){this._triggers.delete(n),this._engine.statesByElement.forEach(t=>t.delete(n)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);const t=this._engine.playersByElement.get(n);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,t){const r=this._engine.driver.query(n,mh,!0);r.forEach(i=>{if(i[Fr])return;const o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(n,t,r,i){const o=this._engine.statesByElement.get(n),s=new Map;if(o){const a=[];if(o.forEach((l,c)=>{if(s.set(c,l.value),this._triggers.has(c)){const u=this.trigger(n,c,gc,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,n,!0,t,s),r&&no(a).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){const t=this._elementListeners.get(n),r=this._engine.statesByElement.get(n);if(t&&r){const i=new Set;t.forEach(o=>{const s=o.name;if(i.has(s))return;i.add(s);const l=this._triggers.get(s).fallbackTransition,c=r.get(s)||Zy,u=new Yy(gc),d=new Xy(this.id,s,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:s,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(n,t){const r=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,t),this.triggerLeaveAnimation(n,t,!0))return;let i=!1;if(r.totalAnimations){const o=r.players.length?r.playersByQueriedElement.get(n):[];if(o&&o.length)i=!0;else{let s=n;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(n),i)r.markElementAsRemoved(this.id,n,!1,t);else{const o=n[Fr];(!o||o===oA)&&(r.afterFlush(()=>this.clearElementCache(n)),r.destroyInnerAnimations(n),r._onRemovalComplete(n,t))}}insertNode(n,t){gr(n,this._hostClassName)}drainQueuedTransitions(n){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){const l=ky(o,r.triggerName,r.fromState.value,r.toState.value);l._data=n,Oy(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const o=r.transition.ast.depCount,s=i.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(n){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}}class fG{_onRemovalComplete(n,t){this.onRemovalComplete(n,t)}constructor(n,t,r,i){this.bodyNode=n,this.driver=t,this._normalizer=r,this.scheduler=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,s)=>{}}get queuedPlayers(){const n=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&n.push(r)})}),n}createNamespace(n,t){const r=new hG(n,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[n]=r}_balanceNamespaceList(n,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){const l=i.get(a);if(l){const c=r.indexOf(l);r.splice(c+1,0,n),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(n)}else r.push(n);return i.set(t,n),n}register(n,t){let r=this._namespaceLookup[n];return r||(r=this.createNamespace(n,t)),r}registerTrigger(n,t,r){let i=this._namespaceLookup[n];i&&i.register(t,r)&&this.totalAnimations++}destroy(n,t){n&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(n);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[n]}))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){const t=new Set,r=this.statesByElement.get(n);if(r)for(let i of r.values())if(i.namespaceId){const o=this._fetchNamespace(i.namespaceId);o&&t.add(o)}return t}trigger(n,t,r,i){if(Dh(t)){const o=this._fetchNamespace(n);if(o)return o.trigger(t,r,i),!0}return!1}insertNode(n,t,r,i){if(!Dh(t))return;const o=t[Fr];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(n){const s=this._fetchNamespace(n);s&&s.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,t){t?this.disabledNodes.has(n)||(this.disabledNodes.add(n),gr(n,Qy)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),la(n,Qy))}removeNode(n,t,r){if(Dh(t)){this.scheduler?.notify();const i=n?this._fetchNamespace(n):null;i?i.removeNode(t,r):this.markElementAsRemoved(n,t,!1,r);const o=this.namespacesByHostElement.get(t);o&&o.id!==n&&o.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(n,t,r,i,o){this.collectedLeaveElements.push(t),t[Fr]={namespaceId:n,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(n,t,r,i,o){return Dh(t)?this._fetchNamespace(n).listen(t,r,i,o):()=>{}}_buildInstruction(n,t,r,i,o){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,r,i,n.fromState.options,n.toState.options,t,o)}destroyInnerAnimations(n){let t=this.driver.query(n,mh,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(n,Vy,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(n){const t=this.playersByElement.get(n);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(n){const t=this.playersByQueriedElement.get(n);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return no(this.players).onDone(()=>n());n()})}processLeaveNode(n){const t=n[Fr];if(t&&t.setForRemoval){if(n[Fr]=oA,t.namespaceId){this.destroyInnerAnimations(n);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(n)}this._onRemovalComplete(n,t.setForRemoval)}n.classList?.contains(Qy)&&this.markElementAsDisabled(n,!1),this.driver.query(n,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(n=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)gr(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,n)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?no(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(n){throw function _z(e){return new I(3402,!1)}()}_flushAnimations(n,t){const r=new Ch,i=[],o=new Map,s=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(X=>{u.add(X);const ie=this.driver.query(X,".ng-animate-queued",!0);for(let ce=0;ce<ie.length;ce++)u.add(ie[ce])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=lA(h,this.collectedEnterElements),p=new Map;let g=0;f.forEach((X,ie)=>{const ce=jy+g++;p.set(ie,ce),X.forEach(Ue=>gr(Ue,ce))});const v=[],b=new Set,E=new Set;for(let X=0;X<this.collectedLeaveElements.length;X++){const ie=this.collectedLeaveElements[X],ce=ie[Fr];ce&&ce.setForRemoval&&(v.push(ie),b.add(ie),ce.hasAnimation?this.driver.query(ie,".ng-star-inserted",!0).forEach(Ue=>b.add(Ue)):E.add(ie))}const R=new Map,F=lA(h,Array.from(b));F.forEach((X,ie)=>{const ce=ph+g++;R.set(ie,ce),X.forEach(Ue=>gr(Ue,ce))}),n.push(()=>{f.forEach((X,ie)=>{const ce=p.get(ie);X.forEach(Ue=>la(Ue,ce))}),F.forEach((X,ie)=>{const ce=R.get(ie);X.forEach(Ue=>la(Ue,ce))}),v.forEach(X=>{this.processLeaveNode(X)})});const V=[],Q=[];for(let X=this._namespaceList.length-1;X>=0;X--)this._namespaceList[X].drainQueuedTransitions(t).forEach(ce=>{const Ue=ce.player,Xt=ce.element;if(V.push(Ue),this.collectedEnterElements.length){const _n=Xt[Fr];if(_n&&_n.setForMove){if(_n.previousTriggersValues&&_n.previousTriggersValues.has(ce.triggerName)){const Yo=_n.previousTriggersValues.get(ce.triggerName),_r=this.statesByElement.get(ce.element);if(_r&&_r.has(ce.triggerName)){const Xh=_r.get(ce.triggerName);Xh.value=Yo,_r.set(ce.triggerName,Xh)}}return void Ue.destroy()}}const di=!d||!this.driver.containsElement(d,Xt),or=R.get(Xt),ho=p.get(Xt),Et=this._buildInstruction(ce,r,ho,or,di);if(Et.errors&&Et.errors.length)return void Q.push(Et);if(di)return Ue.onStart(()=>Vo(Xt,Et.fromStyles)),Ue.onDestroy(()=>ii(Xt,Et.toStyles)),void i.push(Ue);if(ce.isFallbackTransition)return Ue.onStart(()=>Vo(Xt,Et.fromStyles)),Ue.onDestroy(()=>ii(Xt,Et.toStyles)),void i.push(Ue);const EO=[];Et.timelines.forEach(_n=>{_n.stretchStartingKeyframe=!0,this.disabledNodes.has(_n.element)||EO.push(_n)}),Et.timelines=EO,r.append(Xt,Et.timelines),s.push({instruction:Et,player:Ue,element:Xt}),Et.queriedElements.forEach(_n=>Xn(a,_n,[]).push(Ue)),Et.preStyleProps.forEach((_n,Yo)=>{if(_n.size){let _r=l.get(Yo);_r||l.set(Yo,_r=new Set),_n.forEach((Xh,Ev)=>_r.add(Ev))}}),Et.postStyleProps.forEach((_n,Yo)=>{let _r=c.get(Yo);_r||c.set(Yo,_r=new Set),_n.forEach((Xh,Ev)=>_r.add(Ev))})});if(Q.length){const X=[];Q.forEach(ie=>{X.push(function vz(e,n){return new I(3505,!1)}())}),V.forEach(ie=>ie.destroy()),this.reportError(X)}const ve=new Map,oe=new Map;s.forEach(X=>{const ie=X.element;r.has(ie)&&(oe.set(ie,ie),this._beforeAnimationBuild(X.player.namespaceId,X.instruction,ve))}),i.forEach(X=>{const ie=X.element;this._getPreviousPlayers(ie,!1,X.namespaceId,X.triggerName,null).forEach(Ue=>{Xn(ve,ie,[]).push(Ue),Ue.destroy()})});const Qe=v.filter(X=>uA(X,l,c)),sn=new Map;aA(sn,this.driver,E,c,Ai).forEach(X=>{uA(X,l,c)&&Qe.push(X)});const Qo=new Map;f.forEach((X,ie)=>{aA(Qo,this.driver,new Set(X),l,"!")}),Qe.forEach(X=>{const ie=sn.get(X),ce=Qo.get(X);sn.set(X,new Map([...ie?.entries()??[],...ce?.entries()??[]]))});const bv=[],CO=[],bO={};s.forEach(X=>{const{element:ie,player:ce,instruction:Ue}=X;if(r.has(ie)){if(u.has(ie))return ce.onDestroy(()=>ii(ie,Ue.toStyles)),ce.disabled=!0,ce.overrideTotalTime(Ue.totalTime),void i.push(ce);let Xt=bO;if(oe.size>1){let or=ie;const ho=[];for(;or=or.parentNode;){const Et=oe.get(or);if(Et){Xt=Et;break}ho.push(or)}ho.forEach(Et=>oe.set(Et,Xt))}const di=this._buildAnimation(ce.namespaceId,Ue,ve,o,Qo,sn);if(ce.setRealPlayer(di),Xt===bO)bv.push(ce);else{const or=this.playersByElement.get(Xt);or&&or.length&&(ce.parentPlayer=no(or)),i.push(ce)}}else Vo(ie,Ue.fromStyles),ce.onDestroy(()=>ii(ie,Ue.toStyles)),CO.push(ce),u.has(ie)&&i.push(ce)}),CO.forEach(X=>{const ie=o.get(X.element);if(ie&&ie.length){const ce=no(ie);X.setRealPlayer(ce)}}),i.forEach(X=>{X.parentPlayer?X.syncPlayerEvents(X.parentPlayer):X.destroy()});for(let X=0;X<v.length;X++){const ie=v[X],ce=ie[Fr];if(la(ie,ph),ce&&ce.hasAnimation)continue;let Ue=[];if(a.size){let di=a.get(ie);di&&di.length&&Ue.push(...di);let or=this.driver.query(ie,Vy,!0);for(let ho=0;ho<or.length;ho++){let Et=a.get(or[ho]);Et&&Et.length&&Ue.push(...Et)}}const Xt=Ue.filter(di=>!di.destroyed);Xt.length?yG(this,ie,Xt):this.processLeaveNode(ie)}return v.length=0,bv.forEach(X=>{this.players.push(X),X.onDone(()=>{X.destroy();const ie=this.players.indexOf(X);this.players.splice(ie,1)}),X.play()}),bv}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,t,r,i,o){let s=[];if(t){const a=this.playersByQueriedElement.get(n);a&&(s=a)}else{const a=this.playersByElement.get(n);if(a){const l=!o||o==gc;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||s.push(c)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(n,t,r){const o=t.element,s=t.isRemovalTransition?void 0:n,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,u=c!==o,d=Xn(r,c,[]);this._getPreviousPlayers(c,u,s,a,t.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}Vo(o,t.fromStyles)}_buildAnimation(n,t,r,i,o,s){const a=t.triggerName,l=t.element,c=[],u=new Set,d=new Set,h=t.timelines.map(p=>{const g=p.element;u.add(g);const v=g[Fr];if(v&&v.removedBeforeQueried)return new hc(p.duration,p.delay);const b=g!==l,E=function _G(e){const n=[];return cA(e,n),n}((r.get(g)||uG).map(ve=>ve.getRealPlayer())).filter(ve=>!!ve.element&&ve.element===g),R=o.get(g),F=s.get(g),V=UT(this._normalizer,p.keyframes,R,F),Q=this._buildPlayer(p,V,E);if(p.subTimeline&&i&&d.add(g),b){const ve=new Xy(n,a,g);ve.setRealPlayer(Q),c.push(ve)}return Q});c.forEach(p=>{Xn(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function pG(e,n,t){let r=e.get(n);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&e.delete(n)}return r}(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>gr(p,qT));const f=no(h);return f.onDestroy(()=>{u.forEach(p=>la(p,qT)),ii(l,t.toStyles)}),d.forEach(p=>{Xn(i,p,[]).push(f)}),f}_buildPlayer(n,t,r){return t.length>0?this.driver.animate(n.element,t,n.duration,n.delay,n.easing,r):new hc(n.duration,n.delay)}}class Xy{constructor(n,t,r){this.namespaceId=n,this.triggerName=t,this.element=r,this._player=new hc,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>Oy(n,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){const t=this._player;t.triggerCallback&&n.onStart(()=>t.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,t){Xn(this._queuedCallbacks,n,[]).push(t)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){const t=this._player;t.triggerCallback&&t.triggerCallback(n)}}function Dh(e){return e&&1===e.nodeType}function sA(e,n){const t=e.style.display;return e.style.display=n??"none",t}function aA(e,n,t,r,i){const o=[];t.forEach(l=>o.push(sA(l)));const s=[];r.forEach((l,c)=>{const u=new Map;l.forEach(d=>{const h=n.computeStyle(c,d,i);u.set(d,h),(!h||0==h.length)&&(c[Fr]=dG,s.push(c))}),e.set(c,u)});let a=0;return t.forEach(l=>sA(l,o[a++])),s}function lA(e,n){const t=new Map;if(e.forEach(a=>t.set(a,[])),0==n.length)return t;const i=new Set(n),o=new Map;function s(a){if(!a)return 1;let l=o.get(a);if(l)return l;const c=a.parentNode;return l=t.has(c)?c:i.has(c)?1:s(c),o.set(a,l),l}return n.forEach(a=>{const l=s(a);1!==l&&t.get(l).push(a)}),t}function gr(e,n){e.classList?.add(n)}function la(e,n){e.classList?.remove(n)}function yG(e,n,t){no(t).onDone(()=>e.processLeaveNode(n))}function cA(e,n){for(let t=0;t<e.length;t++){const r=e[t];r instanceof jT?cA(r.players,n):n.push(r)}}function uA(e,n,t){const r=t.get(e);if(!r)return!1;let i=n.get(e);return i?r.forEach(o=>i.add(o)):n.set(e,r),t.delete(e),!0}class mc{constructor(n,t,r,i){this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(o,s)=>{},this._transitionEngine=new fG(n.body,t,r,i),this._timelineEngine=new oG(n.body,t,r),this._transitionEngine.onRemovalComplete=(o,s)=>this.onRemovalComplete(o,s)}registerTrigger(n,t,r,i,o){const s=n+"-"+i;let a=this._triggerCache[s];if(!a){const l=[],u=zy(this._driver,o,l,[]);if(l.length)throw function lz(e,n){return new I(3404,!1)}();a=function tG(e,n,t){return new nG(e,n,t)}(i,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,i,a)}register(n,t){this._transitionEngine.register(n,t)}destroy(n,t){this._transitionEngine.destroy(n,t)}onInsert(n,t,r,i){this._transitionEngine.insertNode(n,t,r,i)}onRemove(n,t,r){this._transitionEngine.removeNode(n,t,r)}disableAnimations(n,t){this._transitionEngine.markElementAsDisabled(n,t)}process(n,t,r,i){if("@"==r.charAt(0)){const[o,s]=BT(r);this._timelineEngine.command(o,t,s,i)}else this._transitionEngine.trigger(n,t,r,i)}listen(n,t,r,i,o){if("@"==r.charAt(0)){const[s,a]=BT(r);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(n,t,r,i,o)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(n){this._transitionEngine.afterFlushAnimationsDone(n)}}class yc{static{this.initialStylesByElement=new WeakMap}constructor(n,t,r){this._element=n,this._startStyles=t,this._endStyles=r,this._state=0;let i=yc.initialStylesByElement.get(n);i||yc.initialStylesByElement.set(n,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&ii(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ii(this._element,this._initialStyles),this._endStyles&&(ii(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(yc.initialStylesByElement.delete(this._element),this._startStyles&&(Vo(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Vo(this._element,this._endStyles),this._endStyles=null),ii(this._element,this._initialStyles),this._state=3)}}function e_(e){let n=null;return e.forEach((t,r)=>{(function CG(e){return"display"===e||"position"===e})(r)&&(n=n||new Map,n.set(r,t))}),n}class dA{constructor(n,t,r,i){this.element=n,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:new Map;const t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(n){const t=[];return n.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(n,t,r){return n.animate(this._convertKeyframesToObject(t),r)}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const n=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&n.set(i,this._finished?r:Hy(this.element,i))}),this.currentSnapshot=n}triggerCallback(n){const t="start"===n?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class hA{validateStyleProperty(n){return!0}validateAnimatableStyleProperty(n){return!0}matchesElement(n,t){return!1}containsElement(n,t){return HT(n,t)}getParentElement(n){return Ny(n)}query(n,t,r){return zT(n,t,r)}computeStyle(n,t,r){return Hy(n,t)}animate(n,t,r,i,o,s=[]){const l={duration:r,delay:i,fill:0==i?"both":"forwards"};o&&(l.easing=o);const c=new Map,u=s.filter(f=>f instanceof dA);(function Rz(e,n){return 0===e||0===n})(r,i)&&u.forEach(f=>{f.currentSnapshot.forEach((p,g)=>c.set(g,p))});let d=function Az(e){return e.length?e[0]instanceof Map?e:e.map(n=>new Map(Object.entries(n))):[]}(t).map(f=>new Map(f));d=function kz(e,n,t){if(t.size&&n.length){let r=n[0],i=[];if(t.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<n.length;o++){let s=n[o];i.forEach(a=>s.set(a,Hy(e,a)))}}return n}(n,d,c);const h=function wG(e,n){let t=null,r=null;return Array.isArray(n)&&n.length?(t=e_(n[0]),n.length>1&&(r=e_(n[n.length-1]))):n instanceof Map&&(t=e_(n)),t||r?new yc(e,t,r):null}(n,d);return new dA(n,d,l,h)}}const fA="@.disabled";class pA{constructor(n,t,r,i){this.namespaceId=n,this.delegate=t,this.engine=r,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(n){this.delegate.destroyNode?.(n)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(n,t){return this.delegate.createElement(n,t)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,t){this.delegate.appendChild(n,t),this.engine.onInsert(this.namespaceId,t,n,!1)}insertBefore(n,t,r,i=!0){this.delegate.insertBefore(n,t,r),this.engine.onInsert(this.namespaceId,t,n,i)}removeChild(n,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(n,t){return this.delegate.selectRootElement(n,t)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,t,r,i){this.delegate.setAttribute(n,t,r,i)}removeAttribute(n,t,r){this.delegate.removeAttribute(n,t,r)}addClass(n,t){this.delegate.addClass(n,t)}removeClass(n,t){this.delegate.removeClass(n,t)}setStyle(n,t,r,i){this.delegate.setStyle(n,t,r,i)}removeStyle(n,t,r){this.delegate.removeStyle(n,t,r)}setProperty(n,t,r){"@"==t.charAt(0)&&t==fA?this.disableAnimations(n,!!r):this.delegate.setProperty(n,t,r)}setValue(n,t){this.delegate.setValue(n,t)}listen(n,t,r){return this.delegate.listen(n,t,r)}disableAnimations(n,t){this.engine.disableAnimations(n,t)}}class bG extends pA{constructor(n,t,r,i,o){super(t,r,i,o),this.factory=n,this.namespaceId=t}setProperty(n,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==fA?this.disableAnimations(n,r=void 0===r||!!r):this.engine.process(this.namespaceId,n,t.slice(1),r):this.delegate.setProperty(n,t,r)}listen(n,t,r){if("@"==t.charAt(0)){const i=function EG(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(n);let o=t.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function DG(e){const n=e.indexOf(".");return[e.substring(0,n),e.slice(n+1)]}(o)),this.engine.listen(this.namespaceId,i,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(n,t,r)}}class SG{constructor(n,t,r){this.delegate=n,this.engine=t,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(i,o)=>{const s=o?.parentNode(i);s&&o.removeChild(s,i)}}createRenderer(n,t){const i=this.delegate.createRenderer(n,t);if(!n||!t?.data?.animation){const c=this._rendererCache;let u=c.get(i);return u||(u=new pA("",i,this.engine,()=>c.delete(i)),c.set(i,u)),u}const o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,n);const a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(o,s,n,c.name,c)};return t.data.animation.forEach(a),new bG(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(n,t,r){if(n>=0&&n<this._microtaskId)return void this._zone.run(()=>t(r));const i=this._animationCallbacksBuffer;0==i.length&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([t,r])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}const gA=[{provide:Ly,useFactory:function IG(){return new JT}},{provide:mc,useClass:(()=>{class e extends mc{constructor(t,r,i){super(t,r,i,j(ed,{optional:!0}))}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(r){return new(r||e)(Y(xn),Y(Fy),Y(Ly))}}static{this.\u0275prov=q({token:e,factory:e.\u0275fac})}}return e})()},{provide:hg,useFactory:function TG(e,n,t){return new SG(e,n,t)},deps:[Qm,mc,Ge]}],t_=[{provide:Fy,useFactory:()=>new hA},{provide:EC,useValue:"BrowserAnimations"},...gA],mA=[{provide:Fy,useClass:xy},{provide:EC,useValue:"NoopAnimations"},...gA];let AG=(()=>{class e{static withConfig(t){return{ngModule:e,providers:t.disableAnimations?mA:t_}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=br({type:e})}static{this.\u0275inj=lr({providers:t_,imports:[JM]})}}return e})();function n_(...e){const n=Yd(e),t=XM(e),{args:r,keys:i}=FI(e);if(0===r.length)return Kt([],n);const o=new Nt(function OG(e,n,t=go){return r=>{yA(n,()=>{const{length:i}=e,o=new Array(i);let s=i,a=i;for(let l=0;l<i;l++)yA(n,()=>{const c=Kt(e[l],n);let u=!1;c.subscribe(Bt(r,d=>{o[l]=d,u||(u=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,n,i?s=>jI(i,s):go));return t?o.pipe(LI(t)):o}function yA(e,n,t){e?Ii(t,e,n):n()}const _c=hi(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function vc(e=1/0){return gn(go,e)}function r_(...e){return function RG(){return vc(1)}()(Kt(e,Yd(e)))}function _A(e){return new Nt(n=>{ni(e()).subscribe(n)})}function Mh(e,n){const t=Ee(e)?e:()=>e,r=i=>i.error(t());return new Nt(n?i=>n.schedule(r,0,i):r)}const oi=new Nt(e=>e.complete());function i_(){return tn((e,n)=>{let t=null;e._refCount++;const r=Bt(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(t=null);const i=e._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),n.unsubscribe()});e.subscribe(r),r.closed||(t=e.connect())})}class vA extends Nt{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Av(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new at;const t=this.getSubject();n.add(this.source.subscribe(Bt(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=at.EMPTY)}return n}refCount(){return i_()(this)}}function ca(e){return e<=0?()=>oi:tn((n,t)=>{let r=0;n.subscribe(Bt(t,i=>{++r<=e&&(t.next(i),e<=r&&t.complete())}))})}function Ih(e){return tn((n,t)=>{let r=!1;n.subscribe(Bt(t,i=>{r=!0,t.next(i)},()=>{r||t.next(e),t.complete()}))})}function wA(e=xG){return tn((n,t)=>{let r=!1;n.subscribe(Bt(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(e())))})}function xG(){return new _c}function Bo(e,n){const t=arguments.length>=2;return r=>r.pipe(e?Ti((i,o)=>e(i,o,r)):go,ca(1),t?Ih(n):wA(()=>new _c))}function In(e,n,t){const r=Ee(e)||n||t?{next:e,error:n,complete:t}:e;return r?tn((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(Bt(o,l=>{var c;null===(c=r.next)||void 0===c||c.call(r,l),o.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),o.complete()},l=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,l),o.error(l)},()=>{var l,c;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):go}function ua(e){return tn((n,t)=>{let o,r=null,i=!1;r=n.subscribe(Bt(t,void 0,void 0,s=>{o=ni(e(s,ua(e)(n))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function o_(e){return e<=0?()=>oi:tn((n,t)=>{let r=[];n.subscribe(Bt(t,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}const Me="primary",wc=Symbol("RouteTitle");class BG{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function da(e){return new BG(e)}function $G(e,n,t){const r=t.path.split("/");if(r.length>e.length||"full"===t.pathMatch&&(n.hasChildren()||r.length<e.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=e[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function si(e,n){const t=e?s_(e):void 0,r=n?s_(n):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!CA(e[i],n[i]))return!1;return!0}function s_(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function CA(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;const t=[...e].sort(),r=[...n].sort();return t.every((i,o)=>r[o]===i)}return e===n}function bA(e){return e.length>0?e[e.length-1]:null}function ro(e){return function PG(e){return!!e&&(e instanceof Nt||Ee(e.lift)&&Ee(e.subscribe))}(e)?e:Gl(e)?Kt(Promise.resolve(e)):he(e)}const zG={exact:function SA(e,n,t){if(!$o(e.segments,n.segments)||!Th(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children)if(!e.children[r]||!SA(e.children[r],n.children[r],t))return!1;return!0},subset:MA},EA={exact:function GG(e,n){return si(e,n)},subset:function qG(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>CA(e[t],n[t]))},ignored:()=>!0};function DA(e,n,t){return zG[t.paths](e.root,n.root,t.matrixParams)&&EA[t.queryParams](e.queryParams,n.queryParams)&&!("exact"===t.fragment&&e.fragment!==n.fragment)}function MA(e,n,t){return IA(e,n,n.segments,t)}function IA(e,n,t,r){if(e.segments.length>t.length){const i=e.segments.slice(0,t.length);return!(!$o(i,t)||n.hasChildren()||!Th(i,t,r))}if(e.segments.length===t.length){if(!$o(e.segments,t)||!Th(e.segments,t,r))return!1;for(const i in n.children)if(!e.children[i]||!MA(e.children[i],n.children[i],r))return!1;return!0}{const i=t.slice(0,e.segments.length),o=t.slice(e.segments.length);return!!($o(e.segments,i)&&Th(e.segments,i,r)&&e.children[Me])&&IA(e.children[Me],n,o,r)}}function Th(e,n,t){return n.every((r,i)=>EA[t](e[i].parameters,r.parameters))}class ha{constructor(n=new it([],{}),t={},r=null){this.root=n,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=da(this.queryParams),this._queryParamMap}toString(){return JG.serialize(this)}}class it{constructor(n,t){this.segments=n,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ah(this)}}class Cc{constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap??=da(this.parameters),this._parameterMap}toString(){return PA(this)}}function $o(e,n){return e.length===n.length&&e.every((t,r)=>t.path===n[r].path)}let fa=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=q({token:e,factory:()=>new a_,providedIn:"root"})}}return e})();class a_{parse(n){const t=new s5(n);return new ha(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){const t=`/${bc(n.root,!0)}`,r=function ZG(e){const n=Object.entries(e).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Ph(t)}=${Ph(i)}`).join("&"):`${Ph(t)}=${Ph(r)}`).filter(t=>t);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${t}${r}${"string"==typeof n.fragment?`#${function QG(e){return encodeURI(e)}(n.fragment)}`:""}`}}const JG=new a_;function Ah(e){return e.segments.map(n=>PA(n)).join("/")}function bc(e,n){if(!e.hasChildren())return Ah(e);if(n){const t=e.children[Me]?bc(e.children[Me],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==Me&&r.push(`${i}:${bc(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function KG(e,n){let t=[];return Object.entries(e.children).forEach(([r,i])=>{r===Me&&(t=t.concat(n(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==Me&&(t=t.concat(n(i,r)))}),t}(e,(r,i)=>i===Me?[bc(e.children[Me],!1)]:[`${i}:${bc(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[Me]?`${Ah(e)}/${t[0]}`:`${Ah(e)}/(${t.join("//")})`}}function TA(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ph(e){return TA(e).replace(/%3B/gi,";")}function l_(e){return TA(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Oh(e){return decodeURIComponent(e)}function AA(e){return Oh(e.replace(/\+/g,"%20"))}function PA(e){return`${l_(e.path)}${function YG(e){return Object.entries(e).map(([n,t])=>`;${l_(n)}=${l_(t)}`).join("")}(e.parameters)}`}const XG=/^[^\/()?;#]+/;function c_(e){const n=e.match(XG);return n?n[0]:""}const e5=/^[^\/()?;=#]+/,n5=/^[^=?&#]+/,i5=/^[^&#]+/;class s5{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new it([],{}):new it([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(r[Me]=new it(n,t)),r}parseSegment(){const n=c_(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new I(4009,!1);return this.capture(n),new Cc(Oh(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const t=function t5(e){const n=e.match(e5);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=c_(this.remaining);i&&(r=i,this.capture(r))}n[Oh(t)]=Oh(r)}parseQueryParam(n){const t=function r5(e){const n=e.match(n5);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=function o5(e){const n=e.match(i5);return n?n[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=AA(t),o=AA(r);if(n.hasOwnProperty(i)){let s=n[i];Array.isArray(s)||(s=[s],n[i]=s),s.push(o)}else n[i]=o}parseParens(n){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=c_(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new I(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=Me);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[Me]:new it([],s),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new I(4011,!1)}}function OA(e){return e.segments.length>0?new it([],{[Me]:e}):e}function RA(e){const n={};for(const[r,i]of Object.entries(e.children)){const o=RA(i);if(r===Me&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))n[s]=a;else(o.segments.length>0||o.hasChildren())&&(n[r]=o)}return function a5(e){if(1===e.numberOfChildren&&e.children[Me]){const n=e.children[Me];return new it(e.segments.concat(n.segments),n.children)}return e}(new it(e.segments,n))}function pa(e){return e instanceof ha}function kA(e){let n;const i=OA(function t(o){const s={};for(const l of o.children){const c=t(l);s[l.outlet]=c}const a=new it(o.url,s);return o===e&&(n=a),a}(e.root));return n??i}function NA(e,n,t,r){let i=e;for(;i.parent;)i=i.parent;if(0===n.length)return u_(i,i,i,t,r);const o=function c5(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new FA(!0,0,e);let n=0,t=!1;const r=e.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?n++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new FA(t,n,r)}(n);if(o.toRoot())return u_(i,i,new it([],{}),t,r);const s=function u5(e,n,t){if(e.isAbsolute)return new kh(n,!0,0);if(!t)return new kh(n,!1,NaN);if(null===t.parent)return new kh(t,!0,0);const r=Rh(e.commands[0])?0:1;return function d5(e,n,t){let r=e,i=n,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new I(4005,!1);i=r.segments.length}return new kh(r,!1,i-o)}(t,t.segments.length-1+r,e.numberOfDoubleDots)}(o,i,e),a=s.processChildren?Dc(s.segmentGroup,s.index,o.commands):LA(s.segmentGroup,s.index,o.commands);return u_(i,s.segmentGroup,a,t,r)}function Rh(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Ec(e){return"object"==typeof e&&null!=e&&e.outlets}function u_(e,n,t,r,i){let s,o={};r&&Object.entries(r).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`}),s=e===n?t:xA(e,n,t);const a=OA(RA(s));return new ha(a,o,i)}function xA(e,n,t){const r={};return Object.entries(e.children).forEach(([i,o])=>{r[i]=o===n?t:xA(o,n,t)}),new it(e.segments,r)}class FA{constructor(n,t,r){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=r,n&&r.length>0&&Rh(r[0]))throw new I(4003,!1);const i=r.find(Ec);if(i&&i!==bA(r))throw new I(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class kh{constructor(n,t,r){this.segmentGroup=n,this.processChildren=t,this.index=r}}function LA(e,n,t){if(e??=new it([],{}),0===e.segments.length&&e.hasChildren())return Dc(e,n,t);const r=function f5(e,n,t){let r=0,i=n;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=t.length)return o;const s=e.segments[i],a=t[r];if(Ec(a))break;const l=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!VA(l,c,s))return o;r+=2}else{if(!VA(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,n,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const o=new it(e.segments.slice(0,r.pathIndex),{});return o.children[Me]=new it(e.segments.slice(r.pathIndex),e.children),Dc(o,0,i)}return r.match&&0===i.length?new it(e.segments,{}):r.match&&!e.hasChildren()?d_(e,n,t):r.match?Dc(e,0,i):d_(e,n,t)}function Dc(e,n,t){if(0===t.length)return new it(e.segments,{});{const r=function h5(e){return Ec(e[0])?e[0].outlets:{[Me]:e}}(t),i={};if(Object.keys(r).some(o=>o!==Me)&&e.children[Me]&&1===e.numberOfChildren&&0===e.children[Me].segments.length){const o=Dc(e.children[Me],n,t);return new it(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=LA(e.children[o],n,s))}),Object.entries(e.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new it(e.segments,i)}}function d_(e,n,t){const r=e.segments.slice(0,n);let i=0;for(;i<t.length;){const o=t[i];if(Ec(o)){const l=p5(o.outlets);return new it(r,l)}if(0===i&&Rh(t[0])){r.push(new Cc(e.segments[n].path,jA(t[0]))),i++;continue}const s=Ec(o)?o.outlets[Me]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Rh(a)?(r.push(new Cc(s,jA(a))),i+=2):(r.push(new Cc(s,{})),i++)}return new it(r,{})}function p5(e){const n={};return Object.entries(e).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(n[t]=d_(new it([],{}),0,r))}),n}function jA(e){const n={};return Object.entries(e).forEach(([t,r])=>n[t]=`${r}`),n}function VA(e,n,t){return e==t.path&&si(n,t.parameters)}const Sc="imperative";var xe=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(xe||{});class ai{constructor(n,t){this.id=n,this.url=t}}class Nh extends ai{constructor(n,t,r="imperative",i=null){super(n,t),this.type=xe.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Oi extends ai{constructor(n,t,r){super(n,t),this.urlAfterRedirects=r,this.type=xe.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var tr=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(tr||{}),xh=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(xh||{});class ga extends ai{constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i,this.type=xe.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ma extends ai{constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i,this.type=xe.NavigationSkipped}}class Fh extends ai{constructor(n,t,r,i){super(n,t),this.error=r,this.target=i,this.type=xe.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class UA extends ai{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=xe.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class g5 extends ai{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=xe.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class m5 extends ai{constructor(n,t,r,i,o){super(n,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=xe.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class y5 extends ai{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=xe.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _5 extends ai{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=xe.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class v5{constructor(n){this.route=n,this.type=xe.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class w5{constructor(n){this.route=n,this.type=xe.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class C5{constructor(n){this.snapshot=n,this.type=xe.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class b5{constructor(n){this.snapshot=n,this.type=xe.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class E5{constructor(n){this.snapshot=n,this.type=xe.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class D5{constructor(n){this.snapshot=n,this.type=xe.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class BA{constructor(n,t,r){this.routerEvent=n,this.position=t,this.anchor=r,this.type=xe.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class h_{}class f_{constructor(n){this.url=n}}class S5{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Mc,this.attachRef=null}}let Mc=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new S5,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();class $A{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){const t=p_(n,this._root);return t?t.children.map(r=>r.value):[]}firstChild(n){const t=p_(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){const t=g_(n,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return g_(n,this._root).map(t=>t.value)}}function p_(e,n){if(e===n.value)return n;for(const t of n.children){const r=p_(e,t);if(r)return r}return null}function g_(e,n){if(e===n.value)return[n];for(const t of n.children){const r=g_(e,t);if(r.length)return r.unshift(n),r}return[]}class Lr{constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}}function ya(e){const n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}class HA extends $A{constructor(n,t){super(n),this.snapshot=t,__(this,n)}toString(){return this.snapshot.toString()}}function zA(e){const n=function M5(e){const o=new y_([],{},{},"",{},Me,e,null,{});return new GA("",new Lr(o,[]))}(e),t=new Bn([new Cc("",{})]),r=new Bn({}),i=new Bn({}),o=new Bn({}),s=new Bn(""),a=new Ri(t,r,o,s,i,Me,e,n.root);return a.snapshot=n.root,new HA(new Lr(a,[]),n)}class Ri{constructor(n,t,r,i,o,s,a,l){this.urlSubject=n,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Fe(c=>c[wc]))??he(void 0),this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Fe(n=>da(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Fe(n=>da(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function m_(e,n,t="emptyOnly"){let r;const{routeConfig:i}=e;return r=null===n||"always"!==t&&""!==i?.path&&(n.component||n.routeConfig?.loadComponent)?{params:{...e.params},data:{...e.data},resolve:{...e.data,...e._resolvedData??{}}}:{params:{...n.params,...e.params},data:{...n.data,...e.data},resolve:{...e.data,...n.data,...i?.data,...e._resolvedData}},i&&WA(i)&&(r.resolve[wc]=i.title),r}class y_{get title(){return this.data?.[wc]}constructor(n,t,r,i,o,s,a,l,c){this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=da(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=da(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class GA extends $A{constructor(n,t){super(t),this.url=n,__(this,t)}toString(){return qA(this._root)}}function __(e,n){n.value._routerState=e,n.children.forEach(t=>__(e,t))}function qA(e){const n=e.children.length>0?` { ${e.children.map(qA).join(", ")} } `:"";return`${e.value}${n}`}function v_(e){if(e.snapshot){const n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,si(n.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),n.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),si(n.params,t.params)||e.paramsSubject.next(t.params),function HG(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!si(e[t],n[t]))return!1;return!0}(n.url,t.url)||e.urlSubject.next(t.url),si(n.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function w_(e,n){const t=si(e.params,n.params)&&function WG(e,n){return $o(e,n)&&e.every((t,r)=>si(t.parameters,n[r].parameters))}(e.url,n.url);return t&&!(!e.parent!=!n.parent)&&(!e.parent||w_(e.parent,n.parent))}function WA(e){return"string"==typeof e.title||null===e.title}let C_=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Me,this.activateEvents=new Mt,this.deactivateEvents=new Mt,this.attachEvents=new Mt,this.detachEvents=new Mt,this.parentContexts=j(Mc),this.location=j(Tr),this.changeDetector=j(ql),this.environmentInjector=j(vn),this.inputBinder=j(Lh,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new I(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new I(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new I(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new I(4013,!1);this._activatedRoute=t;const i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new b_(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=pe({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[cr]})}}return e})();class b_{__ngOutletInjector(n){return new b_(this.route,this.childContexts,n)}constructor(n,t,r){this.route=n,this.childContexts=t,this.parent=r}get(n,t){return n===Ri?this.route:n===Mc?this.childContexts:this.parent.get(n,t)}}const Lh=new K("");let KA=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=n_([r.queryParams,r.params,r.data]).pipe(xr(([o,s,a],l)=>(a={...o,...s,...a},0===l?he(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const s=function cB(e){const n=Te(e);if(!n)return null;const t=new Ml(n);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}(r.component);if(s)for(const{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=q({token:e,factory:e.\u0275fac})}}return e})();function Ic(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=n.value;const i=function T5(e,n,t){return n.children.map(r=>{for(const i of t.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return Ic(e,r,i);return Ic(e,r)})}(e,n,t);return new Lr(r,i)}{if(e.shouldAttach(n.value)){const o=e.retrieve(n.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>Ic(e,a)),s}}const r=function A5(e){return new Ri(new Bn(e.url),new Bn(e.params),new Bn(e.queryParams),new Bn(e.fragment),new Bn(e.data),e.outlet,e.component,e)}(n.value),i=n.children.map(o=>Ic(e,o));return new Lr(r,i)}}const JA="ngNavigationCancelingError";function QA(e,n){const{redirectTo:t,navigationBehaviorOptions:r}=pa(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=YA(!1,tr.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function YA(e,n){const t=new Error(`NavigationCancelingError: ${e||""}`);return t[JA]=!0,t.cancellationCode=n,t}function ZA(e){return!!e&&e[JA]}let XA=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=$e({type:e,selectors:[["ng-component"]],standalone:!0,features:[UD],decls:1,vars:0,template:function(r,i){1&r&&Z(0,"router-outlet")},dependencies:[C_],encapsulation:2})}}return e})();function E_(e){const n=e.children&&e.children.map(E_),t=n?{...e,children:n}:{...e};return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==Me&&(t.component=XA),t}function li(e){return e.outlet||Me}function Tc(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){const t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class L5{constructor(n,t,r,i,o){this.routeReuseStrategy=n,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(n){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,n),v_(this.futureState.root),this.activateChildRoutes(t,r,n)}deactivateChildRoutes(n,t,r){const i=ya(t);n.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(n,t,r){const i=n.value,o=t?t.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(n,t,s.children)}else this.deactivateChildRoutes(n,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){const r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,o=ya(n);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,t){const r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,o=ya(n);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,t,r){const i=ya(t);n.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new D5(o.value.snapshot))}),n.children.length&&this.forwardEvent(new b5(n.value.snapshot))}activateRoutes(n,t,r){const i=n.value,o=t?t.value:null;if(v_(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,t,s.children)}else this.activateChildRoutes(n,t,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),v_(a.route.value),this.activateChildRoutes(n,null,s.children)}else{const a=Tc(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(n,null,s.children)}}else this.activateChildRoutes(n,null,r)}}class eP{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class jh{constructor(n,t){this.component=n,this.route=t}}function j5(e,n,t){const r=e._root;return Ac(r,n?n._root:null,t,[r.value])}function _a(e,n){const t=Symbol(),r=n.get(e,t);return r===t?"function"!=typeof e||function $O(e){return null!==Jc(e)}(e)?n.get(e):e:r}function Ac(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=ya(n);return e.children.forEach(s=>{(function U5(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,s=n?n.value:null,a=t?t.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function B5(e,n,t){if("function"==typeof t)return t(e,n);switch(t){case"pathParamsChange":return!$o(e.url,n.url);case"pathParamsOrQueryParamsChange":return!$o(e.url,n.url)||!si(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!w_(e,n)||!si(e.queryParams,n.queryParams);default:return!w_(e,n)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new eP(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Ac(e,n,o.component?a?a.children:null:t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new jh(a.outlet.component,s))}else s&&Pc(n,a,i),i.canActivateChecks.push(new eP(r)),Ac(e,null,o.component?a?a.children:null:t,r,i)})(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Pc(a,t.getContext(s),i)),i}function Pc(e,n,t){const r=ya(e),i=e.value;Object.entries(r).forEach(([o,s])=>{Pc(s,i.component?n?n.children.getContext(o):null:n,t)}),t.canDeactivateChecks.push(new jh(i.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,i))}function Oc(e){return"function"==typeof e}function tP(e){return e instanceof _c||"EmptyError"===e?.name}const Vh=Symbol("INITIAL_VALUE");function va(){return xr(e=>n_(e.map(n=>n.pipe(ca(1),function NG(...e){const n=Yd(e);return tn((t,r)=>{(n?r_(e,t,n):r_(e,t)).subscribe(r)})}(Vh)))).pipe(Fe(n=>{for(const t of n)if(!0!==t){if(t===Vh)return Vh;if(!1===t||t instanceof ha)return t}return!0}),Ti(n=>n!==Vh),ca(1)))}function nP(e){return function RO(...e){return Mv(e)}(In(n=>{if(pa(n))throw QA(0,n)}),Fe(n=>!0===n))}class D_{constructor(n){this.segmentGroup=n||null}}class S_ extends Error{constructor(n){super(),this.urlTree=n}}function wa(e){return Mh(new D_(e))}class sq{constructor(n,t){this.urlSerializer=n,this.urlTree=t}lineralizeSegments(n,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return he(r);if(i.numberOfChildren>1||!i.children[Me])return Mh(new I(4e3,!1));i=i.children[Me]}}applyRedirectCommands(n,t,r){const i=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),n,r);if(t.startsWith("/"))throw new S_(i);return i}applyRedirectCreateUrlTree(n,t,r,i){const o=this.createSegmentGroup(n,t.root,r,i);return new ha(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){const r={};return Object.entries(n).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(n,t,r,i){const o=this.createSegments(n,t.segments,r,i);let s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(n,l,r,i)}),new it(o,s)}createSegments(n,t,r,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(n,o,i):this.findOrReturn(o,r))}findPosParam(n,t,r){const i=r[t.path.substring(1)];if(!i)throw new I(4001,!1);return i}findOrReturn(n,t){let r=0;for(const i of t){if(i.path===n.path)return t.splice(r),i;r++}return n}}const M_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function aq(e,n,t,r,i){const o=I_(e,n,t);return o.matched?(r=function O5(e,n){return e.providers&&!e._injector&&(e._injector=ad(e.providers,n,`Route: ${e.path}`)),e._injector??n}(n,r),function rq(e,n,t,r){const i=n.canMatch;return i&&0!==i.length?he(i.map(s=>{const a=_a(s,e);return ro(function W5(e){return e&&Oc(e.canMatch)}(a)?a.canMatch(n,t):$r(e,()=>a(n,t)))})).pipe(va(),nP()):he(!0)}(r,n,t).pipe(Fe(s=>!0===s?o:{...M_}))):he(o)}function I_(e,n,t){if("**"===n.path)return function lq(e){return{matched:!0,parameters:e.length>0?bA(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}(t);if(""===n.path)return"full"===n.pathMatch&&(e.hasChildren()||t.length>0)?{...M_}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(n.matcher||$G)(t,e,n);if(!i)return{...M_};const o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function rP(e,n,t,r){return t.length>0&&function dq(e,n,t){return t.some(r=>Uh(e,n,r)&&li(r)!==Me)}(e,t,r)?{segmentGroup:new it(n,uq(r,new it(t,e.children))),slicedSegments:[]}:0===t.length&&function hq(e,n,t){return t.some(r=>Uh(e,n,r))}(e,t,r)?{segmentGroup:new it(e.segments,cq(e,t,r,e.children)),slicedSegments:t}:{segmentGroup:new it(e.segments,e.children),slicedSegments:t}}function cq(e,n,t,r){const i={};for(const o of t)if(Uh(e,n,o)&&!r[li(o)]){const s=new it([],{});i[li(o)]=s}return{...r,...i}}function uq(e,n){const t={};t[Me]=n;for(const r of e)if(""===r.path&&li(r)!==Me){const i=new it([],{});t[li(r)]=i}return t}function Uh(e,n,t){return(!(e.hasChildren()||n.length>0)||"full"!==t.pathMatch)&&""===t.path}class gq{}class _q{constructor(n,t,r,i,o,s,a){this.injector=n,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new sq(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(n){return new I(4002,`'${n.segmentGroup}'`)}recognize(){const n=rP(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(Fe(t=>{const r=new y_([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Me,this.rootComponentType,null,{}),i=new Lr(r,t),o=new GA("",i),s=function l5(e,n,t=null,r=null){return NA(kA(e),n,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(n){return this.processSegmentGroup(this.injector,this.config,n,Me).pipe(ua(r=>{if(r instanceof S_)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof D_?this.noMatchError(r):r}))}inheritParamsAndData(n,t){const r=n.value,i=m_(r,t,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),n.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(n,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(n,t,r):this.processSegment(n,t,r,r.segments,i,!0).pipe(Fe(o=>o instanceof Lr?[o]:[]))}processChildren(n,t,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return Kt(i).pipe(ia(o=>{const s=r.children[o],a=function x5(e,n){const t=e.filter(r=>li(r)===n);return t.push(...e.filter(r=>li(r)!==n)),t}(t,o);return this.processSegmentGroup(n,a,s,o)}),function LG(e,n){return tn(function FG(e,n,t,r,i){return(o,s)=>{let a=t,l=n,c=0;o.subscribe(Bt(s,u=>{const d=c++;l=a?e(l,u,d):(a=!0,u),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}(e,n,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),Ih(null),function jG(e,n){const t=arguments.length>=2;return r=>r.pipe(e?Ti((i,o)=>e(i,o,r)):go,o_(1),t?Ih(n):wA(()=>new _c))}(),gn(o=>{if(null===o)return wa(r);const s=iP(o);return function vq(e){e.sort((n,t)=>n.value.outlet===Me?-1:t.value.outlet===Me?1:n.value.outlet.localeCompare(t.value.outlet))}(s),he(s)}))}processSegment(n,t,r,i,o,s){return Kt(t).pipe(ia(a=>this.processSegmentAgainstRoute(a._injector??n,t,a,r,i,o,s).pipe(ua(l=>{if(l instanceof D_)return he(null);throw l}))),Bo(a=>!!a),ua(a=>{if(tP(a))return function pq(e,n,t){return 0===n.length&&!e.children[t]}(r,i,o)?he(new gq):wa(r);throw a}))}processSegmentAgainstRoute(n,t,r,i,o,s,a){return function fq(e,n,t,r){return!!(li(e)===r||r!==Me&&Uh(n,t,e))&&I_(n,e,t).matched}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(n,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(n,i,t,r,o,s):wa(i):wa(i)}expandSegmentAgainstRouteUsingRedirect(n,t,r,i,o,s){const{matched:a,consumedSegments:l,positionalParamSegments:c,remainingSegments:u}=I_(t,i,o);if(!a)return wa(t);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const d=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,c);return this.applyRedirects.lineralizeSegments(i,d).pipe(gn(h=>this.processSegment(n,r,t,h.concat(u),s,!1)))}matchSegmentAgainstRoute(n,t,r,i,o){const s=aq(t,r,i,n);return"**"===r.path&&(t.children={}),s.pipe(xr(a=>a.matched?this.getChildConfig(n=r._injector??n,r,i).pipe(xr(({routes:l})=>{const c=r._loadedInjector??n,{consumedSegments:u,remainingSegments:d,parameters:h}=a,f=new y_(u,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function Cq(e){return e.data||{}}(r),li(r),r.component??r._loadedComponent??null,r,function bq(e){return e.resolve||{}}(r)),{segmentGroup:p,slicedSegments:g}=rP(t,u,d,l);if(0===g.length&&p.hasChildren())return this.processChildren(c,l,p).pipe(Fe(b=>null===b?null:new Lr(f,b)));if(0===l.length&&0===g.length)return he(new Lr(f,[]));const v=li(r)===o;return this.processSegment(c,l,p,g,v?Me:o,!0).pipe(Fe(b=>new Lr(f,b instanceof Lr?[b]:[])))})):wa(t)))}getChildConfig(n,t,r){return t.children?he({routes:t.children,injector:n}):t.loadChildren?void 0!==t._loadedRoutes?he({routes:t._loadedRoutes,injector:t._loadedInjector}):function nq(e,n,t,r){const i=n.canLoad;return void 0===i||0===i.length?he(!0):he(i.map(s=>{const a=_a(s,e);return ro(function H5(e){return e&&Oc(e.canLoad)}(a)?a.canLoad(n,t):$r(e,()=>a(n,t)))})).pipe(va(),nP())}(n,t,r).pipe(gn(i=>i?this.configLoader.loadChildren(n,t).pipe(In(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function oq(e){return Mh(YA(!1,tr.GuardRejected))}())):he({routes:[],injector:n})}}function wq(e){const n=e.value.routeConfig;return n&&""===n.path}function iP(e){const n=[],t=new Set;for(const r of e){if(!wq(r)){n.push(r);continue}const i=n.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):n.push(r)}for(const r of t){const i=iP(r.children);n.push(new Lr(r.value,i))}return n.filter(r=>!t.has(r))}function oP(e){const n=e.children.map(t=>oP(t)).flat();return[e,...n]}function T_(e){return xr(n=>{const t=e(n);return t?Kt(t).pipe(Fe(()=>n)):he(n)})}let sP=(()=>{class e{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Me);return r}getResolvedTitleForRoute(t){return t.data[wc]}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=q({token:e,factory:()=>j(Tq),providedIn:"root"})}}return e})(),Tq=(()=>{class e extends sP{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||e)(Y(N3))}}static{this.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const Ca=new K("",{providedIn:"root",factory:()=>({})}),ba=new K("");let A_=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=j(_S)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return he(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=ro(t.loadComponent()).pipe(Fe(aP),In(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),tc(()=>{this.componentLoaders.delete(t)})),i=new vA(r,()=>new Tn).pipe(i_());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return he({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=function Aq(e,n,t,r){return ro(e.loadChildren()).pipe(Fe(aP),gn(i=>i instanceof N0||Array.isArray(i)?he(i):Kt(n.compileModuleAsync(i))),Fe(i=>{r&&r(e);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(t).injector,s=o.get(ba,[],{optional:!0,self:!0}).flat()),{routes:s.map(E_),injector:o}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(tc(()=>{this.childrenLoaders.delete(r)})),s=new vA(o,()=>new Tn).pipe(i_());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function aP(e){return function Pq(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let P_=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=q({token:e,factory:()=>j(Oq),providedIn:"root"})}}return e})(),Oq=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const lP=new K(""),cP=new K("");function Rq(e,n,t){const r=e.get(cP),i=e.get(xn);return e.get(Ge).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(c=>setTimeout(c));let o;const s=new Promise(c=>{o=c}),a=i.startViewTransition(()=>(o(),function kq(e){return new Promise(n=>{yg(n,{injector:e})})}(e))),{onViewTransitionCreated:l}=r;return l&&$r(e,()=>l({transition:a,from:n,to:t})),s})}let Bh=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Tn,this.transitionAbortSubject=new Tn,this.configLoader=j(A_),this.environmentInjector=j(vn),this.urlSerializer=j(fa),this.rootContexts=j(Mc),this.location=j(Jl),this.inputBindingEnabled=null!==j(Lh,{optional:!0}),this.titleStrategy=j(sP),this.options=j(Ca,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=j(P_),this.createViewTransition=j(lP,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>he(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new w5(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new v5(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t,r,i){return this.transitions=new Bn({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Sc,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ti(o=>0!==o.id),Fe(o=>({...o,extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),xr(o=>{let s=!1,a=!1;return he(o).pipe(xr(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",tr.SupersededByNewNavigation),oi;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const c=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!c&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const d="";return this.events.next(new ma(l.id,this.urlSerializer.serialize(l.rawUrl),d,xh.IgnoredSameUrlNavigation)),l.resolve(null),oi}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return he(l).pipe(xr(d=>{const h=this.transitions?.getValue();return this.events.next(new Nh(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions?.getValue()?oi:Promise.resolve(d)}),function Eq(e,n,t,r,i,o){return gn(s=>function mq(e,n,t,r,i,o,s="emptyOnly"){return new _q(e,n,t,r,i,s,o).recognize()}(e,n,t,r,s.extractedUrl,i,o).pipe(Fe(({state:a,tree:l})=>({...s,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),In(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects};const h=new UA(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:d,extractedUrl:h,source:f,restoredState:p,extras:g}=l,v=new Nh(d,this.urlSerializer.serialize(h),f,p);this.events.next(v);const b=zA(this.rootComponentType).snapshot;return this.currentTransition=o={...l,targetSnapshot:b,urlAfterRedirects:h,extras:{...g,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=h,he(o)}{const d="";return this.events.next(new ma(l.id,this.urlSerializer.serialize(l.extractedUrl),d,xh.IgnoredByUrlHandlingStrategy)),l.resolve(null),oi}}),In(l=>{const c=new g5(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),Fe(l=>(this.currentTransition=o={...l,guards:j5(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},o)),function K5(e,n){return gn(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?he({...t,guardsResult:!0}):function J5(e,n,t,r){return Kt(e).pipe(gn(i=>function tq(e,n,t,r,i){const o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return o&&0!==o.length?he(o.map(a=>{const l=Tc(n)??i,c=_a(a,l);return ro(function q5(e){return e&&Oc(e.canDeactivate)}(c)?c.canDeactivate(e,n,t,r):$r(l,()=>c(e,n,t,r))).pipe(Bo())})).pipe(va()):he(!0)}(i.component,i.route,t,n,r)),Bo(i=>!0!==i,!0))}(s,r,i,e).pipe(gn(a=>a&&function $5(e){return"boolean"==typeof e}(a)?function Q5(e,n,t,r){return Kt(n).pipe(ia(i=>r_(function Z5(e,n){return null!==e&&n&&n(new C5(e)),he(!0)}(i.route.parent,r),function Y5(e,n){return null!==e&&n&&n(new E5(e)),he(!0)}(i.route,r),function eq(e,n,t){const r=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(s=>function V5(e){const n=e.routeConfig?e.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:e,guards:n}:null}(s)).filter(s=>null!==s).map(s=>_A(()=>he(s.guards.map(l=>{const c=Tc(s.node)??t,u=_a(l,c);return ro(function G5(e){return e&&Oc(e.canActivateChild)}(u)?u.canActivateChild(r,e):$r(c,()=>u(r,e))).pipe(Bo())})).pipe(va())));return he(o).pipe(va())}(e,i.path,t),function X5(e,n,t){const r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||0===r.length)return he(!0);const i=r.map(o=>_A(()=>{const s=Tc(n)??t,a=_a(o,s);return ro(function z5(e){return e&&Oc(e.canActivate)}(a)?a.canActivate(n,e):$r(s,()=>a(n,e))).pipe(Bo())}));return he(i).pipe(va())}(e,i.route,t))),Bo(i=>!0!==i,!0))}(r,o,e,n):he(a)),Fe(a=>({...t,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),In(l=>{if(o.guardsResult=l.guardsResult,pa(l.guardsResult))throw QA(0,l.guardsResult);const c=new m5(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),Ti(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",tr.GuardRejected),!1)),T_(l=>{if(l.guards.canActivateChecks.length)return he(l).pipe(In(c=>{const u=new y5(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),xr(c=>{let u=!1;return he(c).pipe(function Dq(e,n){return gn(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return he(t);const o=new Set(i.map(l=>l.route)),s=new Set;for(const l of o)if(!s.has(l))for(const c of oP(l))s.add(c);let a=0;return Kt(s).pipe(ia(l=>o.has(l)?function Sq(e,n,t,r){const i=e.routeConfig,o=e._resolve;return void 0!==i?.title&&!WA(i)&&(o[wc]=i.title),function Mq(e,n,t,r){const i=s_(e);if(0===i.length)return he({});const o={};return Kt(i).pipe(gn(s=>function Iq(e,n,t,r){const i=Tc(n)??r,o=_a(e,i);return ro(o.resolve?o.resolve(n,t):$r(i,()=>o(n,t)))}(e[s],n,t,r).pipe(Bo(),In(a=>{o[s]=a}))),o_(1),function VG(e){return Fe(()=>e)}(o),ua(s=>tP(s)?oi:Mh(s)))}(o,e,n,r).pipe(Fe(s=>(e._resolvedData=s,e.data=m_(e,e.parent,t).resolve,null)))}(l,r,e,n):(l.data=m_(l,l.parent,e).resolve,he(void 0))),In(()=>a++),o_(1),gn(l=>a===s.size?he(t):oi))})}(this.paramsInheritanceStrategy,this.environmentInjector),In({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",tr.NoDataFromResolver)}}))}),In(c=>{const u=new _5(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),T_(l=>{const c=u=>{const d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(In(h=>{u.component=h}),Fe(()=>{})));for(const h of u.children)d.push(...c(h));return d};return n_(c(l.targetSnapshot.root)).pipe(Ih(null),ca(1))}),T_(()=>this.afterPreactivation()),xr(()=>{const{currentSnapshot:l,targetSnapshot:c}=o,u=this.createViewTransition?.(this.environmentInjector,l.root,c.root);return u?Kt(u).pipe(Fe(()=>o)):he(o)}),Fe(l=>{const c=function I5(e,n,t){const r=Ic(e,n._root,t?t._root:void 0);return new HA(r,n)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o={...l,targetRouterState:c},this.currentNavigation.targetRouterState=c,o}),In(()=>{this.events.next(new h_)}),((e,n,t,r)=>Fe(i=>(new L5(n,i.targetRouterState,i.currentRouterState,t,r).activate(e),i)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),ca(1),In({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Oi(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),function UG(e){return tn((n,t)=>{ni(e).subscribe(Bt(t,()=>t.complete(),sf)),!t.closed&&n.subscribe(t)})}(this.transitionAbortSubject.pipe(In(l=>{throw l}))),tc(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",tr.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),ua(l=>{if(a=!0,ZA(l))this.events.next(new ga(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),function P5(e){return ZA(e)&&pa(e.url)}(l)?this.events.next(new f_(l.url)):o.resolve(!1);else{this.events.next(new Fh(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(t.errorHandler(l))}catch(c){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(c)}}return oi}))}))}cancelNavigationTransition(t,r,i){const o=new ga(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Nq(e){return e!==Sc}let xq=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=q({token:e,factory:()=>j(Lq),providedIn:"root"})}}return e})();class Fq{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}}let Lq=(()=>{class e extends Fq{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Qt(e)))(i||e)}})()}static{this.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),uP=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=q({token:e,factory:()=>j(jq),providedIn:"root"})}}return e})(),jq=(()=>{class e extends uP{constructor(){super(...arguments),this.location=j(Jl),this.urlSerializer=j(fa),this.options=j(Ca,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=j(P_),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new ha,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=zA(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{"popstate"===r.type&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof Nh)this.stateMemento=this.createStateMemento();else if(t instanceof ma)this.rawUrlTree=r.initialUrl;else if(t instanceof UA){if("eager"===this.urlUpdateStrategy&&!r.extras.skipLocationChange){const i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(i,r)}}else t instanceof h_?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):t instanceof ga&&(t.code===tr.GuardRejected||t.code===tr.NoDataFromResolver)?this.restoreHistory(r):t instanceof Fh?this.restoreHistory(r,!0):t instanceof Oi&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",o)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&0===o&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Qt(e)))(i||e)}})()}static{this.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Rc=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(Rc||{});function dP(e,n){e.events.pipe(Ti(t=>t instanceof Oi||t instanceof ga||t instanceof Fh||t instanceof ma),Fe(t=>t instanceof Oi||t instanceof ma?Rc.COMPLETE:t instanceof ga&&(t.code===tr.Redirect||t.code===tr.SupersededByNewNavigation)?Rc.REDIRECTING:Rc.FAILED),Ti(t=>t!==Rc.REDIRECTING),ca(1)).subscribe(()=>{n()})}function Vq(e){throw e}const Uq={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Bq={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Yt=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=j(lS),this.stateManager=j(uP),this.options=j(Ca,{optional:!0})||{},this.pendingTasks=j(zi),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=j(Bh),this.urlSerializer=j(fa),this.location=j(Jl),this.urlHandlingStrategy=j(P_),this._events=new Tn,this.errorHandler=this.options.errorHandler||Vq,this.navigated=!1,this.routeReuseStrategy=j(xq),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=j(ba,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!j(Lh,{optional:!0}),this.eventsSubscription=new at,this.isNgZoneEnabled=j(Ge)instanceof Ge&&Ge.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(null!==i&&null!==o)if(this.stateManager.handleRouterEvent(r,o),r instanceof ga&&r.code!==tr.Redirect&&r.code!==tr.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Oi)this.navigated=!0;else if(r instanceof f_){const s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),a={info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Nq(i.source)};this.scheduleNavigation(s,Sc,null,a,{resolve:i.resolve,reject:i.reject,promise:i.promise})}(function Hq(e){return!(e instanceof h_||e instanceof f_)})(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Sc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const l={...i};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(E_),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s;let d,u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...o};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}null!==u&&(u=this.removeEmptyProps(u));try{d=kA(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),d=this.currentUrlTree.root}return NA(d,t,u,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=pa(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Sc,null,r)}navigate(t,r={skipLocationChange:!1}){return function $q(e){for(let n=0;n<e.length;n++)if(null==e[n])throw new I(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(i=!0===r?{...Uq}:!1===r?{...Bq}:r,pa(t))return DA(this.currentUrlTree,t,i);const o=this.parseUrl(t);return DA(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(null!=o&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((d,h)=>{a=d,l=h});const u=this.pendingTasks.add();return dP(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();class hP{}let qq=(()=>{class e{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Ti(t=>t instanceof Oi),ia(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=ad(o.providers,t,`Route: ${o.path}`));const s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Kt(i).pipe(vc())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):he(null);const o=i.pipe(gn(s=>null===s?he(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return r.loadComponent&&!r._loadedComponent?Kt([o,this.loader.loadComponent(r)]).pipe(vc()):o})}static{this.\u0275fac=function(r){return new(r||e)(Y(Yt),Y(_S),Y(vn),Y(hP),Y(A_))}}static{this.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const R_=new K("");let fP=(()=>{class e{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=j(vn),s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Nh?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Oi?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof ma&&t.code===xh.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof BA&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){var i=this;this.zone.runOutsideAngular(w(function*(){yield new Promise(o=>{setTimeout(()=>{o()}),yg(()=>{o()},{injector:i.environmentInjector})}),i.zone.run(()=>{i.transitions.events.next(new BA(t,"popstate"===i.lastSource?i.store[i.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){!function gb(){throw new Error("invalid")}()}}static{this.\u0275prov=q({token:e,factory:e.\u0275fac})}}return e})();function ci(e,n){return{\u0275kind:e,\u0275providers:n}}function gP(){const e=j(bn);return n=>{const t=e.get(Wi);if(n!==t.components[0])return;const r=e.get(Yt),i=e.get(mP);1===e.get(k_)&&r.initialNavigation(),e.get(yP,null,Pe.Optional)?.setUpPreloading(),e.get(R_,null,Pe.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const mP=new K("",{factory:()=>new Tn}),k_=new K("",{providedIn:"root",factory:()=>1}),yP=new K("");function Qq(e){return ci(0,[{provide:yP,useExisting:qq},{provide:hP,useExisting:e}])}function Zq(e){return ci(9,[{provide:lP,useValue:Rq},{provide:cP,useValue:{skipNextTransition:!!e?.skipInitialTransition,...e}}])}const _P=new K("ROUTER_FORROOT_GUARD"),Xq=[Jl,{provide:fa,useClass:a_},Yt,Mc,{provide:Ri,useFactory:function pP(e){return e.routerState.root},deps:[Yt]},A_,[]];let vP=(()=>{class e{constructor(t){}static forRoot(t,r){return{ngModule:e,providers:[Xq,[],{provide:ba,multi:!0,useValue:t},{provide:_P,useFactory:r8,deps:[[Yt,new eu,new tu]]},{provide:Ca,useValue:r||{}},r?.useHash?{provide:ko,useClass:pB}:{provide:ko,useClass:lM},{provide:R_,useFactory:()=>{const e=j(x$),n=j(Ge),t=j(Ca),r=j(Bh),i=j(fa);return t.scrollOffset&&e.setOffset(t.scrollOffset),new fP(i,r,e,n,t)}},r?.preloadingStrategy?Qq(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?i8(r):[],r?.bindToComponentInputs?ci(8,[KA,{provide:Lh,useExisting:KA}]).\u0275providers:[],r?.enableViewTransitions?Zq().\u0275providers:[],[{provide:wP,useFactory:gP},{provide:ym,multi:!0,useExisting:wP}]]}}static forChild(t){return{ngModule:e,providers:[{provide:ba,multi:!0,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||e)(Y(_P,8))}}static{this.\u0275mod=br({type:e})}static{this.\u0275inj=lr({})}}return e})();function r8(e){return"guarded"}function i8(e){return["disabled"===e.initialNavigation?ci(3,[{provide:gm,multi:!0,useFactory:()=>{const n=j(Yt);return()=>{n.setUpLocationChangeListener()}}},{provide:k_,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?ci(2,[{provide:k_,useValue:0},{provide:gm,multi:!0,deps:[bn],useFactory:n=>{const t=n.get(hB,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=n.get(Yt),o=n.get(mP);dP(i,()=>{r(!0)}),n.get(Bh).afterPreactivation=()=>(r(!0),o.closed?he(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const wP=new K("");function s8(e,n){1&e&&Z(0,"ion-icon",2)}function a8(e,n){1&e&&Z(0,"ion-icon",3)}let l8=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=$e({type:e,selectors:[["app-pw-req"]],inputs:{requirement:"requirement",satisfied:"satisfied"},decls:6,vars:3,consts:[["style","color: red;","name","alert-circle-outline",4,"ngIf"],["style","color: green;","name","checkmark-circle-outline",4,"ngIf"],["name","alert-circle-outline",2,"color","red"],["name","checkmark-circle-outline",2,"color","green"]],template:function(r,i){1&r&&(m(0,"div")(1,"span"),C(2),y(),m(3,"span"),W(4,s8,1,0,"ion-icon",0)(5,a8,1,0,"ion-icon",1),y()()),2&r&&(_(2),Ne(i.requirement),_(2),S("ngIf",!i.satisfied),_(),S("ngIf",i.satisfied))},dependencies:[vt],styles:["div[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}"]})}}return e})();const c8=["passwordInput"],u8=["confirmedPasswordInput"];function d8(e,n){if(1&e){const t=ge();m(0,"ion-icon",11),U("click",function(){return z(t),G(k().showPassword(!0))}),y()}}function h8(e,n){if(1&e){const t=ge();m(0,"ion-icon",12),U("click",function(){return z(t),G(k().showPassword(!1))}),y()}}let $h=(()=>{class e{constructor(){this.password="",this.confirmedPassword="",this.showEye=!0}isValid(){return this.password.length>7&&this.password==this.confirmedPassword&&this.hasUppercase()&&this.hasLowercase()&&this.hasNumber()}setBorder(t){this.passwordInput.nativeElement.style.border=t,this.confirmedPasswordInput.nativeElement.style.border=t}hasUppercase(){return/[A-Z]/.test(this.password)}hasLowercase(){return/[a-z]/.test(this.password)}hasNumber(){return/[0-9]/.test(this.password)}showPassword(t){this.passwordInput.nativeElement.type=t?"text":"password",this.confirmedPasswordInput.nativeElement.type=this.passwordInput.nativeElement.type,this.showEye=!t}disableInput(){this.showPassword(!1),this.passwordInput.nativeElement.disabled=!0,this.confirmedPasswordInput.nativeElement.disabled=!0}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=$e({type:e,selectors:[["app-new-password"]],viewQuery:function(r,i){if(1&r&&(Or(c8,5),Or(u8,5)),2&r){let o;dr(o=hr())&&(i.passwordInput=o.first),dr(o=hr())&&(i.confirmedPasswordInput=o.first)}},inputs:{inputFlexDirection:"inputFlexDirection"},decls:22,vars:13,consts:[["passwordInput",""],["confirmedPasswordInput",""],["id","password-input-container",1,"flex-column"],["id","password-inputs",3,"ngClass"],["id","password"],["type","password","autocomplete","new-password","placeholder","Password",3,"focus","ngModelChange","ngModel"],["name","eye-outline",3,"click",4,"ngIf"],["name","eye-off-outline",3,"click",4,"ngIf"],["type","password","autocomplete","new-password","placeholder","Confirm password",3,"focus","ngModelChange","ngModel"],["id","password-requirements"],[3,"satisfied","requirement"],["name","eye-outline",3,"click"],["name","eye-off-outline",3,"click"]],template:function(r,i){if(1&r){const o=ge();m(0,"div",2)(1,"div",3)(2,"div",4)(3,"input",5,0),U("focus",function(){return z(o),G(i.setBorder("1px solid grey"))}),Ve("ngModelChange",function(a){return z(o),He(i.password,a)||(i.password=a),G(a)}),y(),W(5,d8,1,0,"ion-icon",6)(6,h8,1,0,"ion-icon",7),y(),m(7,"div")(8,"input",8,1),U("focus",function(){return z(o),G(i.setBorder("1px solid grey"))}),Ve("ngModelChange",function(a){return z(o),He(i.confirmedPassword,a)||(i.confirmedPassword=a),G(a)}),y()()(),m(10,"div",9)(11,"p"),C(12,"Password requirements:"),y(),m(13,"ul")(14,"li"),Z(15,"app-pw-req",10),y(),m(16,"li"),Z(17,"app-pw-req",10),y(),m(18,"li"),Z(19,"app-pw-req",10),y(),m(20,"li"),Z(21,"app-pw-req",10),y()()()()}2&r&&(_(),S("ngClass",i.inputFlexDirection),_(2),je("ngModel",i.password),_(2),S("ngIf",i.showEye),_(),S("ngIf",!i.showEye),_(2),je("ngModel",i.confirmedPassword),_(7),S("satisfied",i.password.length>7)("requirement","At least 8 characters long"),_(2),S("satisfied",i.hasUppercase())("requirement","At least one uppercase letter"),_(2),S("satisfied",i.hasLowercase())("requirement","At least one lowercase letter"),_(2),S("satisfied",i.hasNumber())("requirement","At least one number"))},dependencies:[wM,vt,Fn,Zn,Ln,l8],styles:["#password-input-container[_ngcontent-%COMP%], #password-input-container[_ngcontent-%COMP%]   #password-inputs[_ngcontent-%COMP%]{gap:1em}#password-input-container[_ngcontent-%COMP%]   #password-inputs[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex}#password-input-container[_ngcontent-%COMP%]   #password-inputs[_ngcontent-%COMP%]   #password[_ngcontent-%COMP%]{align-items:center;justify-content:center;position:relative}#password-input-container[_ngcontent-%COMP%]   #password-inputs[_ngcontent-%COMP%]   #password[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.5em;position:absolute;right:.5em}#password-input-container[_ngcontent-%COMP%]   #password-inputs[_ngcontent-%COMP%]   #password[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]:hover{cursor:pointer;transform:scale(1.1)}#password-input-container[_ngcontent-%COMP%]   #password-requirements[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], #password-input-container[_ngcontent-%COMP%]   #password-requirements[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0}"]})}}return e})();const jt_supabaseUrl="https://xdlhyjzjygansfeoguvs.supabase.co";function CP(e){let n=new Date(e);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"2-digit"}).format(n)}class N_ extends Error{constructor(n,t="FunctionsError",r){super(n),this.name=t,this.context=r}}class p8 extends N_{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class bP extends N_{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class EP extends N_{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var DP=function(e){return e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2",e}(DP||{});class g8{constructor(n,{headers:t={},customFetch:r,region:i=DP.Any}={}){var e;this.url=n,this.headers=t,this.region=i,this.fetch=(e=r)?(...n)=>e(...n):(...n)=>fetch(...n)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return(0,J.__awaiter)(this,arguments,void 0,function*(t,r={}){var i;let o,s;try{const{headers:a,method:l,body:c,signal:u,timeout:d}=r;let h={},{region:f}=r;f||(f=this.region);const p=new URL(`${this.url}/${t}`);let g;f&&"any"!==f&&(h["x-region"]=f,p.searchParams.set("forceFunctionRegion",f)),c&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",g=c):"string"==typeof c?(h["Content-Type"]="text/plain",g=c):typeof FormData<"u"&&c instanceof FormData?g=c:(h["Content-Type"]="application/json",g=JSON.stringify(c)):g=c;let v=u;d&&(s=new AbortController,o=setTimeout(()=>s.abort(),d),u?(v=s.signal,u.addEventListener("abort",()=>s.abort())):v=s.signal);const b=yield this.fetch(p.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),a),body:g,signal:v}).catch(V=>{throw new p8(V)}),E=b.headers.get("x-relay-error");if(E&&"true"===E)throw new bP(b);if(!b.ok)throw new EP(b);let F,R=(null!==(i=b.headers.get("Content-Type"))&&void 0!==i?i:"text/plain").split(";")[0].trim();return F="application/json"===R?yield b.json():"application/octet-stream"===R||"application/pdf"===R?yield b.blob():"text/event-stream"===R?b:"multipart/form-data"===R?yield b.formData():yield b.text(),{data:F,error:null,response:b}}catch(a){return{data:null,error:a,response:a instanceof EP||a instanceof bP?a.context:void 0}}finally{o&&clearTimeout(o)}})}}var SP=Re(817),m8=Re.t(SP,2);const{PostgrestClient:MP}=SP||m8,E8=class b8{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&null!==(n=navigator.userAgent)&&void 0!==n&&n.includes("Vercel-Edge"))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const t=process.versions;if(t&&t.node){const i=parseInt(t.node.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let t=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(t+=`\n\nSuggested solution: ${n.workaround}`),new Error(t)}static createWebSocket(n,t){return new(this.getWebSocketConstructor())(n,t)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return"native"===n.type||"ws"===n.type}catch{return!1}}};var Ea=function(e){return e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed",e}(Ea||{}),Zt=function(e){return e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving",e}(Zt||{}),ui=function(e){return e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token",e}(ui||{}),AP=function(e){return e.websocket="websocket",e}(AP||{}),Da=function(e){return e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed",e}(Da||{});class T8{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast"}encode(n,t){return n.event!==this.BROADCAST_EVENT||n.payload instanceof ArrayBuffer||"string"!=typeof n.payload.event?t(JSON.stringify([n.join_ref,n.ref,n.topic,n.event,n.payload])):t(this._binaryEncodeUserBroadcastPush(n))}_binaryEncodeUserBroadcastPush(n){var t;return this._isArrayBuffer(null===(t=n.payload)||void 0===t?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var t,r,i,o;const s=n.topic,a=null!==(t=n.ref)&&void 0!==t?t:"",l=null!==(r=n.join_ref)&&void 0!==r?r:"",c=n.payload.event,u=null!==(o=null===(i=n.payload)||void 0===i?void 0:i.payload)&&void 0!==o?o:new ArrayBuffer(0),h=new ArrayBuffer(this.HEADER_LENGTH+(this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+s.length+c.length));let f=new DataView(h),p=0;f.setUint8(p++,this.KINDS.userBroadcastPush),f.setUint8(p++,l.length),f.setUint8(p++,a.length),f.setUint8(p++,s.length),f.setUint8(p++,c.length),f.setUint8(p++,this.BINARY_ENCODING),Array.from(l,v=>f.setUint8(p++,v.charCodeAt(0))),Array.from(a,v=>f.setUint8(p++,v.charCodeAt(0))),Array.from(s,v=>f.setUint8(p++,v.charCodeAt(0))),Array.from(c,v=>f.setUint8(p++,v.charCodeAt(0)));var g=new Uint8Array(h.byteLength+u.byteLength);return g.set(new Uint8Array(h),0),g.set(new Uint8Array(u),h.byteLength),g.buffer}_encodeJsonUserBroadcastPush(n){var t,r,i,o;const s=n.topic,a=null!==(t=n.ref)&&void 0!==t?t:"",l=null!==(r=n.join_ref)&&void 0!==r?r:"",c=n.payload.event,u=null!==(o=null===(i=n.payload)||void 0===i?void 0:i.payload)&&void 0!==o?o:{},h=(new TextEncoder).encode(JSON.stringify(u)).buffer,p=new ArrayBuffer(this.HEADER_LENGTH+(this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+s.length+c.length));let g=new DataView(p),v=0;g.setUint8(v++,this.KINDS.userBroadcastPush),g.setUint8(v++,l.length),g.setUint8(v++,a.length),g.setUint8(v++,s.length),g.setUint8(v++,c.length),g.setUint8(v++,this.JSON_ENCODING),Array.from(l,E=>g.setUint8(v++,E.charCodeAt(0))),Array.from(a,E=>g.setUint8(v++,E.charCodeAt(0))),Array.from(s,E=>g.setUint8(v++,E.charCodeAt(0))),Array.from(c,E=>g.setUint8(v++,E.charCodeAt(0)));var b=new Uint8Array(p.byteLength+h.byteLength);return b.set(new Uint8Array(p),0),b.set(new Uint8Array(h),p.byteLength),b.buffer}decode(n,t){if(this._isArrayBuffer(n))return t(this._binaryDecode(n));if("string"==typeof n){const r=JSON.parse(n),[i,o,s,a,l]=r;return t({join_ref:i,ref:o,topic:s,event:a,payload:l})}return t({})}_binaryDecode(n){const t=new DataView(n),r=t.getUint8(0),i=new TextDecoder;if(r===this.KINDS.userBroadcast)return this._decodeUserBroadcast(n,t,i)}_decodeUserBroadcast(n,t,r){const i=t.getUint8(1),o=t.getUint8(2),s=t.getUint8(3),a=t.getUint8(4);let l=this.HEADER_LENGTH+4;const c=r.decode(n.slice(l,l+i));l+=i;const u=r.decode(n.slice(l,l+o));l+=o;const d=r.decode(n.slice(l,l+s));l+=s;const h=n.slice(l,n.byteLength),f=a===this.JSON_ENCODING?JSON.parse(r.decode(h)):h,p={type:this.BROADCAST_EVENT,event:u,payload:f};return s>0&&(p.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:p}}_isArrayBuffer(n){var t;return n instanceof ArrayBuffer||"ArrayBuffer"===(null===(t=n?.constructor)||void 0===t?void 0:t.name)}}class PP{constructor(n,t){this.callback=n,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var gt=function(e){return e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange",e}(gt||{});const OP=(e,n,t={})=>{var r;const i=null!==(r=t.skipTypes)&&void 0!==r?r:[];return n?Object.keys(n).reduce((o,s)=>(o[s]=A8(s,e,n,i),o),{}):{}},A8=(e,n,t,r)=>{const i=n.find(a=>a.name===e),o=i?.type,s=t[e];return o&&!r.includes(o)?RP(o,s):F_(s)},RP=(e,n)=>{if("_"===e.charAt(0)){const t=e.slice(1,e.length);return k8(n,t)}switch(e){case gt.bool:return P8(n);case gt.float4:case gt.float8:case gt.int2:case gt.int4:case gt.int8:case gt.numeric:case gt.oid:return O8(n);case gt.json:case gt.jsonb:return R8(n);case gt.timestamp:return N8(n);default:return F_(n)}},F_=e=>e,P8=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},O8=e=>{if("string"==typeof e){const n=parseFloat(e);if(!Number.isNaN(n))return n}return e},R8=e=>{if("string"==typeof e)try{return JSON.parse(e)}catch(n){return console.log(`JSON parse error: ${n}`),e}return e},k8=(e,n)=>{if("string"!=typeof e)return e;const t=e.length-1;if("{"===e[0]&&"}"===e[t]){let o;const s=e.slice(1,t);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>RP(n,a))}return e},N8=e=>"string"==typeof e?e.replace(" ","T"):e,kP=e=>{const n=new URL(e);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname=""===n.pathname||"/"===n.pathname?"/api/broadcast":n.pathname+"/api/broadcast",n.href};class L_{constructor(n,t,r={},i=1e4){this.channel=n,this.event=t,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,t){var r;return this._hasReceived(n)&&t(null===(r=this.receivedResp)||void 0===r?void 0:r.response),this.recHooks.push({status:n,callback:t}),this}startTimeout(){this.timeoutTimer||(this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref),this.channel._on(this.refEvent,{},t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout))}trigger(n,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:t}){this.recHooks.filter(r=>r.status===n).forEach(r=>r.callback(t))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}class kc{constructor(n,t){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=kc.syncState(this.state,i,o,s),this.pendingDiffs.forEach(l=>{this.state=kc.syncDiff(this.state,l,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=kc.syncDiff(this.state,i,o,s),a())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,t,r,i){const o=this.cloneDeep(n),s=this.transformState(t),a={},l={};return this.map(o,(c,u)=>{s[c]||(l[c]=u)}),this.map(s,(c,u)=>{const d=o[c];if(d){const h=u.map(v=>v.presence_ref),f=d.map(v=>v.presence_ref),p=u.filter(v=>f.indexOf(v.presence_ref)<0),g=d.filter(v=>h.indexOf(v.presence_ref)<0);p.length>0&&(a[c]=p),g.length>0&&(l[c]=g)}else a[c]=u}),this.syncDiff(o,{joins:a,leaves:l},r,i)}static syncDiff(n,t,r,i){const{joins:o,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(a,l)=>{var c;const u=null!==(c=n[a])&&void 0!==c?c:[];if(n[a]=this.cloneDeep(l),u.length>0){const d=n[a].map(f=>f.presence_ref),h=u.filter(f=>d.indexOf(f.presence_ref)<0);n[a].unshift(...h)}r(a,u,l)}),this.map(s,(a,l)=>{let c=n[a];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),n[a]=c,i(a,c,l),0===c.length&&delete n[a]}),n}static map(n,t){return Object.getOwnPropertyNames(n).map(r=>t(r,n[r]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((t,r)=>{const i=n[r];return t[r]="metas"in i?i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):i,t},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Hh=function(e){return e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system",e}(Hh||{}),io=function(e){return e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR",e}(io||{});class j_{constructor(n,t={config:{}},r){var i,o;if(this.topic=n,this.params=t,this.socket=r,this.bindings={},this.state=Zt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new L_(this,ui.join,this.params,this.timeout),this.rejoinTimer=new PP(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Zt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Zt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Zt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Zt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Zt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ui.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new kc(this),this.broadcastEndpointURL=kP(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&null!==(o=null===(i=this.params.config)||void 0===i?void 0:i.broadcast)&&void 0!==o&&o.replay)throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,t=this.timeout){var i,o,s,r=this;if(this.socket.isConnected()||this.socket.connect(),this.state==Zt.closed){const{config:{broadcast:a,presence:l,private:c}}=this.params,u=null!==(o=null===(i=this.bindings.postgres_changes)||void 0===i?void 0:i.map(p=>p.filter))&&void 0!==o?o:[],d=!!this.bindings[Hh.PRESENCE]&&this.bindings[Hh.PRESENCE].length>0||!0===(null===(s=this.params.config.presence)||void 0===s?void 0:s.enabled),h={},f={broadcast:a,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(p=>n?.(io.CHANNEL_ERROR,p)),this._onClose(()=>n?.(io.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",function(){var p=w(function*({postgres_changes:g}){var v;if(r.socket.setAuth(),void 0!==g){const b=r.bindings.postgres_changes,E=null!==(v=b?.length)&&void 0!==v?v:0,R=[];for(let F=0;F<E;F++){const V=b[F],{filter:{event:Q,schema:ve,table:oe,filter:Qe}}=V,sn=g&&g[F];if(!sn||sn.event!==Q||sn.schema!==ve||sn.table!==oe||sn.filter!==Qe)return r.unsubscribe(),r.state=Zt.errored,void n?.(io.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));R.push(Object.assign(Object.assign({},V),{id:sn.id}))}return r.bindings.postgres_changes=R,void(n&&n(io.SUBSCRIBED))}n?.(io.SUBSCRIBED)});return function(g){return p.apply(this,arguments)}}()).receive("error",p=>{this.state=Zt.errored,n?.(io.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{n?.(io.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(n){var t=this;return w(function*(r,i={}){return yield t.send({type:"presence",event:"track",payload:r},i.timeout||t.timeout)}).apply(this,arguments)}untrack(){var n=this;return w(function*(t={}){return yield n.send({type:"presence",event:"untrack"},t)}).apply(this,arguments)}on(n,t,r){return this.state===Zt.joined&&n===Hh.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(n,t,r)}httpSend(n,t){var r=this;return w(function*(i,o,s={}){var a;const l=r.socket.accessTokenValue?`Bearer ${r.socket.accessTokenValue}`:"";if(null==o)return Promise.reject("Payload is required for httpSend()");const c={method:"POST",headers:{Authorization:l,apikey:r.socket.apiKey?r.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:r.subTopic,event:i,payload:o,private:r.private}]})},u=yield r._fetchWithTimeout(r.broadcastEndpointURL,c,null!==(a=s.timeout)&&void 0!==a?a:r.timeout);if(202===u.status)return{success:!0};let d=u.statusText;try{const h=yield u.json();d=h.error||h.message||d}catch{}return Promise.reject(new Error(d))}).apply(this,arguments)}send(n){var t=this;return w(function*(r,i={}){var o,s;if(t._canPush()||"broadcast"!==r.type)return new Promise(a=>{var l,c,u;const d=t._push(r.type,r,i.timeout||t.timeout);"broadcast"===r.type&&!(null!==(u=null===(c=null===(l=t.params)||void 0===l?void 0:l.config)||void 0===c?void 0:c.broadcast)&&void 0!==u&&u.ack)&&a("ok"),d.receive("ok",()=>a("ok")),d.receive("error",()=>a("error")),d.receive("timeout",()=>a("timed out"))});{console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:l}=r,u={method:"POST",headers:{Authorization:t.socket.accessTokenValue?`Bearer ${t.socket.accessTokenValue}`:"",apikey:t.socket.apiKey?t.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:t.subTopic,event:a,payload:l,private:t.private}]})};try{const d=yield t._fetchWithTimeout(t.broadcastEndpointURL,u,null!==(o=i.timeout)&&void 0!==o?o:t.timeout);return yield null===(s=d.body)||void 0===s?void 0:s.cancel(),d.ok?"ok":"error"}catch(d){return"AbortError"===d.name?"timed out":"error"}}}).apply(this,arguments)}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=Zt.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ui.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new L_(this,ui.leave,{},n),r.receive("ok",()=>{t(),i("ok")}).receive("timeout",()=>{t(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Zt.closed,this.bindings={}}_fetchWithTimeout(n,t,r){var i=this;return w(function*(){const o=new AbortController,s=setTimeout(()=>o.abort(),r),a=yield i.socket.fetch(n,Object.assign(Object.assign({},t),{signal:o.signal}));return clearTimeout(s),a})()}_push(n,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new L_(this,n,t,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>100){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(n,t,r){return t}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,t,r){var i,o;const s=n.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=ui;if(r&&[a,l,c,u].indexOf(s)>=0&&r!==this._joinRef())return;let h=this._onMessage(s,t,r);if(t&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?null===(i=this.bindings.postgres_changes)||void 0===i||i.filter(f=>{var p,g,v;return"*"===(null===(p=f.filter)||void 0===p?void 0:p.event)||(null===(v=null===(g=f.filter)||void 0===g?void 0:g.event)||void 0===v?void 0:v.toLocaleLowerCase())===s}).map(f=>f.callback(h,r)):null===(o=this.bindings[s])||void 0===o||o.filter(f=>{var p,g,v,b,E,R;if(["broadcast","presence","postgres_changes"].includes(s)){if("id"in f){const F=f.id,V=null===(p=f.filter)||void 0===p?void 0:p.event;return F&&(null===(g=t.ids)||void 0===g?void 0:g.includes(F))&&("*"===V||V?.toLocaleLowerCase()===(null===(v=t.data)||void 0===v?void 0:v.type.toLocaleLowerCase()))}{const F=null===(E=null===(b=f?.filter)||void 0===b?void 0:b.event)||void 0===E?void 0:E.toLocaleLowerCase();return"*"===F||F===(null===(R=t?.event)||void 0===R?void 0:R.toLocaleLowerCase())}}return f.type.toLocaleLowerCase()===s}).map(f=>{if("object"==typeof h&&"ids"in h){const p=h.data,{schema:g,table:v,commit_timestamp:b,type:E,errors:R}=p;h=Object.assign(Object.assign({},{schema:g,table:v,commit_timestamp:b,eventType:E,new:{},old:{},errors:R}),this._getPayloadRecords(p))}f.callback(h,r)})}_isClosed(){return this.state===Zt.closed}_isJoined(){return this.state===Zt.joined}_isJoining(){return this.state===Zt.joining}_isLeaving(){return this.state===Zt.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,t,r){const i=n.toLocaleLowerCase(),o={type:i,filter:t,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(n,t){const r=n.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!((null===(o=i.type)||void 0===o?void 0:o.toLocaleLowerCase())===r&&j_.isEqual(i.filter,t))})),this}static isEqual(n,t){if(Object.keys(n).length!==Object.keys(t).length)return!1;for(const r in n)if(n[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(ui.close,{},n)}_onError(n){this._on(ui.error,{},t=>n(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Zt.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const t={new:{},old:{}};return("INSERT"===n.type||"UPDATE"===n.type)&&(t.new=OP(n.columns,n.record)),("UPDATE"===n.type||"DELETE"===n.type)&&(t.old=OP(n.columns,n.old_record)),t}}const V_=()=>{},L8=[1e3,2e3,5e3,1e4];class U8{constructor(n,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=1e4,this.transport=null,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=V_,this.ref=0,this.reconnectTimer=null,this.vsn="1.0.0",this.logger=V_,this.conn=null,this.sendBuffer=[],this.serializer=new T8,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),null===(r=t?.params)||void 0===r||!r.apikey)throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${n}/${AP.websocket}`,this.httpEndpoint=kP(n),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=E8.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const t=n.message;throw t.includes("Node.js")?new Error(`${t}\n\nTo use Realtime in Node.js, you need to provide a WebSocket implementation:\n\nOption 1: Use Node.js 22+ which has native WebSocket support\nOption 2: Install and provide the "ws" package:\n\n  npm install ws\n\n  import ws from "ws"\n  const client = new RealtimeClient(url, {\n    ...options,\n    transport: ws\n  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},"function"==typeof this.conn.close&&(n?this.conn.close(n,t??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}removeChannel(n){var t=this;return w(function*(){const r=yield n.unsubscribe();return 0===t.channels.length&&t.disconnect(),r})()}removeAllChannels(){var n=this;return w(function*(){const t=yield Promise.all(n.channels.map(r=>r.unsubscribe()));return n.channels=[],n.disconnect(),t})()}log(n,t,r){this.logger(n,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ea.connecting:return Da.Connecting;case Ea.open:return Da.Open;case Ea.closing:return Da.Closing;default:return Da.Closed}}isConnected(){return this.connectionState()===Da.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(n,t={config:{}}){const r=`realtime:${n}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{const o=new j_(`realtime:${n}`,t,this);return this.channels.push(o),o}}push(n){const{topic:t,event:r,payload:i,ref:o}=n,s=()=>{this.encode(n,a=>{var l;null===(l=this.conn)||void 0===l||l.send(a)})};this.log("push",`${t} ${r} (${o})`,i),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(){var n=this;return w(function*(t=null){n._authPromise=n._performAuth(t);try{yield n._authPromise}finally{n._authPromise=null}}).apply(this,arguments)}sendHeartbeat(){var n=this;return w(function*(){var t;if(n.isConnected()){if(n.pendingHeartbeatRef){n.pendingHeartbeatRef=null,n.log("transport","heartbeat timeout. Attempting to re-establish connection");try{n.heartbeatCallback("timeout")}catch(r){n.log("error","error in heartbeat callback",r)}return n._wasManualDisconnect=!1,null===(t=n.conn)||void 0===t||t.close(1e3,"heartbeat timeout"),void setTimeout(()=>{var r;n.isConnected()||null===(r=n.reconnectTimer)||void 0===r||r.scheduleTimeout()},100)}n.pendingHeartbeatRef=n._makeRef(),n.push({topic:"phoenix",event:"heartbeat",payload:{},ref:n.pendingHeartbeatRef});try{n.heartbeatCallback("sent")}catch(r){n.log("error","error in heartbeat callback",r)}n._setAuthSafely("heartbeat")}else try{n.heartbeatCallback("disconnected")}catch(r){n.log("error","error in heartbeat callback",r)}})()}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return this.ref=n===this.ref?0:n,this.ref.toString()}_leaveOpenTopic(n){let t=this.channels.find(r=>r.topic===n&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${n}"`),t.unsubscribe())}_remove(n){this.channels=this.channels.filter(t=>t.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,t=>{if("phoenix"===t.topic&&"phx_reply"===t.event)try{this.heartbeatCallback("ok"===t.payload.status?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:o,ref:s}=t;this.log("receive",`${o.status||""} ${r} ${i} ${s?`(${s})`:""}`.trim(),o),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(i,o,s)),this._triggerStateCallbacks("message",t)})}_clearTimer(n){var t;"heartbeat"===n&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===n&&(null===(t=this.reconnectTimer)||void 0===t||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ea.open||this.conn.readyState===Ea.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(t=>{this.log("error","error waiting for auth on connect",t),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.log("worker",this.workerUrl?`starting worker for from ${this.workerUrl}`:"starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{"keepAlive"===t.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(n){var t;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(t=this.reconnectTimer)||void 0===t||t.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(ui.error))}_appendParams(n,t){if(0===Object.keys(t).length)return n;const r=n.match(/\?/)?"&":"?";return`${n}${r}${new URLSearchParams(t)}`}_workerObjectUrl(n){let t;if(n)t=n;else{const r=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}_setConnectionState(n,t=!1){this._connectionState=n,"connecting"===n?this._wasManualDisconnect=!1:"disconnecting"===n&&(this._wasManualDisconnect=t)}_performAuth(){var n=this;return w(function*(t=null){let r;r=t||(n.accessToken?yield n.accessToken():n.accessTokenValue),n.accessTokenValue!=r&&(n.accessTokenValue=r,n.channels.forEach(i=>{r&&i.updateJoinPayload({access_token:r,version:"realtime-js/2.84.0"}),i.joinedOnce&&i._isJoined()&&i._push(ui.access_token,{access_token:r})}))}).apply(this,arguments)}_waitForAuthIfNeeded(){var n=this;return w(function*(){n._authPromise&&(yield n._authPromise)})()}_setAuthSafely(n="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${n}`,t)})}_triggerStateCallbacks(n,t){try{this.stateChangeCallbacks[n].forEach(r=>{try{r(t)}catch(i){this.log("error",`error in ${n} callback`,i)}})}catch(r){this.log("error",`error triggering ${n} callbacks`,r)}}_setupReconnectionTimer(){var n=this;this.reconnectTimer=new PP(w(function*(){setTimeout(w(function*(){yield n._waitForAuthIfNeeded(),n.isConnected()||n.connect()}),10)}),this.reconnectAfterMs)}_initializeOptions(n){var t,r,i,o,s,a,l,c,u,d,h,f;switch(this.transport=null!==(t=n?.transport)&&void 0!==t?t:null,this.timeout=null!==(r=n?.timeout)&&void 0!==r?r:1e4,this.heartbeatIntervalMs=null!==(i=n?.heartbeatIntervalMs)&&void 0!==i?i:25e3,this.worker=null!==(o=n?.worker)&&void 0!==o&&o,this.accessToken=null!==(s=n?.accessToken)&&void 0!==s?s:null,this.heartbeatCallback=null!==(a=n?.heartbeatCallback)&&void 0!==a?a:V_,this.vsn=null!==(l=n?.vsn)&&void 0!==l?l:"1.0.0",n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(c=n?.reconnectAfterMs)&&void 0!==c?c:p=>L8[p-1]||1e4,this.vsn){case"1.0.0":this.encode=null!==(u=n?.encode)&&void 0!==u?u:(p,g)=>g(JSON.stringify(p)),this.decode=null!==(d=n?.decode)&&void 0!==d?d:(p,g)=>g(JSON.parse(p));break;case"2.0.0":this.encode=null!==(h=n?.encode)&&void 0!==h?h:this.serializer.encode.bind(this.serializer),this.decode=null!==(f=n?.decode)&&void 0!==f?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}}class U_ extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function bt(e){return"object"==typeof e&&null!==e&&"__isStorageError"in e}class B8 extends U_{constructor(n,t,r){super(n),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class B_ extends U_{constructor(n,t){super(n),this.name="StorageUnknownError",this.originalError=t}}const $_=e=>e?(...n)=>e(...n):(...n)=>fetch(...n),H_=e=>{if(Array.isArray(e))return e.map(t=>H_(t));if("function"==typeof e||e!==Object(e))return e;const n={};return Object.entries(e).forEach(([t,r])=>{const i=t.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));n[i]=H_(r)}),n},z_=e=>{var n;return e.msg||e.message||e.error_description||("string"==typeof e.error?e.error:null===(n=e.error)||void 0===n?void 0:n.message)||JSON.stringify(e)},z8=(e,n,t)=>(0,J.__awaiter)(void 0,void 0,void 0,function*(){const r=yield Response;e instanceof r&&!t?.noResolveJson?e.json().then(i=>{const o=e.status||500,s=i?.statusCode||o+"";n(new B8(z_(i),o,s))}).catch(i=>{n(new B_(z_(i),i))}):n(new B_(z_(e),e))}),G8=(e,n,t,r)=>{const i={method:e,headers:n?.headers||{}};return"GET"!==e&&r?((e=>{if("object"!=typeof e||null===e)return!1;const n=Object.getPrototypeOf(e);return!(null!==n&&n!==Object.prototype&&null!==Object.getPrototypeOf(n)||Symbol.toStringTag in e||Symbol.iterator in e)})(r)?(i.headers=Object.assign({"Content-Type":"application/json"},n?.headers),i.body=JSON.stringify(r)):i.body=r,n?.duplex&&(i.duplex=n.duplex),Object.assign(Object.assign({},i),t)):i};function Nc(e,n,t,r,i,o){return(0,J.__awaiter)(this,void 0,void 0,function*(){return new Promise((s,a)=>{e(t,G8(n,r,i,o)).then(l=>{if(!l.ok)throw l;return r?.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>z8(l,a,r))})})}function xc(e,n,t,r){return(0,J.__awaiter)(this,void 0,void 0,function*(){return Nc(e,"GET",n,t,r)})}function jr(e,n,t,r,i){return(0,J.__awaiter)(this,void 0,void 0,function*(){return Nc(e,"POST",n,r,i,t)})}function G_(e,n,t,r,i){return(0,J.__awaiter)(this,void 0,void 0,function*(){return Nc(e,"PUT",n,r,i,t)})}function q_(e,n,t,r,i){return(0,J.__awaiter)(this,void 0,void 0,function*(){return Nc(e,"DELETE",n,r,i,t)})}class W8{constructor(n,t){this.downloadFn=n,this.shouldThrowOnError=t}then(n,t){return this.execute().then(n,t)}execute(){return(0,J.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bt(n))return{data:null,error:n};throw n}})}}var NP;NP=Symbol.toStringTag;const J8=class K8{constructor(n,t){this.downloadFn=n,this.shouldThrowOnError=t,this[NP]="BlobDownloadBuilder",this.promise=null}asStream(){return new W8(this.downloadFn,this.shouldThrowOnError)}then(n,t){return this.getPromise().then(n,t)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return(0,J.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bt(n))return{data:null,error:n};throw n}})}},Q8={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},xP={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Y8{constructor(n,t={},r,i){this.shouldThrowOnError=!1,this.url=n,this.headers=t,this.bucketId=r,this.fetch=$_(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(n,t,r,i){return(0,J.__awaiter)(this,void 0,void 0,function*(){try{let o;const s=Object.assign(Object.assign({},xP),i);let a=Object.assign(Object.assign({},this.headers),"POST"===n&&{"x-upsert":String(s.upsert)});const l=s.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.has("cacheControl")||o.append("cacheControl",s.cacheControl),l&&!o.has("metadata")&&o.append("metadata",this.encodeMetadata(l))):(o=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&"object"==typeof o&&"pipe"in o&&"function"==typeof o.pipe)&&!s.duplex&&(s.duplex="half")),i?.headers&&(a=Object.assign(Object.assign({},a),i.headers));const c=this._removeEmptyFolders(t),u=this._getFinalPath(c),d=yield("PUT"==n?G_:jr)(this.fetch,`${this.url}/object/${u}`,o,Object.assign({headers:a},s?.duplex?{duplex:s.duplex}:{}));return{data:{path:c,id:d.Id,fullPath:d.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(bt(o))return{data:null,error:o};throw o}})}upload(n,t,r){return(0,J.__awaiter)(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,t,r)})}uploadToSignedUrl(n,t,r,i){return(0,J.__awaiter)(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(n),s=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",t);try{let l;const c=Object.assign({upsert:xP.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});return typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType),{data:{path:o,fullPath:(yield G_(this.fetch,a.toString(),l,{headers:u})).Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(bt(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(n,t){return(0,J.__awaiter)(this,void 0,void 0,function*(){try{let r=this._getFinalPath(n);const i=Object.assign({},this.headers);t?.upsert&&(i["x-upsert"]="true");const o=yield jr(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(this.url+o.url),a=s.searchParams.get("token");if(!a)throw new U_("No token returned by API");return{data:{signedUrl:s.toString(),path:n,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(bt(r))return{data:null,error:r};throw r}})}update(n,t,r){return(0,J.__awaiter)(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,t,r)})}move(n,t,r){return(0,J.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield jr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(bt(i))return{data:null,error:i};throw i}})}copy(n,t,r){return(0,J.__awaiter)(this,void 0,void 0,function*(){try{return{data:{path:(yield jr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(bt(i))return{data:null,error:i};throw i}})}createSignedUrl(n,t,r){return(0,J.__awaiter)(this,void 0,void 0,function*(){try{let i=this._getFinalPath(n),o=yield jr(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:t},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const s=r?.download?`&download=${!0===r.download?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(bt(i))return{data:null,error:i};throw i}})}createSignedUrls(n,t,r){return(0,J.__awaiter)(this,void 0,void 0,function*(){try{const i=yield jr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:n},{headers:this.headers}),o=r?.download?`&download=${!0===r.download?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${o}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(bt(i))return{data:null,error:i};throw i}})}download(n,t){const i=typeof t?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(t?.transform||{}),s=o?`?${o}`:"",a=this._getFinalPath(n);return new J8(()=>xc(this.fetch,`${this.url}/${i}/${a}${s}`,{headers:this.headers,noResolveJson:!0}),this.shouldThrowOnError)}info(n){return(0,J.__awaiter)(this,void 0,void 0,function*(){const t=this._getFinalPath(n);try{const r=yield xc(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:H_(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(bt(r))return{data:null,error:r};throw r}})}exists(n){return(0,J.__awaiter)(this,void 0,void 0,function*(){const t=this._getFinalPath(n);try{return yield function q8(e,n,t,r){return(0,J.__awaiter)(this,void 0,void 0,function*(){return Nc(e,"HEAD",n,Object.assign(Object.assign({},t),{noResolveJson:!0}),r)})}(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(bt(r)&&r instanceof B_){const i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(n,t){const r=this._getFinalPath(n),i=[],o=t?.download?`download=${!0===t.download?"":t.download}`:"";""!==o&&i.push(o);const a=typeof t?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(t?.transform||{});""!==l&&i.push(l);let c=i.join("&");return""!==c&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(n){return(0,J.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield q_(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(bt(t))return{data:null,error:t};throw t}})}list(n,t,r){return(0,J.__awaiter)(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},Q8),t),{prefix:n||""});return{data:yield jr(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(bt(i))return{data:null,error:i};throw i}})}listV2(n,t){return(0,J.__awaiter)(this,void 0,void 0,function*(){try{const r=Object.assign({},n);return{data:yield jr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},t),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(bt(r))return{data:null,error:r};throw r}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const t=[];return n.width&&t.push(`width=${n.width}`),n.height&&t.push(`height=${n.height}`),n.resize&&t.push(`resize=${n.resize}`),n.format&&t.push(`format=${n.format}`),n.quality&&t.push(`quality=${n.quality}`),t.join("&")}}const LP={"X-Client-Info":"storage-js/2.84.0"};class Z8{constructor(n,t={},r,i){this.shouldThrowOnError=!1;const o=new URL(n);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},LP),t),this.fetch=$_(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(n){return(0,J.__awaiter)(this,void 0,void 0,function*(){try{const t=this.listBucketOptionsToQueryString(n);return{data:yield xc(this.fetch,`${this.url}/bucket${t}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(bt(t))return{data:null,error:t};throw t}})}getBucket(n){return(0,J.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield xc(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(bt(t))return{data:null,error:t};throw t}})}createBucket(n){return(0,J.__awaiter)(this,arguments,void 0,function*(t,r={public:!1}){try{return{data:yield jr(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(bt(i))return{data:null,error:i};throw i}})}updateBucket(n,t){return(0,J.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield G_(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(bt(r))return{data:null,error:r};throw r}})}emptyBucket(n){return(0,J.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield jr(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(bt(t))return{data:null,error:t};throw t}})}deleteBucket(n){return(0,J.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield q_(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(bt(t))return{data:null,error:t};throw t}})}listBucketOptionsToQueryString(n){const t={};return n&&("limit"in n&&(t.limit=String(n.limit)),"offset"in n&&(t.offset=String(n.offset)),n.search&&(t.search=n.search),n.sortColumn&&(t.sortColumn=n.sortColumn),n.sortOrder&&(t.sortOrder=n.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}}class X8{constructor(n,t={},r){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},LP),t),this.fetch=$_(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(n){return(0,J.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield jr(this.fetch,`${this.url}/bucket`,{name:n},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(bt(t))return{data:null,error:t};throw t}})}listBuckets(n){return(0,J.__awaiter)(this,void 0,void 0,function*(){try{const t=new URLSearchParams;void 0!==n?.limit&&t.set("limit",n.limit.toString()),void 0!==n?.offset&&t.set("offset",n.offset.toString()),n?.sortColumn&&t.set("sortColumn",n.sortColumn),n?.sortOrder&&t.set("sortOrder",n.sortOrder),n?.search&&t.set("search",n.search);const r=t.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield xc(this.fetch,i,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(bt(t))return{data:null,error:t};throw t}})}deleteBucket(n){return(0,J.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield q_(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(bt(t))return{data:null,error:t};throw t}})}}const W_={"X-Client-Info":"storage-js/2.84.0","Content-Type":"application/json"};class jP extends Error{constructor(n){super(n),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function nr(e){return"object"==typeof e&&null!==e&&"__isStorageVectorsError"in e}class K_ extends jP{constructor(n,t,r){super(n),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class eW extends jP{constructor(n,t){super(n),this.name="StorageVectorsUnknownError",this.originalError=t}}const J_=e=>e?(...n)=>e(...n):(...n)=>fetch(...n),VP=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),rW=(e,n,t)=>(0,J.__awaiter)(void 0,void 0,void 0,function*(){if(e&&"object"==typeof e&&"status"in e&&"ok"in e&&"number"==typeof e.status&&!t?.noResolveJson){const i=e.status||500,o=e;"function"==typeof o.json?o.json().then(s=>{const a=s?.statusCode||s?.code||i+"";n(new K_(VP(s),i,a))}).catch(()=>{n(new K_(o.statusText||`HTTP ${i} error`,i,i+""))}):n(new K_(o.statusText||`HTTP ${i} error`,i,i+""))}else n(new eW(VP(e),e))}),iW=(e,n,t,r)=>{const i={method:e,headers:n?.headers||{}};return"GET"!==e&&r?((e=>{if("object"!=typeof e||null===e)return!1;const n=Object.getPrototypeOf(e);return!(null!==n&&n!==Object.prototype&&null!==Object.getPrototypeOf(n)||Symbol.toStringTag in e||Symbol.iterator in e)})(r)?(i.headers=Object.assign({"Content-Type":"application/json"},n?.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),t)):i};function rr(e,n,t,r,i){return(0,J.__awaiter)(this,void 0,void 0,function*(){return function Gh(e,n,t,r,i,o){return(0,J.__awaiter)(this,void 0,void 0,function*(){return new Promise((s,a)=>{e(t,iW(n,r,i,o)).then(l=>{if(!l.ok)throw l;if(r?.noResolveJson)return l;const c=l.headers.get("content-type");return c&&c.includes("application/json")?l.json():{}}).then(l=>s(l)).catch(l=>rW(l,a,r))})})}(e,"POST",n,r,i,t)})}class oW{constructor(n,t={},r){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},W_),t),this.fetch=J_(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(n){return(0,J.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield rr(this.fetch,`${this.url}/CreateIndex`,n,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(nr(t))return{data:null,error:t};throw t}})}getIndex(n,t){return(0,J.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield rr(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:n,indexName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nr(r))return{data:null,error:r};throw r}})}listIndexes(n){return(0,J.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield rr(this.fetch,`${this.url}/ListIndexes`,n,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(nr(t))return{data:null,error:t};throw t}})}deleteIndex(n,t){return(0,J.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield rr(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:n,indexName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nr(r))return{data:null,error:r};throw r}})}}class sW{constructor(n,t={},r){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},W_),t),this.fetch=J_(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(n){return(0,J.__awaiter)(this,void 0,void 0,function*(){try{if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield rr(this.fetch,`${this.url}/PutVectors`,n,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(nr(t))return{data:null,error:t};throw t}})}getVectors(n){return(0,J.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield rr(this.fetch,`${this.url}/GetVectors`,n,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(nr(t))return{data:null,error:t};throw t}})}listVectors(n){return(0,J.__awaiter)(this,void 0,void 0,function*(){try{if(void 0!==n.segmentCount){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(void 0!==n.segmentIndex&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error("segmentIndex must be between 0 and "+(n.segmentCount-1))}return{data:yield rr(this.fetch,`${this.url}/ListVectors`,n,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(nr(t))return{data:null,error:t};throw t}})}queryVectors(n){return(0,J.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield rr(this.fetch,`${this.url}/QueryVectors`,n,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(nr(t))return{data:null,error:t};throw t}})}deleteVectors(n){return(0,J.__awaiter)(this,void 0,void 0,function*(){try{if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield rr(this.fetch,`${this.url}/DeleteVectors`,n,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(nr(t))return{data:null,error:t};throw t}})}}class aW{constructor(n,t={},r){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},W_),t),this.fetch=J_(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(n){return(0,J.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield rr(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(nr(t))return{data:null,error:t};throw t}})}getBucket(n){return(0,J.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield rr(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:n},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(nr(t))return{data:null,error:t};throw t}})}listBuckets(){return(0,J.__awaiter)(this,arguments,void 0,function*(n={}){try{return{data:yield rr(this.fetch,`${this.url}/ListVectorBuckets`,n,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(nr(t))return{data:null,error:t};throw t}})}deleteBucket(n){return(0,J.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield rr(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(nr(t))return{data:null,error:t};throw t}})}}class lW extends aW{constructor(n,t={}){super(n,t.headers||{},t.fetch)}from(n){return new cW(this.url,this.headers,n,this.fetch)}}class cW extends oW{constructor(n,t,r,i){super(n,t,i),this.vectorBucketName=r}createIndex(n){const t=Object.create(null,{createIndex:{get:()=>super.createIndex}});return(0,J.__awaiter)(this,void 0,void 0,function*(){return t.createIndex.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const n=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return(0,J.__awaiter)(this,arguments,void 0,function*(t={}){return n.listIndexes.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}getIndex(n){const t=Object.create(null,{getIndex:{get:()=>super.getIndex}});return(0,J.__awaiter)(this,void 0,void 0,function*(){return t.getIndex.call(this,this.vectorBucketName,n)})}deleteIndex(n){const t=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return(0,J.__awaiter)(this,void 0,void 0,function*(){return t.deleteIndex.call(this,this.vectorBucketName,n)})}index(n){return new uW(this.url,this.headers,this.vectorBucketName,n,this.fetch)}}class uW extends sW{constructor(n,t,r,i,o){super(n,t,o),this.vectorBucketName=r,this.indexName=i}putVectors(n){const t=Object.create(null,{putVectors:{get:()=>super.putVectors}});return(0,J.__awaiter)(this,void 0,void 0,function*(){return t.putVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(n){const t=Object.create(null,{getVectors:{get:()=>super.getVectors}});return(0,J.__awaiter)(this,void 0,void 0,function*(){return t.getVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const n=Object.create(null,{listVectors:{get:()=>super.listVectors}});return(0,J.__awaiter)(this,arguments,void 0,function*(t={}){return n.listVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(n){const t=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return(0,J.__awaiter)(this,void 0,void 0,function*(){return t.queryVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(n){const t=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return(0,J.__awaiter)(this,void 0,void 0,function*(){return t.deleteVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class dW extends Z8{constructor(n,t={},r,i){super(n,t,r,i)}from(n){return new Y8(this.url,this.headers,n,this.fetch)}get vectors(){return new lW(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new X8(this.url+"/iceberg",this.headers,this.fetch)}}let Fc="";Fc=typeof Deno<"u"?"deno":typeof document<"u"?"web":typeof navigator<"u"&&"ReactNative"===navigator.product?"react-native":"node";const fW={headers:{"X-Client-Info":`supabase-js-${Fc}/2.84.0`}},pW={schema:"public"},gW={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},mW={},vW=(e,n,t)=>{const r=(e=>e?(...n)=>e(...n):(...n)=>fetch(...n))(t),i=Headers;return function(){var o=w(function*(s,a){var l;const c=null!==(l=yield n())&&void 0!==l?l:e;let u=new i(a?.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(s,Object.assign(Object.assign({},a),{headers:u}))});return function(s,a){return o.apply(this,arguments)}}()},Sa=3e4,Z_="X-Supabase-Api-Version",BP={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},MW=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class Lc extends Error{constructor(n,t,r){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function ee(e){return"object"==typeof e&&null!==e&&"__isAuthError"in e}class TW extends Lc{constructor(n,t,r){super(n,t,r),this.name="AuthApiError",this.status=t,this.code=r}}class Ho extends Lc{constructor(n,t){super(n),this.name="AuthUnknownError",this.originalError=t}}class oo extends Lc{constructor(n,t,r,i){super(n,r,i),this.name=t,this.status=r}}class ir extends oo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class Ma extends oo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class qh extends oo{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class Wh extends oo{constructor(n,t=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class $P extends oo{constructor(n,t=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class X_ extends oo{constructor(n,t){super(n,"AuthRetryableFetchError",t,void 0)}}function ev(e){return ee(e)&&"AuthRetryableFetchError"===e.name}class HP extends oo{constructor(n,t,r){super(n,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class tv extends oo{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const Kh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),zP=" \t\n\r=".split(""),RW=(()=>{const e=new Array(128);for(let n=0;n<e.length;n+=1)e[n]=-1;for(let n=0;n<zP.length;n+=1)e[zP[n].charCodeAt(0)]=-2;for(let n=0;n<Kh.length;n+=1)e[Kh[n].charCodeAt(0)]=n;return e})();function Jh(e,n,t){if(null!==e)for(n.queue=n.queue<<8|e,n.queuedBits+=8;n.queuedBits>=6;)t(Kh[n.queue>>n.queuedBits-6&63]),n.queuedBits-=6;else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;)t(Kh[n.queue>>n.queuedBits-6&63]),n.queuedBits-=6}function GP(e,n,t){const r=RW[e];if(!(r>-1)){if(-2===r)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}for(n.queue=n.queue<<6|r,n.queuedBits+=6;n.queuedBits>=8;)t(n.queue>>n.queuedBits-8&255),n.queuedBits-=8}function qP(e){const n=[],t=s=>{n.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=s=>{!function NW(e,n,t){if(0===n.utf8seq){if(e<=127)return void t(e);for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){n.utf8seq=r;break}if(2===n.utf8seq)n.codepoint=31&e;else if(3===n.utf8seq)n.codepoint=15&e;else{if(4!==n.utf8seq)throw new Error("Invalid UTF-8 sequence");n.codepoint=7&e}n.utf8seq-=1}else if(n.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|63&e,n.utf8seq-=1,0===n.utf8seq&&t(n.codepoint)}}(s,r,t)};for(let s=0;s<e.length;s+=1)GP(e.charCodeAt(s),i,o);return n.join("")}function kW(e,n){if(!(e<=127)){if(e<=2047)return n(192|e>>6),void n(128|63&e);if(e<=65535)return n(224|e>>12),n(128|e>>6&63),void n(128|63&e);if(e<=1114111)return n(240|e>>18),n(128|e>>12&63),n(128|e>>6&63),void n(128|63&e);throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}n(e)}function Ia(e){const n=[],t={queue:0,queuedBits:0},r=i=>{n.push(i)};for(let i=0;i<e.length;i+=1)GP(e.charCodeAt(i),t,r);return new Uint8Array(n)}function zo(e){const n=[],t={queue:0,queuedBits:0},r=i=>{n.push(i)};return e.forEach(i=>Jh(i,t,r)),Jh(null,t,r),n.join("")}const rn=()=>typeof window<"u"&&typeof document<"u",Go={tested:!1,writable:!1},KP=()=>{if(!rn())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch{return!1}if(Go.tested)return Go.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Go.tested=!0,Go.writable=!0}catch{Go.tested=!0,Go.writable=!1}return Go.writable},JP=e=>e?(...n)=>e(...n):(...n)=>fetch(...n),VW=e=>"object"==typeof e&&null!==e&&"status"in e&&"ok"in e&&"json"in e&&"function"==typeof e.json,Ta=function(){var e=w(function*(n,t,r){yield n.setItem(t,JSON.stringify(r))});return function(t,r,i){return e.apply(this,arguments)}}(),qo=function(){var e=w(function*(n,t){const r=yield n.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}});return function(t,r){return e.apply(this,arguments)}}(),so=function(){var e=w(function*(n,t){yield n.removeItem(t)});return function(t,r){return e.apply(this,arguments)}}();class Qh{constructor(){this.promise=new Qh.promiseConstructor((n,t)=>{this.resolve=n,this.reject=t})}}function nv(e){const n=e.split(".");if(3!==n.length)throw new tv("Invalid JWT structure");for(let r=0;r<n.length;r++)if(!MW.test(n[r]))throw new tv("JWT not in base64url format");return{header:JSON.parse(qP(n[0])),payload:JSON.parse(qP(n[1])),signature:Ia(n[2]),raw:{header:n[0],payload:n[1]}}}function rv(){return(rv=w(function*(e){return yield new Promise(n=>{setTimeout(()=>n(null),e)})})).apply(this,arguments)}function $W(e){return("0"+e.toString(16)).substr(-2)}function iv(){return(iv=w(function*(e){const t=(new TextEncoder).encode(e),r=yield crypto.subtle.digest("SHA-256",t),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")})).apply(this,arguments)}function ov(){return ov=w(function*(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=yield function zW(e){return iv.apply(this,arguments)}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}),ov.apply(this,arguments)}function Aa(e,n){return sv.apply(this,arguments)}function sv(){return sv=w(function*(e,n,t=!1){const r=function HW(){const n=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length;let i="";for(let o=0;o<56;o++)i+=t.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(n),Array.from(n,$W).join("")}();let i=r;t&&(i+="/PASSWORD_RECOVERY"),yield Ta(e,`${n}-code-verifier`,i);const o=yield function GW(e){return ov.apply(this,arguments)}(r);return[o,r===o?"plain":"s256"]}),sv.apply(this,arguments)}Qh.promiseConstructor=Promise;const qW=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i,QW=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Pa(e){if(!QW.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function av(){return new Proxy({},{get:(n,t)=>{if("__isUserNotAvailableProxy"===t)return!0;if("symbol"==typeof t){const r=t.toString();if("Symbol(Symbol.toPrimitive)"===r||"Symbol(Symbol.toStringTag)"===r||"Symbol(util.inspect.custom)"===r)return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function QP(e){return JSON.parse(JSON.stringify(e))}const Wo=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ZW=[502,503,504];function YP(e){return lv.apply(this,arguments)}function lv(){return(lv=w(function*(e){var n;if(!VW(e))throw new X_(Wo(e),0);if(ZW.includes(e.status))throw new X_(Wo(e),e.status);let t,r;try{t=yield e.json()}catch(o){throw new Ho(Wo(o),o)}const i=function WW(e){const n=e.headers.get(Z_);if(!n||!n.match(qW))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}(e);if(i&&i.getTime()>=BP["2024-01-01"].timestamp&&"object"==typeof t&&t&&"string"==typeof t.code?r=t.code:"object"==typeof t&&t&&"string"==typeof t.error_code&&(r=t.error_code),r){if("weak_password"===r)throw new HP(Wo(t),e.status,(null===(n=t.weak_password)||void 0===n?void 0:n.reasons)||[]);if("session_not_found"===r)throw new ir}else if("object"==typeof t&&t&&"object"==typeof t.weak_password&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((o,s)=>o&&"string"==typeof s,!0))throw new HP(Wo(t),e.status,t.weak_password.reasons);throw new TW(Wo(t),e.status||500,r)})).apply(this,arguments)}const XW=(e,n,t,r)=>{const i={method:e,headers:n?.headers||{}};return"GET"===e?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),t))};function ae(e,n,t,r){return cv.apply(this,arguments)}function cv(){return cv=w(function*(e,n,t,r){var i;const o=Object.assign({},r?.headers);o[Z_]||(o[Z_]=BP["2024-01-01"].name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const s=null!==(i=r?.query)&&void 0!==i?i:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);const a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=yield function e6(e,n,t,r,i,o){return uv.apply(this,arguments)}(e,n,t+a,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(l):{data:Object.assign({},l),error:null}}),cv.apply(this,arguments)}function uv(){return(uv=w(function*(e,n,t,r,i,o){const s=XW(n,r,i,o);let a;try{a=yield e(t,Object.assign({},s))}catch(l){throw console.error(l),new X_(Wo(l),0)}if(a.ok||(yield YP(a)),r?.noResolveJson)return a;try{return yield a.json()}catch(l){yield YP(l)}})).apply(this,arguments)}function Vr(e){var n;let t=null;return function r6(e){return e.access_token&&e.refresh_token&&e.expires_in}(e)&&(t=Object.assign({},e),e.expires_at||(t.expires_at=function FW(e){return Math.round(Date.now()/1e3)+e}(e.expires_in))),{data:{session:t,user:null!==(n=e.user)&&void 0!==n?n:e},error:null}}function ZP(e){const n=Vr(e);return!n.error&&e.weak_password&&"object"==typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"==typeof e.weak_password.message&&e.weak_password.reasons.reduce((t,r)=>t&&"string"==typeof r,!0)&&(n.data.weak_password=e.weak_password),n}function ao(e){var n;return{data:{user:null!==(n=e.user)&&void 0!==n?n:e},error:null}}function t6(e){return{data:e,error:null}}function n6(e){const{action_link:n,email_otp:t,hashed_token:r,redirect_to:i,verification_type:o}=e,s=(0,J.__rest)(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:n,email_otp:t,hashed_token:r,redirect_to:i,verification_type:o},user:Object.assign({},s)},error:null}}function XP(e){return e}const dv=["global","local","others"];class i6{constructor({url:n="",headers:t={},fetch:r}){this.url=n,this.headers=t,this.fetch=JP(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}signOut(n){var t=this;return w(function*(r,i=dv[0]){if(dv.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${dv.join(", ")}`);try{return yield ae(t.fetch,"POST",`${t.url}/logout?scope=${i}`,{headers:t.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(o){if(ee(o))return{data:null,error:o};throw o}}).apply(this,arguments)}inviteUserByEmail(n){var t=this;return w(function*(r,i={}){try{return yield ae(t.fetch,"POST",`${t.url}/invite`,{body:{email:r,data:i.data},headers:t.headers,redirectTo:i.redirectTo,xform:ao})}catch(o){if(ee(o))return{data:{user:null},error:o};throw o}}).apply(this,arguments)}generateLink(n){var t=this;return w(function*(){try{const{options:r}=n,i=(0,J.__rest)(n,["options"]),o=Object.assign(Object.assign({},i),r);return"newEmail"in i&&(o.new_email=i?.newEmail,delete o.newEmail),yield ae(t.fetch,"POST",`${t.url}/admin/generate_link`,{body:o,headers:t.headers,xform:n6,redirectTo:r?.redirectTo})}catch(r){if(ee(r))return{data:{properties:null,user:null},error:r};throw r}})()}createUser(n){var t=this;return w(function*(){try{return yield ae(t.fetch,"POST",`${t.url}/admin/users`,{body:n,headers:t.headers,xform:ao})}catch(r){if(ee(r))return{data:{user:null},error:r};throw r}})()}listUsers(n){var t=this;return w(function*(){var r,i,o,s,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=yield ae(t.fetch,"GET",`${t.url}/admin/users`,{headers:t.headers,noResolveJson:!0,query:{page:null!==(i=null===(r=n?.page)||void 0===r?void 0:r.toString())&&void 0!==i?i:"",per_page:null!==(s=null===(o=n?.perPage)||void 0===o?void 0:o.toString())&&void 0!==s?s:""},xform:XP});if(d.error)throw d.error;const h=yield d.json(),f=null!==(a=d.headers.get("x-total-count"))&&void 0!==a?a:0,p=null!==(c=null===(l=d.headers.get("link"))||void 0===l?void 0:l.split(","))&&void 0!==c?c:[];return p.length>0&&(p.forEach(g=>{const v=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(g.split(";")[1].split("=")[1]);u[`${b}Page`]=v}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(ee(u))return{data:{users:[]},error:u};throw u}})()}getUserById(n){var t=this;return w(function*(){Pa(n);try{return yield ae(t.fetch,"GET",`${t.url}/admin/users/${n}`,{headers:t.headers,xform:ao})}catch(r){if(ee(r))return{data:{user:null},error:r};throw r}})()}updateUserById(n,t){var r=this;return w(function*(){Pa(n);try{return yield ae(r.fetch,"PUT",`${r.url}/admin/users/${n}`,{body:t,headers:r.headers,xform:ao})}catch(i){if(ee(i))return{data:{user:null},error:i};throw i}})()}deleteUser(n){var t=this;return w(function*(r,i=!1){Pa(r);try{return yield ae(t.fetch,"DELETE",`${t.url}/admin/users/${r}`,{headers:t.headers,body:{should_soft_delete:i},xform:ao})}catch(o){if(ee(o))return{data:{user:null},error:o};throw o}}).apply(this,arguments)}_listFactors(n){var t=this;return w(function*(){Pa(n.userId);try{const{data:r,error:i}=yield ae(t.fetch,"GET",`${t.url}/admin/users/${n.userId}/factors`,{headers:t.headers,xform:o=>({data:{factors:o},error:null})});return{data:r,error:i}}catch(r){if(ee(r))return{data:null,error:r};throw r}})()}_deleteFactor(n){var t=this;return w(function*(){Pa(n.userId),Pa(n.id);try{return{data:yield ae(t.fetch,"DELETE",`${t.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:t.headers}),error:null}}catch(r){if(ee(r))return{data:null,error:r};throw r}})()}_listOAuthClients(n){var t=this;return w(function*(){var r,i,o,s,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=yield ae(t.fetch,"GET",`${t.url}/admin/oauth/clients`,{headers:t.headers,noResolveJson:!0,query:{page:null!==(i=null===(r=n?.page)||void 0===r?void 0:r.toString())&&void 0!==i?i:"",per_page:null!==(s=null===(o=n?.perPage)||void 0===o?void 0:o.toString())&&void 0!==s?s:""},xform:XP});if(d.error)throw d.error;const h=yield d.json(),f=null!==(a=d.headers.get("x-total-count"))&&void 0!==a?a:0,p=null!==(c=null===(l=d.headers.get("link"))||void 0===l?void 0:l.split(","))&&void 0!==c?c:[];return p.length>0&&(p.forEach(g=>{const v=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(g.split(";")[1].split("=")[1]);u[`${b}Page`]=v}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(ee(u))return{data:{clients:[]},error:u};throw u}})()}_createOAuthClient(n){var t=this;return w(function*(){try{return yield ae(t.fetch,"POST",`${t.url}/admin/oauth/clients`,{body:n,headers:t.headers,xform:r=>({data:r,error:null})})}catch(r){if(ee(r))return{data:null,error:r};throw r}})()}_getOAuthClient(n){var t=this;return w(function*(){try{return yield ae(t.fetch,"GET",`${t.url}/admin/oauth/clients/${n}`,{headers:t.headers,xform:r=>({data:r,error:null})})}catch(r){if(ee(r))return{data:null,error:r};throw r}})()}_updateOAuthClient(n,t){var r=this;return w(function*(){try{return yield ae(r.fetch,"PUT",`${r.url}/admin/oauth/clients/${n}`,{body:t,headers:r.headers,xform:i=>({data:i,error:null})})}catch(i){if(ee(i))return{data:null,error:i};throw i}})()}_deleteOAuthClient(n){var t=this;return w(function*(){try{return yield ae(t.fetch,"DELETE",`${t.url}/admin/oauth/clients/${n}`,{headers:t.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ee(r))return{data:null,error:r};throw r}})()}_regenerateOAuthClientSecret(n){var t=this;return w(function*(){try{return yield ae(t.fetch,"POST",`${t.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:t.headers,xform:r=>({data:r,error:null})})}catch(r){if(ee(r))return{data:null,error:r};throw r}})()}}function eO(e={}){return{getItem:n=>e[n]||null,setItem:(n,t)=>{e[n]=t},removeItem:n=>{delete e[n]}}}const Oa={debug:!!(globalThis&&KP()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"))};class tO extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class o6 extends tO{}function a6(e,n,t){return hv.apply(this,arguments)}function hv(){return hv=w(function*(e,n,t){Oa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,n);const r=new globalThis.AbortController;return n>0&&setTimeout(()=>{r.abort(),Oa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},n),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===n?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},function(){var i=w(function*(o){if(!o){if(0===n)throw Oa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new o6(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Oa.debug)try{const s=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield t()}Oa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,o.name);try{return yield t()}finally{Oa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,o.name)}});return function(o){return i.apply(this,arguments)}}()))}),hv.apply(this,arguments)}function rO(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function u6(e){const n=(new TextEncoder).encode(e);return"0x"+Array.from(n,r=>r.toString(16).padStart(2,"0")).join("")}class Vt extends Error{constructor({message:n,code:t,cause:r,name:i}){var o;super(n,{cause:r}),this.__isWebAuthnError=!0,this.name=null!==(o=i??(r instanceof Error?r.name:void 0))&&void 0!==o?o:"Unknown Error",this.code=t}}class Yh extends Vt{constructor(n,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:n}),this.name="WebAuthnUnknownError",this.originalError=t}}function h6({error:e,options:n}){var t,r,i;const{publicKey:o}=n;if(!o)throw Error("options was missing required publicKey property");if("AbortError"===e.name){if(n.signal instanceof AbortSignal)return new Vt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if("ConstraintError"===e.name){if(!0===(null===(t=o.authenticatorSelection)||void 0===t?void 0:t.requireResidentKey))return new Vt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if("conditional"===n.mediation&&"required"===(null===(r=o.authenticatorSelection)||void 0===r?void 0:r.userVerification))return new Vt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if("required"===(null===(i=o.authenticatorSelection)||void 0===i?void 0:i.userVerification))return new Vt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if("InvalidStateError"===e.name)return new Vt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if("NotAllowedError"===e.name)return new Vt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if("NotSupportedError"===e.name)return 0===o.pubKeyCredParams.filter(a=>"public-key"===a.type).length?new Vt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Vt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if("SecurityError"===e.name){const s=window.location.hostname;if(!iO(s))return new Vt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e});if(o.rp.id!==s)return new Vt({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else if("TypeError"===e.name){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Vt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if("UnknownError"===e.name)return new Vt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Vt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function f6({error:e,options:n}){const{publicKey:t}=n;if(!t)throw Error("options was missing required publicKey property");if("AbortError"===e.name){if(n.signal instanceof AbortSignal)return new Vt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if("NotAllowedError"===e.name)return new Vt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if("SecurityError"===e.name){const r=window.location.hostname;if(!iO(r))return new Vt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e});if(t.rpId!==r)return new Vt({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else if("UnknownError"===e.name)return new Vt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Vt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}const g6=new class p6{createNewAbortSignal(){if(this.controller){const t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}};function m6(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseCreationOptionsFromJSON)return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:n,user:t,excludeCredentials:r}=e,i=(0,J.__rest)(e,["challenge","user","excludeCredentials"]),o=Ia(n).buffer,s=Object.assign(Object.assign({},t),{id:Ia(t.id).buffer}),a=Object.assign(Object.assign({},i),{challenge:o,user:s});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const c=r[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:Ia(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function y6(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseRequestOptionsFromJSON)return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:n,allowCredentials:t}=e,r=(0,J.__rest)(e,["challenge","allowCredentials"]),i=Ia(n).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(t&&t.length>0){o.allowCredentials=new Array(t.length);for(let s=0;s<t.length;s++){const a=t[s];o.allowCredentials[s]=Object.assign(Object.assign({},a),{id:Ia(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return o}function _6(e){var n;if("toJSON"in e&&"function"==typeof e.toJSON)return e.toJSON();const t=e;return{id:e.id,rawId:e.id,response:{attestationObject:zo(new Uint8Array(e.response.attestationObject)),clientDataJSON:zo(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:null!==(n=t.authenticatorAttachment)&&void 0!==n?n:void 0}}function v6(e){var n;if("toJSON"in e&&"function"==typeof e.toJSON)return e.toJSON();const t=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:zo(new Uint8Array(i.authenticatorData)),clientDataJSON:zo(new Uint8Array(i.clientDataJSON)),signature:zo(new Uint8Array(i.signature)),userHandle:i.userHandle?zo(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:null!==(n=t.authenticatorAttachment)&&void 0!==n?n:void 0}}function iO(e){return"localhost"===e||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function oO(){var e,n;return!!(rn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&"function"==typeof(null===(e=navigator?.credentials)||void 0===e?void 0:e.create)&&"function"==typeof(null===(n=navigator?.credentials)||void 0===n?void 0:n.get))}function pv(){return(pv=w(function*(e){try{const n=yield navigator.credentials.create(e);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new Yh("Browser returned unexpected credential type",n)}:{data:null,error:new Yh("Empty credential response",n)}}catch(n){return{data:null,error:h6({error:n,options:e})}}})).apply(this,arguments)}function gv(){return(gv=w(function*(e){try{const n=yield navigator.credentials.get(e);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new Yh("Browser returned unexpected credential type",n)}:{data:null,error:new Yh("Empty credential response",n)}}catch(n){return{data:null,error:f6({error:n,options:e})}}})).apply(this,arguments)}const b6={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},E6={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Zh(...e){const n=i=>null!==i&&"object"==typeof i&&!Array.isArray(i),t=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const o in i){const s=i[o];if(void 0!==s)if(Array.isArray(s))r[o]=s;else if(t(s))r[o]=s;else if(n(s)){const a=r[o];r[o]=n(a)?Zh(a,s):Zh(s)}else r[o]=s}return r}class M6{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}_enroll(n){var t=this;return w(function*(){return t.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))})()}_challenge(n,t){var r=this;return w(function*({factorId:i,webauthn:o,friendlyName:s,signal:a},l){try{const{data:c,error:u}=yield r.client.mfa.challenge({factorId:i,webauthn:o});if(!c)return{data:null,error:u};const d=a??g6.createNewAbortSignal();if("create"===c.webauthn.type){const{user:h}=c.webauthn.credential_options.publicKey;h.name||(h.name=`${h.id}:${s}`),h.displayName||(h.displayName=h.name)}switch(c.webauthn.type){case"create":{const h=function D6(e,n){return Zh(b6,e,n||{})}(c.webauthn.credential_options.publicKey,l?.create),{data:f,error:p}=yield function w6(e){return pv.apply(this,arguments)}({publicKey:h,signal:d});return f?{data:{factorId:i,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:f}},error:null}:{data:null,error:p}}case"request":{const h=function S6(e,n){return Zh(E6,e,n||{})}(c.webauthn.credential_options.publicKey,l?.request),{data:f,error:p}=yield function C6(e){return gv.apply(this,arguments)}(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:h,signal:d}));return f?{data:{factorId:i,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:f}},error:null}:{data:null,error:p}}}}catch(c){return ee(c)?{data:null,error:c}:{data:null,error:new Ho("Unexpected error in challenge",c)}}}).apply(this,arguments)}_verify(n){var t=this;return w(function*({challengeId:r,factorId:i,webauthn:o}){return t.client.mfa.verify({factorId:i,challengeId:r,webauthn:o})}).apply(this,arguments)}_authenticate(n,t){var r=this;return w(function*({factorId:i,webauthn:{rpId:o=(typeof window<"u"?window.location.hostname:void 0),rpOrigins:s=(typeof window<"u"?[window.location.origin]:void 0),signal:a}={}},l){if(!o)return{data:null,error:new Lc("rpId is required for WebAuthn authentication")};try{if(!oO())return{data:null,error:new Ho("Browser does not support WebAuthn",null)};const{data:c,error:u}=yield r.challenge({factorId:i,webauthn:{rpId:o,rpOrigins:s},signal:a},{request:l});if(!c)return{data:null,error:u};const{webauthn:d}=c;return r._verify({factorId:i,challengeId:c.challengeId,webauthn:{type:d.type,rpId:o,rpOrigins:s,credential_response:d.credential_response}})}catch(c){return ee(c)?{data:null,error:c}:{data:null,error:new Ho("Unexpected error in authenticate",c)}}}).apply(this,arguments)}_register(n,t){var r=this;return w(function*({friendlyName:i,webauthn:{rpId:o=(typeof window<"u"?window.location.hostname:void 0),rpOrigins:s=(typeof window<"u"?[window.location.origin]:void 0),signal:a}={}},l){if(!o)return{data:null,error:new Lc("rpId is required for WebAuthn registration")};try{if(!oO())return{data:null,error:new Ho("Browser does not support WebAuthn",null)};const{data:c,error:u}=yield r._enroll({friendlyName:i});if(!c)return yield r.client.mfa.listFactors().then(f=>{var p;return null===(p=f.data)||void 0===p?void 0:p.all.find(g=>"webauthn"===g.factor_type&&g.friendly_name===i&&"unverified"!==g.status)}).then(f=>f?r.client.mfa.unenroll({factorId:f?.id}):void 0),{data:null,error:u};const{data:d,error:h}=yield r._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:o,rpOrigins:s},signal:a},{create:l});return d?r._verify({factorId:c.id,challengeId:d.challengeId,webauthn:{rpId:o,rpOrigins:s,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:h}}catch(c){return ee(c)?{data:null,error:c}:{data:null,error:new Ho("Unexpected error in register",c)}}}).apply(this,arguments)}}!function l6(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}();const I6={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:{"X-Client-Info":"gotrue-js/2.84.0"},flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};function sO(e,n,t){return mv.apply(this,arguments)}function mv(){return(mv=w(function*(e,n,t){return yield t()})).apply(this,arguments)}const Ra={},A6=(()=>{class e{get jwks(){var t,r;return null!==(r=null===(t=Ra[this.storageKey])||void 0===t?void 0:t.jwks)&&void 0!==r?r:{keys:[]}}set jwks(t){Ra[this.storageKey]=Object.assign(Object.assign({},Ra[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return null!==(r=null===(t=Ra[this.storageKey])||void 0===t?void 0:t.cachedAt)&&void 0!==r?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ra[this.storageKey]=Object.assign(Object.assign({},Ra[this.storageKey]),{cachedAt:t})}constructor(t){var i,o,s,r=this;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},I6),t);if(this.storageKey=a.storageKey,this.instanceID=null!==(i=e.nextInstanceID[this.storageKey])&&void 0!==i?i:0,e.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,"function"==typeof a.debug&&(this.logger=a.debug),this.instanceID>0&&rn()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new i6({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=JP(a.fetch),this.lock=a.lock||sO,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,this.lock=a.lock?a.lock:rn()&&null!==(o=globalThis?.navigator)&&void 0!==o&&o.locks?a6:sO,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new M6(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:KP()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=eO(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=eO(this.memoryStorage)),rn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}null===(s=this.broadcastChannel)||void 0===s||s.addEventListener("message",function(){var l=w(function*(c){r._debug("received broadcast notification from other tab or client",c),yield r._notifyAllSubscribers(c.data.event,c.data.session,!1)});return function(c){return l.apply(this,arguments)}}())}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (2.84.0) ${(new Date).toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}initialize(){var t=this;return w(function*(){return t.initializePromise||(t.initializePromise=w(function*(){return yield t._acquireLock(-1,w(function*(){return yield t._initialize()}))})()),yield t.initializePromise})()}_initialize(){var t=this;return w(function*(){var r;try{let i={},o="none";if(rn()&&(i=function jW(e){const n={},t=new URL(e);if(t.hash&&"#"===t.hash[0])try{new URLSearchParams(t.hash.substring(1)).forEach((i,o)=>{n[o]=i})}catch{}return t.searchParams.forEach((r,i)=>{n[i]=r}),n}(window.location.href),t._isImplicitGrantCallback(i)?o="implicit":(yield t._isPKCECallback(i))&&(o="pkce")),rn()&&t.detectSessionInUrl&&"none"!==o){const{data:s,error:a}=yield t._getSessionFromURL(i,o);if(a){if(t._debug("#_initialize()","error detecting session from URL",a),function OW(e){return ee(e)&&"AuthImplicitGrantRedirectError"===e.name}(a)){const u=null===(r=a.details)||void 0===r?void 0:r.code;if("identity_already_exists"===u||"identity_not_found"===u||"single_identity_not_deletable"===u)return{error:a}}return yield t._removeSession(),{error:a}}const{session:l,redirectType:c}=s;return t._debug("#_initialize()","detected session in URL",l,"redirect type",c),yield t._saveSession(l),setTimeout(w(function*(){"recovery"===c?yield t._notifyAllSubscribers("PASSWORD_RECOVERY",l):yield t._notifyAllSubscribers("SIGNED_IN",l)}),0),{error:null}}return yield t._recoverAndRefresh(),{error:null}}catch(i){return ee(i)?t._returnResult({error:i}):t._returnResult({error:new Ho("Unexpected error during initialization",i)})}finally{yield t._handleVisibilityChange(),t._debug("#_initialize()","end")}})()}signInAnonymously(t){var r=this;return w(function*(){var i,o,s;try{const a=yield ae(r.fetch,"POST",`${r.url}/signup`,{headers:r.headers,body:{data:null!==(o=null===(i=t?.options)||void 0===i?void 0:i.data)&&void 0!==o?o:{},gotrue_meta_security:{captcha_token:null===(s=t?.options)||void 0===s?void 0:s.captchaToken}},xform:Vr}),{data:l,error:c}=a;if(c||!l)return r._returnResult({data:{user:null,session:null},error:c});const u=l.session,d=l.user;return l.session&&(yield r._saveSession(l.session),yield r._notifyAllSubscribers("SIGNED_IN",u)),r._returnResult({data:{user:d,session:u},error:null})}catch(a){if(ee(a))return r._returnResult({data:{user:null,session:null},error:a});throw a}})()}signUp(t){var r=this;return w(function*(){var i,o,s;try{let a;if("email"in t){const{email:h,password:f,options:p}=t;let g=null,v=null;"pkce"===r.flowType&&([g,v]=yield Aa(r.storage,r.storageKey)),a=yield ae(r.fetch,"POST",`${r.url}/signup`,{headers:r.headers,redirectTo:p?.emailRedirectTo,body:{email:h,password:f,data:null!==(i=p?.data)&&void 0!==i?i:{},gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:g,code_challenge_method:v},xform:Vr})}else{if(!("phone"in t))throw new qh("You must provide either an email or phone number and a password");{const{phone:h,password:f,options:p}=t;a=yield ae(r.fetch,"POST",`${r.url}/signup`,{headers:r.headers,body:{phone:h,password:f,data:null!==(o=p?.data)&&void 0!==o?o:{},channel:null!==(s=p?.channel)&&void 0!==s?s:"sms",gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:Vr})}}const{data:l,error:c}=a;if(c||!l)return r._returnResult({data:{user:null,session:null},error:c});const u=l.session,d=l.user;return l.session&&(yield r._saveSession(l.session),yield r._notifyAllSubscribers("SIGNED_IN",u)),r._returnResult({data:{user:d,session:u},error:null})}catch(a){if(ee(a))return r._returnResult({data:{user:null,session:null},error:a});throw a}})()}signInWithPassword(t){var r=this;return w(function*(){try{let i;if("email"in t){const{email:a,password:l,options:c}=t;i=yield ae(r.fetch,"POST",`${r.url}/token?grant_type=password`,{headers:r.headers,body:{email:a,password:l,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:ZP})}else{if(!("phone"in t))throw new qh("You must provide either an email or phone number and a password");{const{phone:a,password:l,options:c}=t;i=yield ae(r.fetch,"POST",`${r.url}/token?grant_type=password`,{headers:r.headers,body:{phone:a,password:l,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:ZP})}}const{data:o,error:s}=i;if(s)return r._returnResult({data:{user:null,session:null},error:s});if(!o||!o.session||!o.user){const a=new Ma;return r._returnResult({data:{user:null,session:null},error:a})}return o.session&&(yield r._saveSession(o.session),yield r._notifyAllSubscribers("SIGNED_IN",o.session)),r._returnResult({data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:s})}catch(i){if(ee(i))return r._returnResult({data:{user:null,session:null},error:i});throw i}})()}signInWithOAuth(t){var r=this;return w(function*(){var i,o,s,a;return yield r._handleProviderSignIn(t.provider,{redirectTo:null===(i=t.options)||void 0===i?void 0:i.redirectTo,scopes:null===(o=t.options)||void 0===o?void 0:o.scopes,queryParams:null===(s=t.options)||void 0===s?void 0:s.queryParams,skipBrowserRedirect:null===(a=t.options)||void 0===a?void 0:a.skipBrowserRedirect})})()}exchangeCodeForSession(t){var r=this;return w(function*(){return yield r.initializePromise,r._acquireLock(-1,w(function*(){return r._exchangeCodeForSession(t)}))})()}signInWithWeb3(t){var r=this;return w(function*(){const{chain:i}=t;switch(i){case"ethereum":return yield r.signInWithEthereum(t);case"solana":return yield r.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}})()}signInWithEthereum(t){var r=this;return w(function*(){var i,o,s,a,l,c,u,d,h,f,p;let g,v;if("message"in t)g=t.message,v=t.signature;else{const{wallet:E,statement:R,options:F}=t;let V;if(rn())if("object"==typeof E)V=E;else{const yr=window;if(!("ethereum"in yr)||"object"!=typeof yr.ethereum||!("request"in yr.ethereum)||"function"!=typeof yr.ethereum.request)throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.");V=yr.ethereum}else{if("object"!=typeof E||!F?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");V=E}const Q=new URL(null!==(i=F?.url)&&void 0!==i?i:window.location.href),ve=yield V.request({method:"eth_requestAccounts"}).then(yr=>yr).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ve||0===ve.length)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const oe=rO(ve[0]);let Qe=null===(o=F?.signInWithEthereum)||void 0===o?void 0:o.chainId;Qe||(Qe=function c6(e){return parseInt(e,16)}(yield V.request({method:"eth_chainId"}))),g=function d6(e){var n;const{chainId:t,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:s,notBefore:a,requestId:l,resources:c,scheme:u,uri:d,version:h}=e;if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if("1"!==h)throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(null!==(n=e.statement)&&void 0!==n&&n.includes("\n"))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`);const v=`${u?`${u}://${r}`:r} wants you to sign in with your Ethereum account:\n${rO(e.address)}\n\n${e.statement?`${e.statement}\n`:""}`;let b=`URI: ${d}\nVersion: ${h}\nChain ID: ${t}${s?`\nNonce: ${s}`:""}\nIssued At: ${o.toISOString()}`;if(i&&(b+=`\nExpiration Time: ${i.toISOString()}`),a&&(b+=`\nNot Before: ${a.toISOString()}`),l&&(b+=`\nRequest ID: ${l}`),c){let E="\nResources:";for(const R of c){if(!R||"string"!=typeof R)throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${R}`);E+=`\n- ${R}`}b+=E}return`${v}\n${b}`}({domain:Q.host,address:oe,statement:R,uri:Q.href,version:"1",chainId:Qe,nonce:null===(s=F?.signInWithEthereum)||void 0===s?void 0:s.nonce,issuedAt:null!==(l=null===(a=F?.signInWithEthereum)||void 0===a?void 0:a.issuedAt)&&void 0!==l?l:new Date,expirationTime:null===(c=F?.signInWithEthereum)||void 0===c?void 0:c.expirationTime,notBefore:null===(u=F?.signInWithEthereum)||void 0===u?void 0:u.notBefore,requestId:null===(d=F?.signInWithEthereum)||void 0===d?void 0:d.requestId,resources:null===(h=F?.signInWithEthereum)||void 0===h?void 0:h.resources}),v=yield V.request({method:"personal_sign",params:[u6(g),oe]})}try{const{data:b,error:E}=yield ae(r.fetch,"POST",`${r.url}/token?grant_type=web3`,{headers:r.headers,body:Object.assign({chain:"ethereum",message:g,signature:v},null!==(f=t.options)&&void 0!==f&&f.captchaToken?{gotrue_meta_security:{captcha_token:null===(p=t.options)||void 0===p?void 0:p.captchaToken}}:null),xform:Vr});if(E)throw E;if(!b||!b.session||!b.user){const R=new Ma;return r._returnResult({data:{user:null,session:null},error:R})}return b.session&&(yield r._saveSession(b.session),yield r._notifyAllSubscribers("SIGNED_IN",b.session)),r._returnResult({data:Object.assign({},b),error:E})}catch(b){if(ee(b))return r._returnResult({data:{user:null,session:null},error:b});throw b}})()}signInWithSolana(t){var r=this;return w(function*(){var i,o,s,a,l,c,u,d,h,f,p,g;let v,b;if("message"in t)v=t.message,b=t.signature;else{const{wallet:R,statement:F,options:V}=t;let Q;if(rn())if("object"==typeof R)Q=R;else{const oe=window;if(!("solana"in oe)||"object"!=typeof oe.solana||!("signIn"in oe.solana&&"function"==typeof oe.solana.signIn||"signMessage"in oe.solana&&"function"==typeof oe.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");Q=oe.solana}else{if("object"!=typeof R||!V?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Q=R}const ve=new URL(null!==(i=V?.url)&&void 0!==i?i:window.location.href);if("signIn"in Q&&Q.signIn){const oe=yield Q.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},V?.signInWithSolana),{version:"1",domain:ve.host,uri:ve.href}),F?{statement:F}:null));let Qe;if(Array.isArray(oe)&&oe[0]&&"object"==typeof oe[0])Qe=oe[0];else{if(!(oe&&"object"==typeof oe&&"signedMessage"in oe&&"signature"in oe))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");Qe=oe}if(!("signedMessage"in Qe&&"signature"in Qe&&("string"==typeof Qe.signedMessage||Qe.signedMessage instanceof Uint8Array)&&Qe.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");v="string"==typeof Qe.signedMessage?Qe.signedMessage:(new TextDecoder).decode(Qe.signedMessage),b=Qe.signature}else{if(!("signMessage"in Q&&"function"==typeof Q.signMessage&&"publicKey"in Q&&"object"==typeof Q&&Q.publicKey&&"toBase58"in Q.publicKey&&"function"==typeof Q.publicKey.toBase58))throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${ve.host} wants you to sign in with your Solana account:`,Q.publicKey.toBase58(),...F?["",F,""]:[""],"Version: 1",`URI: ${ve.href}`,`Issued At: ${null!==(s=null===(o=V?.signInWithSolana)||void 0===o?void 0:o.issuedAt)&&void 0!==s?s:(new Date).toISOString()}`,...null!==(a=V?.signInWithSolana)&&void 0!==a&&a.notBefore?[`Not Before: ${V.signInWithSolana.notBefore}`]:[],...null!==(l=V?.signInWithSolana)&&void 0!==l&&l.expirationTime?[`Expiration Time: ${V.signInWithSolana.expirationTime}`]:[],...null!==(c=V?.signInWithSolana)&&void 0!==c&&c.chainId?[`Chain ID: ${V.signInWithSolana.chainId}`]:[],...null!==(u=V?.signInWithSolana)&&void 0!==u&&u.nonce?[`Nonce: ${V.signInWithSolana.nonce}`]:[],...null!==(d=V?.signInWithSolana)&&void 0!==d&&d.requestId?[`Request ID: ${V.signInWithSolana.requestId}`]:[],...null!==(f=null===(h=V?.signInWithSolana)||void 0===h?void 0:h.resources)&&void 0!==f&&f.length?["Resources",...V.signInWithSolana.resources.map(Qe=>`- ${Qe}`)]:[]].join("\n");const oe=yield Q.signMessage((new TextEncoder).encode(v),"utf8");if(!(oe&&oe instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=oe}}try{const{data:E,error:R}=yield ae(r.fetch,"POST",`${r.url}/token?grant_type=web3`,{headers:r.headers,body:Object.assign({chain:"solana",message:v,signature:zo(b)},null!==(p=t.options)&&void 0!==p&&p.captchaToken?{gotrue_meta_security:{captcha_token:null===(g=t.options)||void 0===g?void 0:g.captchaToken}}:null),xform:Vr});if(R)throw R;if(!E||!E.session||!E.user){const F=new Ma;return r._returnResult({data:{user:null,session:null},error:F})}return E.session&&(yield r._saveSession(E.session),yield r._notifyAllSubscribers("SIGNED_IN",E.session)),r._returnResult({data:Object.assign({},E),error:R})}catch(E){if(ee(E))return r._returnResult({data:{user:null,session:null},error:E});throw E}})()}_exchangeCodeForSession(t){var r=this;return w(function*(){const i=yield qo(r.storage,`${r.storageKey}-code-verifier`),[o,s]=(i??"").split("/");try{const{data:a,error:l}=yield ae(r.fetch,"POST",`${r.url}/token?grant_type=pkce`,{headers:r.headers,body:{auth_code:t,code_verifier:o},xform:Vr});if(yield so(r.storage,`${r.storageKey}-code-verifier`),l)throw l;if(!a||!a.session||!a.user){const c=new Ma;return r._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return a.session&&(yield r._saveSession(a.session),yield r._notifyAllSubscribers("SIGNED_IN",a.session)),r._returnResult({data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:l})}catch(a){if(ee(a))return r._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}})()}signInWithIdToken(t){var r=this;return w(function*(){try{const{options:i,provider:o,token:s,access_token:a,nonce:l}=t,c=yield ae(r.fetch,"POST",`${r.url}/token?grant_type=id_token`,{headers:r.headers,body:{provider:o,id_token:s,access_token:a,nonce:l,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:Vr}),{data:u,error:d}=c;if(d)return r._returnResult({data:{user:null,session:null},error:d});if(!u||!u.session||!u.user){const h=new Ma;return r._returnResult({data:{user:null,session:null},error:h})}return u.session&&(yield r._saveSession(u.session),yield r._notifyAllSubscribers("SIGNED_IN",u.session)),r._returnResult({data:u,error:d})}catch(i){if(ee(i))return r._returnResult({data:{user:null,session:null},error:i});throw i}})()}signInWithOtp(t){var r=this;return w(function*(){var i,o,s,a,l;try{if("email"in t){const{email:c,options:u}=t;let d=null,h=null;"pkce"===r.flowType&&([d,h]=yield Aa(r.storage,r.storageKey));const{error:f}=yield ae(r.fetch,"POST",`${r.url}/otp`,{headers:r.headers,body:{email:c,data:null!==(i=u?.data)&&void 0!==i?i:{},create_user:null===(o=u?.shouldCreateUser)||void 0===o||o,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:d,code_challenge_method:h},redirectTo:u?.emailRedirectTo});return r._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:c,options:u}=t,{data:d,error:h}=yield ae(r.fetch,"POST",`${r.url}/otp`,{headers:r.headers,body:{phone:c,data:null!==(s=u?.data)&&void 0!==s?s:{},create_user:null===(a=u?.shouldCreateUser)||void 0===a||a,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:null!==(l=u?.channel)&&void 0!==l?l:"sms"}});return r._returnResult({data:{user:null,session:null,messageId:d?.message_id},error:h})}throw new qh("You must provide either an email or phone number.")}catch(c){if(ee(c))return r._returnResult({data:{user:null,session:null},error:c});throw c}})()}verifyOtp(t){var r=this;return w(function*(){var i,o;try{let s,a;"options"in t&&(s=null===(i=t.options)||void 0===i?void 0:i.redirectTo,a=null===(o=t.options)||void 0===o?void 0:o.captchaToken);const{data:l,error:c}=yield ae(r.fetch,"POST",`${r.url}/verify`,{headers:r.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:Vr});if(c)throw c;if(!l)throw new Error("An error occurred on token verification.");const u=l.session,d=l.user;return u?.access_token&&(yield r._saveSession(u),yield r._notifyAllSubscribers("recovery"==t.type?"PASSWORD_RECOVERY":"SIGNED_IN",u)),r._returnResult({data:{user:d,session:u},error:null})}catch(s){if(ee(s))return r._returnResult({data:{user:null,session:null},error:s});throw s}})()}signInWithSSO(t){var r=this;return w(function*(){var i,o,s,a,l;try{let c=null,u=null;"pkce"===r.flowType&&([c,u]=yield Aa(r.storage,r.storageKey));const d=yield ae(r.fetch,"POST",`${r.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:null!==(o=null===(i=t.options)||void 0===i?void 0:i.redirectTo)&&void 0!==o?o:void 0}),null!==(s=t?.options)&&void 0!==s&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:u}),headers:r.headers,xform:t6});return!(null===(a=d.data)||void 0===a)&&a.url&&rn()&&!(null!==(l=t.options)&&void 0!==l&&l.skipBrowserRedirect)&&window.location.assign(d.data.url),r._returnResult(d)}catch(c){if(ee(c))return r._returnResult({data:null,error:c});throw c}})()}reauthenticate(){var t=this;return w(function*(){return yield t.initializePromise,yield t._acquireLock(-1,w(function*(){return yield t._reauthenticate()}))})()}_reauthenticate(){var t=this;return w(function*(){try{return yield t._useSession(function(){var r=w(function*(i){const{data:{session:o},error:s}=i;if(s)throw s;if(!o)throw new ir;const{error:a}=yield ae(t.fetch,"GET",`${t.url}/reauthenticate`,{headers:t.headers,jwt:o.access_token});return t._returnResult({data:{user:null,session:null},error:a})});return function(i){return r.apply(this,arguments)}}())}catch(r){if(ee(r))return t._returnResult({data:{user:null,session:null},error:r});throw r}})()}resend(t){var r=this;return w(function*(){try{const i=`${r.url}/resend`;if("email"in t){const{email:o,type:s,options:a}=t,{error:l}=yield ae(r.fetch,"POST",i,{headers:r.headers,body:{email:o,type:s,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return r._returnResult({data:{user:null,session:null},error:l})}if("phone"in t){const{phone:o,type:s,options:a}=t,{data:l,error:c}=yield ae(r.fetch,"POST",i,{headers:r.headers,body:{phone:o,type:s,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return r._returnResult({data:{user:null,session:null,messageId:l?.message_id},error:c})}throw new qh("You must provide either an email or phone number and a type")}catch(i){if(ee(i))return r._returnResult({data:{user:null,session:null},error:i});throw i}})()}getSession(){var t=this;return w(function*(){return yield t.initializePromise,yield t._acquireLock(-1,w(function*(){return t._useSession(function(){var i=w(function*(o){return o});return function(o){return i.apply(this,arguments)}}())}))})()}_acquireLock(t,r){var i=this;return w(function*(){i._debug("#_acquireLock","begin",t);try{if(i.lockAcquired){const o=i.pendingInLock.length?i.pendingInLock[i.pendingInLock.length-1]:Promise.resolve(),s=w(function*(){return yield o,yield r()})();return i.pendingInLock.push(w(function*(){try{yield s}catch{}})()),s}return yield i.lock(`lock:${i.storageKey}`,t,w(function*(){i._debug("#_acquireLock","lock acquired for storage key",i.storageKey);try{i.lockAcquired=!0;const o=r();for(i.pendingInLock.push(w(function*(){try{yield o}catch{}})()),yield o;i.pendingInLock.length;){const s=[...i.pendingInLock];yield Promise.all(s),i.pendingInLock.splice(0,s.length)}return yield o}finally{i._debug("#_acquireLock","lock released for storage key",i.storageKey),i.lockAcquired=!1}}))}finally{i._debug("#_acquireLock","end")}})()}_useSession(t){var r=this;return w(function*(){r._debug("#_useSession","begin");try{const i=yield r.__loadSession();return yield t(i)}finally{r._debug("#_useSession","end")}})()}__loadSession(){var t=this;return w(function*(){t._debug("#__loadSession()","begin"),t.lockAcquired||t._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let r=null;const i=yield qo(t.storage,t.storageKey);if(t._debug("#getSession()","session from storage",i),null!==i&&(t._isValidSession(i)?r=i:(t._debug("#getSession()","session from storage is not valid"),yield t._removeSession())),!r)return{data:{session:null},error:null};const o=!!r.expires_at&&1e3*r.expires_at-Date.now()<9e4;if(t._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",r.expires_at),!o){if(t.userStorage){const l=yield qo(t.userStorage,t.storageKey+"-user");r.user=l?.user?l.user:av()}if(t.storage.isServer&&r.user&&!r.user.__isUserNotAvailableProxy){const l={value:t.suppressGetSessionWarning};r.user=function YW(e,n){return new Proxy(e,{get:(t,r,i)=>{if("__isInsecureUserWarningProxy"===r)return!0;if("symbol"==typeof r){const o=r.toString();if("Symbol(Symbol.toPrimitive)"===o||"Symbol(Symbol.toStringTag)"===o||"Symbol(util.inspect.custom)"===o||"Symbol(nodejs.util.inspect.custom)"===o)return Reflect.get(t,r,i)}return!n.value&&"string"==typeof r&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(t,r,i)}})}(r.user,l),l.value&&(t.suppressGetSessionWarning=!0)}return{data:{session:r},error:null}}const{data:s,error:a}=yield t._callRefreshToken(r.refresh_token);return t._returnResult(a?{data:{session:null},error:a}:{data:{session:s},error:null})}finally{t._debug("#__loadSession()","end")}})()}getUser(t){var r=this;return w(function*(){return t?yield r._getUser(t):(yield r.initializePromise,yield r._acquireLock(-1,w(function*(){return yield r._getUser()})))})()}_getUser(t){var r=this;return w(function*(){try{return t?yield ae(r.fetch,"GET",`${r.url}/user`,{headers:r.headers,jwt:t,xform:ao}):yield r._useSession(function(){var i=w(function*(o){var s,a,l;const{data:c,error:u}=o;if(u)throw u;return null!==(s=c.session)&&void 0!==s&&s.access_token||r.hasCustomAuthorizationHeader?yield ae(r.fetch,"GET",`${r.url}/user`,{headers:r.headers,jwt:null!==(l=null===(a=c.session)||void 0===a?void 0:a.access_token)&&void 0!==l?l:void 0,xform:ao}):{data:{user:null},error:new ir}});return function(o){return i.apply(this,arguments)}}())}catch(i){if(ee(i))return function PW(e){return ee(e)&&"AuthSessionMissingError"===e.name}(i)&&(yield r._removeSession(),yield so(r.storage,`${r.storageKey}-code-verifier`)),r._returnResult({data:{user:null},error:i});throw i}})()}updateUser(t){var r=this;return w(function*(i,o={}){return yield r.initializePromise,yield r._acquireLock(-1,w(function*(){return yield r._updateUser(i,o)}))}).apply(this,arguments)}_updateUser(t){var r=this;return w(function*(i,o={}){try{return yield r._useSession(function(){var s=w(function*(a){const{data:l,error:c}=a;if(c)throw c;if(!l.session)throw new ir;const u=l.session;let d=null,h=null;"pkce"===r.flowType&&null!=i.email&&([d,h]=yield Aa(r.storage,r.storageKey));const{data:f,error:p}=yield ae(r.fetch,"PUT",`${r.url}/user`,{headers:r.headers,redirectTo:o?.emailRedirectTo,body:Object.assign(Object.assign({},i),{code_challenge:d,code_challenge_method:h}),jwt:u.access_token,xform:ao});if(p)throw p;return u.user=f.user,yield r._saveSession(u),yield r._notifyAllSubscribers("USER_UPDATED",u),r._returnResult({data:{user:u.user},error:null})});return function(a){return s.apply(this,arguments)}}())}catch(s){if(ee(s))return r._returnResult({data:{user:null},error:s});throw s}}).apply(this,arguments)}setSession(t){var r=this;return w(function*(){return yield r.initializePromise,yield r._acquireLock(-1,w(function*(){return yield r._setSession(t)}))})()}_setSession(t){var r=this;return w(function*(){try{if(!t.access_token||!t.refresh_token)throw new ir;const i=Date.now()/1e3;let o=i,s=!0,a=null;const{payload:l}=nv(t.access_token);if(l.exp&&(o=l.exp,s=o<=i),s){const{data:c,error:u}=yield r._callRefreshToken(t.refresh_token);if(u)return r._returnResult({data:{user:null,session:null},error:u});if(!c)return{data:{user:null,session:null},error:null};a=c}else{const{data:c,error:u}=yield r._getUser(t.access_token);if(u)throw u;a={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:o-i,expires_at:o},yield r._saveSession(a),yield r._notifyAllSubscribers("SIGNED_IN",a)}return r._returnResult({data:{user:a.user,session:a},error:null})}catch(i){if(ee(i))return r._returnResult({data:{session:null,user:null},error:i});throw i}})()}refreshSession(t){var r=this;return w(function*(){return yield r.initializePromise,yield r._acquireLock(-1,w(function*(){return yield r._refreshSession(t)}))})()}_refreshSession(t){var r=this;return w(function*(){try{return yield r._useSession(function(){var i=w(function*(o){var s;if(!t){const{data:c,error:u}=o;if(u)throw u;t=null!==(s=c.session)&&void 0!==s?s:void 0}if(!t?.refresh_token)throw new ir;const{data:a,error:l}=yield r._callRefreshToken(t.refresh_token);return r._returnResult(l?{data:{user:null,session:null},error:l}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null})});return function(o){return i.apply(this,arguments)}}())}catch(i){if(ee(i))return r._returnResult({data:{user:null,session:null},error:i});throw i}})()}_getSessionFromURL(t,r){var i=this;return w(function*(){try{if(!rn())throw new Wh("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Wh(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if("pkce"===i.flowType)throw new $P("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===i.flowType)throw new Wh("Not a valid implicit grant flow url.")}if("pkce"===r){if(i._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new $P("No code detected.");const{data:F,error:V}=yield i._exchangeCodeForSession(t.code);if(V)throw V;const Q=new URL(window.location.href);return Q.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Q.toString()),{data:{session:F.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:s,access_token:a,refresh_token:l,expires_in:c,expires_at:u,token_type:d}=t;if(!(a&&c&&l&&d))throw new Wh("No session defined in URL");const h=Math.round(Date.now()/1e3),f=parseInt(c);let p=h+f;u&&(p=parseInt(u));const g=p-h;1e3*g<=Sa&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${f}s`);const v=p-f;h-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,p,h):h-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,p,h);const{data:b,error:E}=yield i._getUser(a);if(E)throw E;const R={provider_token:o,provider_refresh_token:s,access_token:a,expires_in:f,expires_at:p,refresh_token:l,token_type:d,user:b.user};return window.location.hash="",i._debug("#_getSessionFromURL()","clearing window.location.hash"),i._returnResult({data:{session:R,redirectType:t.type},error:null})}catch(o){if(ee(o))return i._returnResult({data:{session:null,redirectType:null},error:o});throw o}})()}_isImplicitGrantCallback(t){return!(!t.access_token&&!t.error_description)}_isPKCECallback(t){var r=this;return w(function*(){const i=yield qo(r.storage,`${r.storageKey}-code-verifier`);return!(!t.code||!i)})()}signOut(){var t=this;return w(function*(r={scope:"global"}){return yield t.initializePromise,yield t._acquireLock(-1,w(function*(){return yield t._signOut(r)}))}).apply(this,arguments)}_signOut(){var t=this;return w(function*({scope:r}={scope:"global"}){return yield t._useSession(function(){var i=w(function*(o){var s;const{data:a,error:l}=o;if(l)return t._returnResult({error:l});const c=null===(s=a.session)||void 0===s?void 0:s.access_token;if(c){const{error:u}=yield t.admin.signOut(c,r);if(u&&(!function AW(e){return ee(e)&&"AuthApiError"===e.name}(u)||404!==u.status&&401!==u.status&&403!==u.status))return t._returnResult({error:u})}return"others"!==r&&(yield t._removeSession(),yield so(t.storage,`${t.storageKey}-code-verifier`)),t._returnResult({error:null})});return function(o){return i.apply(this,arguments)}}())}).apply(this,arguments)}onAuthStateChange(t){var r=this;const i=function LW(){return Symbol("auth-callback")}(),o={id:i,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,o),w(function*(){yield r.initializePromise,yield r._acquireLock(-1,w(function*(){r._emitInitialSession(i)}))})(),{data:{subscription:o}}}_emitInitialSession(t){var r=this;return w(function*(){return yield r._useSession(function(){var i=w(function*(o){var s,a;try{const{data:{session:l},error:c}=o;if(c)throw c;yield null===(s=r.stateChangeEmitters.get(t))||void 0===s?void 0:s.callback("INITIAL_SESSION",l),r._debug("INITIAL_SESSION","callback id",t,"session",l)}catch(l){yield null===(a=r.stateChangeEmitters.get(t))||void 0===a?void 0:a.callback("INITIAL_SESSION",null),r._debug("INITIAL_SESSION","callback id",t,"error",l),console.error(l)}});return function(o){return i.apply(this,arguments)}}())})()}resetPasswordForEmail(t){var r=this;return w(function*(i,o={}){let s=null,a=null;"pkce"===r.flowType&&([s,a]=yield Aa(r.storage,r.storageKey,!0));try{return yield ae(r.fetch,"POST",`${r.url}/recover`,{body:{email:i,code_challenge:s,code_challenge_method:a,gotrue_meta_security:{captcha_token:o.captchaToken}},headers:r.headers,redirectTo:o.redirectTo})}catch(l){if(ee(l))return r._returnResult({data:null,error:l});throw l}}).apply(this,arguments)}getUserIdentities(){var t=this;return w(function*(){var r;try{const{data:i,error:o}=yield t.getUser();if(o)throw o;return t._returnResult({data:{identities:null!==(r=i.user.identities)&&void 0!==r?r:[]},error:null})}catch(i){if(ee(i))return t._returnResult({data:null,error:i});throw i}})()}linkIdentity(t){var r=this;return w(function*(){return"token"in t?r.linkIdentityIdToken(t):r.linkIdentityOAuth(t)})()}linkIdentityOAuth(t){var r=this;return w(function*(){var i;try{const{data:o,error:s}=yield r._useSession(function(){var a=w(function*(l){var c,u,d,h,f;const{data:p,error:g}=l;if(g)throw g;const v=yield r._getUrlForProvider(`${r.url}/user/identities/authorize`,t.provider,{redirectTo:null===(c=t.options)||void 0===c?void 0:c.redirectTo,scopes:null===(u=t.options)||void 0===u?void 0:u.scopes,queryParams:null===(d=t.options)||void 0===d?void 0:d.queryParams,skipBrowserRedirect:!0});return yield ae(r.fetch,"GET",v,{headers:r.headers,jwt:null!==(f=null===(h=p.session)||void 0===h?void 0:h.access_token)&&void 0!==f?f:void 0})});return function(l){return a.apply(this,arguments)}}());if(s)throw s;return rn()&&!(null!==(i=t.options)&&void 0!==i&&i.skipBrowserRedirect)&&window.location.assign(o?.url),r._returnResult({data:{provider:t.provider,url:o?.url},error:null})}catch(o){if(ee(o))return r._returnResult({data:{provider:t.provider,url:null},error:o});throw o}})()}linkIdentityIdToken(t){var r=this;return w(function*(){return yield r._useSession(function(){var i=w(function*(o){var s;try{const{error:a,data:{session:l}}=o;if(a)throw a;const{options:c,provider:u,token:d,access_token:h,nonce:f}=t,p=yield ae(r.fetch,"POST",`${r.url}/token?grant_type=id_token`,{headers:r.headers,jwt:null!==(s=l?.access_token)&&void 0!==s?s:void 0,body:{provider:u,id_token:d,access_token:h,nonce:f,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Vr}),{data:g,error:v}=p;return v?r._returnResult({data:{user:null,session:null},error:v}):g&&g.session&&g.user?(g.session&&(yield r._saveSession(g.session),yield r._notifyAllSubscribers("USER_UPDATED",g.session)),r._returnResult({data:g,error:v})):r._returnResult({data:{user:null,session:null},error:new Ma})}catch(a){if(ee(a))return r._returnResult({data:{user:null,session:null},error:a});throw a}});return function(o){return i.apply(this,arguments)}}())})()}unlinkIdentity(t){var r=this;return w(function*(){try{return yield r._useSession(function(){var i=w(function*(o){var s,a;const{data:l,error:c}=o;if(c)throw c;return yield ae(r.fetch,"DELETE",`${r.url}/user/identities/${t.identity_id}`,{headers:r.headers,jwt:null!==(a=null===(s=l.session)||void 0===s?void 0:s.access_token)&&void 0!==a?a:void 0})});return function(o){return i.apply(this,arguments)}}())}catch(i){if(ee(i))return r._returnResult({data:null,error:i});throw i}})()}_refreshAccessToken(t){var r=this;return w(function*(){const i=`#_refreshAccessToken(${t.substring(0,5)}...)`;r._debug(i,"begin");try{const o=Date.now();return yield function BW(e,n){return new Promise((r,i)=>{w(function*(){for(let o=0;o<1/0;o++)try{const s=yield e(o);if(!n(o,null,s))return void r(s)}catch(s){if(!n(o,s))return void i(s)}})()})}(function(){var s=w(function*(a){return a>0&&(yield function UW(e){return rv.apply(this,arguments)}(200*Math.pow(2,a-1))),r._debug(i,"refreshing attempt",a),yield ae(r.fetch,"POST",`${r.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:r.headers,xform:Vr})});return function(a){return s.apply(this,arguments)}}(),(s,a)=>{const l=200*Math.pow(2,s);return a&&ev(a)&&Date.now()+l-o<Sa})}catch(o){if(r._debug(i,"error",o),ee(o))return r._returnResult({data:{session:null,user:null},error:o});throw o}finally{r._debug(i,"end")}})()}_isValidSession(t){return"object"==typeof t&&null!==t&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}_handleProviderSignIn(t,r){var i=this;return w(function*(){const o=yield i._getUrlForProvider(`${i.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return i._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",o),rn()&&!r.skipBrowserRedirect&&window.location.assign(o),{data:{provider:t,url:o},error:null}})()}_recoverAndRefresh(){var t=this;return w(function*(){var r,i;const o="#_recoverAndRefresh()";t._debug(o,"begin");try{const s=yield qo(t.storage,t.storageKey);if(s&&t.userStorage){let l=yield qo(t.userStorage,t.storageKey+"-user");!t.storage.isServer&&Object.is(t.storage,t.userStorage)&&!l&&(l={user:s.user},yield Ta(t.userStorage,t.storageKey+"-user",l)),s.user=null!==(r=l?.user)&&void 0!==r?r:av()}else if(s&&!s.user&&!s.user){const l=yield qo(t.storage,t.storageKey+"-user");l&&l?.user?(s.user=l.user,yield so(t.storage,t.storageKey+"-user"),yield Ta(t.storage,t.storageKey,s)):s.user=av()}if(t._debug(o,"session from storage",s),!t._isValidSession(s))return t._debug(o,"session is not valid"),void(null!==s&&(yield t._removeSession()));const a=1e3*(null!==(i=s.expires_at)&&void 0!==i?i:1/0)-Date.now()<9e4;if(t._debug(o,`session has${a?"":" not"} expired with margin of 90000s`),a){if(t.autoRefreshToken&&s.refresh_token){const{error:l}=yield t._callRefreshToken(s.refresh_token);l&&(console.error(l),ev(l)||(t._debug(o,"refresh failed with a non-retryable error, removing the session",l),yield t._removeSession()))}}else if(s.user&&!0===s.user.__isUserNotAvailableProxy)try{const{data:l,error:c}=yield t._getUser(s.access_token);!c&&l?.user?(s.user=l.user,yield t._saveSession(s),yield t._notifyAllSubscribers("SIGNED_IN",s)):t._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),t._debug(o,"error getting user data, skipping SIGNED_IN notification",l)}else yield t._notifyAllSubscribers("SIGNED_IN",s)}catch(s){return t._debug(o,"error",s),void console.error(s)}finally{t._debug(o,"end")}})()}_callRefreshToken(t){var r=this;return w(function*(){var i,o;if(!t)throw new ir;if(r.refreshingDeferred)return r.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;r._debug(s,"begin");try{r.refreshingDeferred=new Qh;const{data:a,error:l}=yield r._refreshAccessToken(t);if(l)throw l;if(!a.session)throw new ir;yield r._saveSession(a.session),yield r._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const c={data:a.session,error:null};return r.refreshingDeferred.resolve(c),c}catch(a){if(r._debug(s,"error",a),ee(a)){const l={data:null,error:a};return ev(a)||(yield r._removeSession()),null===(i=r.refreshingDeferred)||void 0===i||i.resolve(l),l}throw null===(o=r.refreshingDeferred)||void 0===o||o.reject(a),a}finally{r.refreshingDeferred=null,r._debug(s,"end")}})()}_notifyAllSubscribers(t,r){var i=this;return w(function*(o,s,a=!0){const l=`#_notifyAllSubscribers(${o})`;i._debug(l,"begin",s,`broadcast = ${a}`);try{i.broadcastChannel&&a&&i.broadcastChannel.postMessage({event:o,session:s});const c=[],u=Array.from(i.stateChangeEmitters.values()).map(function(){var d=w(function*(h){try{yield h.callback(o,s)}catch(f){c.push(f)}});return function(h){return d.apply(this,arguments)}}());if(yield Promise.all(u),c.length>0){for(let d=0;d<c.length;d+=1)console.error(c[d]);throw c[0]}}finally{i._debug(l,"end")}}).apply(this,arguments)}_saveSession(t){var r=this;return w(function*(){r._debug("#_saveSession()",t),r.suppressGetSessionWarning=!0;const i=Object.assign({},t);if(r.userStorage){(!i.user||!0!==i.user.__isUserNotAvailableProxy)&&i.user&&(yield Ta(r.userStorage,r.storageKey+"-user",{user:i.user}));const s=Object.assign({},i);delete s.user;const a=QP(s);yield Ta(r.storage,r.storageKey,a)}else{const s=QP(i);yield Ta(r.storage,r.storageKey,s)}})()}_removeSession(){var t=this;return w(function*(){t._debug("#_removeSession()"),yield so(t.storage,t.storageKey),yield so(t.storage,t.storageKey+"-code-verifier"),yield so(t.storage,t.storageKey+"-user"),t.userStorage&&(yield so(t.userStorage,t.storageKey+"-user")),yield t._notifyAllSubscribers("SIGNED_OUT",null)})()}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&rn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){var t=this;return w(function*(){yield t._stopAutoRefresh(),t._debug("#_startAutoRefresh()");const r=setInterval(()=>t._autoRefreshTokenTick(),Sa);t.autoRefreshTicker=r,r&&"object"==typeof r&&"function"==typeof r.unref?r.unref():typeof Deno<"u"&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(r),setTimeout(w(function*(){yield t.initializePromise,yield t._autoRefreshTokenTick()}),0)})()}_stopAutoRefresh(){var t=this;return w(function*(){t._debug("#_stopAutoRefresh()");const r=t.autoRefreshTicker;t.autoRefreshTicker=null,r&&clearInterval(r)})()}startAutoRefresh(){var t=this;return w(function*(){t._removeVisibilityChangedCallback(),yield t._startAutoRefresh()})()}stopAutoRefresh(){var t=this;return w(function*(){t._removeVisibilityChangedCallback(),yield t._stopAutoRefresh()})()}_autoRefreshTokenTick(){var t=this;return w(function*(){t._debug("#_autoRefreshTokenTick()","begin");try{yield t._acquireLock(0,w(function*(){try{const r=Date.now();try{return yield t._useSession(function(){var i=w(function*(o){const{data:{session:s}}=o;if(!s||!s.refresh_token||!s.expires_at)return void t._debug("#_autoRefreshTokenTick()","no session");const a=Math.floor((1e3*s.expires_at-r)/Sa);t._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),a<=3&&(yield t._callRefreshToken(s.refresh_token))});return function(o){return i.apply(this,arguments)}}())}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{t._debug("#_autoRefreshTokenTick()","end")}}))}catch(r){if(!(r.isAcquireTimeout||r instanceof tO))throw r;t._debug("auto refresh token tick lock not available")}})()}_handleVisibilityChange(){var t=this;return w(function*(){if(t._debug("#_handleVisibilityChange()"),!rn()||!window?.addEventListener)return t.autoRefreshToken&&t.startAutoRefresh(),!1;try{t.visibilityChangedCallback=w(function*(){return yield t._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",t.visibilityChangedCallback),yield t._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}})()}_onVisibilityChanged(t){var r=this;return w(function*(){const i=`#_onVisibilityChanged(${t})`;r._debug(i,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(r.autoRefreshToken&&r._startAutoRefresh(),t||(yield r.initializePromise,yield r._acquireLock(-1,w(function*(){"visible"===document.visibilityState?yield r._recoverAndRefresh():r._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")})))):"hidden"===document.visibilityState&&r.autoRefreshToken&&r._stopAutoRefresh()})()}_getUrlForProvider(t,r,i){var o=this;return w(function*(){const s=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&s.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&s.push(`scopes=${encodeURIComponent(i.scopes)}`),"pkce"===o.flowType){const[a,l]=yield Aa(o.storage,o.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(l)}`});s.push(c.toString())}if(i?.queryParams){const a=new URLSearchParams(i.queryParams);s.push(a.toString())}return i?.skipBrowserRedirect&&s.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${s.join("&")}`})()}_unenroll(t){var r=this;return w(function*(){try{return yield r._useSession(function(){var i=w(function*(o){var s;const{data:a,error:l}=o;return l?r._returnResult({data:null,error:l}):yield ae(r.fetch,"DELETE",`${r.url}/factors/${t.factorId}`,{headers:r.headers,jwt:null===(s=a?.session)||void 0===s?void 0:s.access_token})});return function(o){return i.apply(this,arguments)}}())}catch(i){if(ee(i))return r._returnResult({data:null,error:i});throw i}})()}_enroll(t){var r=this;return w(function*(){try{return yield r._useSession(function(){var i=w(function*(o){var s,a;const{data:l,error:c}=o;if(c)return r._returnResult({data:null,error:c});const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},"phone"===t.factorType?{phone:t.phone}:"totp"===t.factorType?{issuer:t.issuer}:{}),{data:d,error:h}=yield ae(r.fetch,"POST",`${r.url}/factors`,{body:u,headers:r.headers,jwt:null===(s=l?.session)||void 0===s?void 0:s.access_token});return h?r._returnResult({data:null,error:h}):("totp"===t.factorType&&"totp"===d.type&&!(null===(a=d?.totp)||void 0===a)&&a.qr_code&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),r._returnResult({data:d,error:null}))});return function(o){return i.apply(this,arguments)}}())}catch(i){if(ee(i))return r._returnResult({data:null,error:i});throw i}})()}_verify(t){var r=this;return w(function*(){return r._acquireLock(-1,w(function*(){try{return yield r._useSession(function(){var i=w(function*(o){var s;const{data:a,error:l}=o;if(l)return r._returnResult({data:null,error:l});const c=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:"create"===t.webauthn.type?_6(t.webauthn.credential_response):v6(t.webauthn.credential_response)})}:{code:t.code}),{data:u,error:d}=yield ae(r.fetch,"POST",`${r.url}/factors/${t.factorId}/verify`,{body:c,headers:r.headers,jwt:null===(s=a?.session)||void 0===s?void 0:s.access_token});return d?r._returnResult({data:null,error:d}):(yield r._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),yield r._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),r._returnResult({data:u,error:d}))});return function(o){return i.apply(this,arguments)}}())}catch(i){if(ee(i))return r._returnResult({data:null,error:i});throw i}}))})()}_challenge(t){var r=this;return w(function*(){return r._acquireLock(-1,w(function*(){try{return yield r._useSession(function(){var i=w(function*(o){var s;const{data:a,error:l}=o;if(l)return r._returnResult({data:null,error:l});const c=yield ae(r.fetch,"POST",`${r.url}/factors/${t.factorId}/challenge`,{body:t,headers:r.headers,jwt:null===(s=a?.session)||void 0===s?void 0:s.access_token});if(c.error)return c;const{data:u}=c;if("webauthn"!==u.type)return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:m6(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:y6(u.webauthn.credential_options.publicKey)})})}),error:null}}});return function(o){return i.apply(this,arguments)}}())}catch(i){if(ee(i))return r._returnResult({data:null,error:i});throw i}}))})()}_challengeAndVerify(t){var r=this;return w(function*(){const{data:i,error:o}=yield r._challenge({factorId:t.factorId});return o?r._returnResult({data:null,error:o}):yield r._verify({factorId:t.factorId,challengeId:i.id,code:t.code})})()}_listFactors(){var t=this;return w(function*(){var r;const{data:{user:i},error:o}=yield t.getUser();if(o)return{data:null,error:o};const s={all:[],phone:[],totp:[],webauthn:[]};for(const a of null!==(r=i?.factors)&&void 0!==r?r:[])s.all.push(a),"verified"===a.status&&s[a.factor_type].push(a);return{data:s,error:null}})()}_getAuthenticatorAssuranceLevel(){var t=this;return w(function*(){var r,i;const{data:{session:o},error:s}=yield t.getSession();if(s)return t._returnResult({data:null,error:s});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=nv(o.access_token);let l=null;a.aal&&(l=a.aal);let c=l;return(null!==(i=null===(r=o.user.factors)||void 0===r?void 0:r.filter(h=>"verified"===h.status))&&void 0!==i?i:[]).length>0&&(c="aal2"),{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:a.amr||[]},error:null}})()}_getAuthorizationDetails(t){var r=this;return w(function*(){try{return yield r._useSession(function(){var i=w(function*(o){const{data:{session:s},error:a}=o;return a?r._returnResult({data:null,error:a}):s?yield ae(r.fetch,"GET",`${r.url}/oauth/authorizations/${t}`,{headers:r.headers,jwt:s.access_token,xform:l=>({data:l,error:null})}):r._returnResult({data:null,error:new ir})});return function(o){return i.apply(this,arguments)}}())}catch(i){if(ee(i))return r._returnResult({data:null,error:i});throw i}})()}_approveAuthorization(t,r){var i=this;return w(function*(){try{return yield i._useSession(function(){var o=w(function*(s){const{data:{session:a},error:l}=s;if(l)return i._returnResult({data:null,error:l});if(!a)return i._returnResult({data:null,error:new ir});const c=yield ae(i.fetch,"POST",`${i.url}/oauth/authorizations/${t}/consent`,{headers:i.headers,jwt:a.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return c.data&&c.data.redirect_url&&rn()&&!r?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c});return function(s){return o.apply(this,arguments)}}())}catch(o){if(ee(o))return i._returnResult({data:null,error:o});throw o}})()}_denyAuthorization(t,r){var i=this;return w(function*(){try{return yield i._useSession(function(){var o=w(function*(s){const{data:{session:a},error:l}=s;if(l)return i._returnResult({data:null,error:l});if(!a)return i._returnResult({data:null,error:new ir});const c=yield ae(i.fetch,"POST",`${i.url}/oauth/authorizations/${t}/consent`,{headers:i.headers,jwt:a.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return c.data&&c.data.redirect_url&&rn()&&!r?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c});return function(s){return o.apply(this,arguments)}}())}catch(o){if(ee(o))return i._returnResult({data:null,error:o});throw o}})()}_listOAuthGrants(){var t=this;return w(function*(){try{return yield t._useSession(function(){var r=w(function*(i){const{data:{session:o},error:s}=i;return s?t._returnResult({data:null,error:s}):o?yield ae(t.fetch,"GET",`${t.url}/user/oauth/grants`,{headers:t.headers,jwt:o.access_token,xform:a=>({data:a,error:null})}):t._returnResult({data:null,error:new ir})});return function(i){return r.apply(this,arguments)}}())}catch(r){if(ee(r))return t._returnResult({data:null,error:r});throw r}})()}_revokeOAuthGrant(t){var r=this;return w(function*(){try{return yield r._useSession(function(){var i=w(function*(o){const{data:{session:s},error:a}=o;return a?r._returnResult({data:null,error:a}):s?yield ae(r.fetch,"DELETE",`${r.url}/user/oauth/grants`,{headers:r.headers,jwt:s.access_token,query:{client_id:t.clientId},xform:()=>({data:{},error:null})}):r._returnResult({data:null,error:new ir})});return function(o){return i.apply(this,arguments)}}())}catch(i){if(ee(i))return r._returnResult({data:null,error:i});throw i}})()}fetchJwk(t){var r=this;return w(function*(i,o={keys:[]}){let s=o.keys.find(u=>u.kid===i);if(s)return s;const a=Date.now();if(s=r.jwks.keys.find(u=>u.kid===i),s&&r.jwks_cached_at+6e5>a)return s;const{data:l,error:c}=yield ae(r.fetch,"GET",`${r.url}/.well-known/jwks.json`,{headers:r.headers});if(c)throw c;return l.keys&&0!==l.keys.length&&(r.jwks=l,r.jwks_cached_at=a,s=l.keys.find(u=>u.kid===i),s)?s:null}).apply(this,arguments)}getClaims(t){var r=this;return w(function*(i,o={}){try{let s=i;if(!s){const{data:v,error:b}=yield r.getSession();if(b||!v.session)return r._returnResult({data:null,error:b});s=v.session.access_token}const{header:a,payload:l,signature:c,raw:{header:u,payload:d}}=nv(s);o?.allowExpired||function KW(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(l.exp);const h=a.alg&&!a.alg.startsWith("HS")&&a.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?yield r.fetchJwk(a.kid,o?.keys?{keys:o.keys}:o?.jwks):null;if(!h){const{error:v}=yield r.getUser(s);if(v)throw v;return{data:{claims:l,header:a,signature:c},error:null}}const f=function JW(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(a.alg),p=yield crypto.subtle.importKey("jwk",h,f,!0,["verify"]);if(!(yield crypto.subtle.verify(f,p,c,function xW(e){const n=[];return function WP(e,n){for(let t=0;t<e.length;t+=1){let r=e.charCodeAt(t);if(r>55295&&r<=56319){const i=1024*(r-55296)&65535;r=65536+(e.charCodeAt(t+1)-56320&65535|i),t+=1}kW(r,n)}}(e,t=>n.push(t)),new Uint8Array(n)}(`${u}.${d}`))))throw new tv("Invalid JWT signature");return{data:{claims:l,header:a,signature:c},error:null}}catch(s){if(ee(s))return r._returnResult({data:null,error:s});throw s}}).apply(this,arguments)}}return e.nextInstanceID={},e})();class P6 extends A6{constructor(n){super(n)}}class O6{constructor(n,t,r){var i,o,s;this.supabaseUrl=n,this.supabaseKey=t;const a=function bW(e){const n=e?.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(function wW(e){return e.endsWith("/")?e:e+"/"}(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}(n);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,u=function CW(e,n){var t,r;const{db:i,auth:o,realtime:s,global:a}=e,{db:l,auth:c,realtime:u,global:d}=n,h={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),o),realtime:Object.assign(Object.assign({},u),s),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},null!==(t=d?.headers)&&void 0!==t?t:{}),null!==(r=a?.headers)&&void 0!==r?r:{})}),accessToken:(f=w(function*(){return""}),function(){return f.apply(this,arguments)})};var f;return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}(r??{},{db:pW,realtime:mW,auth:Object.assign(Object.assign({},gW),{storageKey:l}),global:fW});this.storageKey=null!==(i=u.auth.storageKey)&&void 0!==i?i:"",this.headers=null!==(o=u.global.headers)&&void 0!==o?o:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(s=u.auth)&&void 0!==s?s:{},this.headers,u.global.fetch),this.fetch=vW(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new MP(new URL("rest/v1",a).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new dW(this.storageUrl.href,this.headers,this.fetch,r?.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new g8(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,t,r)}channel(n,t={config:{}}){return this.realtime.channel(n,t)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var n=this;return w(function*(){var t,r;if(n.accessToken)return yield n.accessToken();const{data:i}=yield n.auth.getSession();return null!==(r=null===(t=i.session)||void 0===t?void 0:t.access_token)&&void 0!==r?r:n.supabaseKey})()}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:t,detectSessionInUrl:r,storage:i,userStorage:o,storageKey:s,flowType:a,lock:l,debug:c,throwOnError:u},d,h){return new P6({url:this.authUrl.href,headers:Object.assign(Object.assign({},{Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`}),d),storageKey:s,autoRefreshToken:n,persistSession:t,detectSessionInUrl:r,storage:i,userStorage:o,flowType:a,lock:l,debug:c,throwOnError:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>"authorization"===p.toLowerCase())})}_initRealtimeClient(n){return new U8(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r?.access_token)})}_handleTokenChanged(n,t,r){"TOKEN_REFRESHED"!==n&&"SIGNED_IN"!==n||this.changedAccessToken===r?"SIGNED_OUT"===n&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):(this.changedAccessToken=r,this.realtime.setAuth(r))}}(function k6(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(null==e)return!1;const n=e.match(/^v(\d+)\./);return!!n&&parseInt(n[1],10)<=18})()&&console.warn("\u26a0\ufe0f  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");let aO=(()=>{class e{constructor(){this.supabase=((e,n,t)=>new O6(e,n,void 0))(jt_supabaseUrl,"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhkbGh5anpqeWdhbnNmZW9ndXZzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MDY5OTUwMjksImV4cCI6MjAyMjU3MTAyOX0.ystMHS-Tic8W3rHqXTwW1F90WvxfVHpLJ5bkimn81PM")}Storage(){return this.supabase.storage}Auth(){return this.supabase.auth}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Ko=(()=>{class e{constructor(t){this.supabase=t,this.userSubject=new Bn({email:"",imgUrl:"",authenticated:!1,name:"",dateJoined:"",public:!1}),this.user=this.userSubject.asObservable()}UpdateUserName(t){var r=this;return w(function*(){let{error:o}=yield r.supabase.Auth().updateUser({data:{display_name:t}});return o?(console.error(o),o):null})()}UpdateProfileVisibility(t){var r=this;return w(function*(){let{error:o}=yield r.supabase.Auth().updateUser({data:{profile_public:t}});return o?(console.error(o),o):null})()}UpdateUserImg(t){var r=this;return w(function*(){let{error:o}=yield r.supabase.Auth().updateUser({data:{user_img_url:t}});return o?(console.error(o),o):null})()}UpdateUserPassword(t){var r=this;return w(function*(){let{error:o}=yield r.supabase.Auth().updateUser({password:t});return o?(console.error(o),o):null})()}SendPasswordResetEmail(t){var r=this;return w(function*(){let{error:o}=yield r.supabase.Auth().resetPasswordForEmail(t,{redirectTo:"https://trextrivia.com/password-reset"});return o?(console.error(o),o):null})()}GetUser(){var t=this;return w(function*(){let{data:r,error:i}=yield t.supabase.Auth().getUser();if(i)return i;let o={email:r.user?.email??"",imgUrl:r.user?.user_metadata.user_img_url??r.user?.user_metadata.avatar_url,authenticated:!0,name:r.user?.user_metadata.display_name??r.user?.user_metadata.full_name,dateJoined:CP(r.user?.created_at??""),public:r.user?.user_metadata.profile_public??!0};return t.userSubject.next(o),null})()}SignUp(t,r,i,o){var s=this;return w(function*(){let{error:l}=yield s.supabase.Auth().signUp({email:t,password:r,options:{emailRedirectTo:"https://trextrivia.com/join",data:{full_name:i,avatar_url:o}}});return l?(console.error(l),l):null})()}SignIn(t){var r=this;return w(function*(){let{error:o}=yield r.supabase.Auth().signInWithOAuth({provider:t,options:{redirectTo:"https://trextrivia.com/join"}});return o?(console.error(o),o):null})()}SignInWithPassword(t,r){var i=this;return w(function*(){let{error:s}=yield i.supabase.Auth().signInWithPassword({email:t,password:r});return s?(console.error(s),s):null})()}SignOut(){var t=this;return w(function*(){let{error:r}=yield t.supabase.Auth().signOut();return r?(console.error(r),r):null})()}static{this.\u0275fac=function(r){return new(r||e)(Y(aO))}}static{this.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Ke=function(e){return e[e.PreGame=0]="PreGame",e[e.BoardIntro=1]="BoardIntro",e[e.RecvPick=2]="RecvPick",e[e.RecvBuzz=3]="RecvBuzz",e[e.RecvWager=4]="RecvWager",e[e.RecvAns=5]="RecvAns",e[e.RecvDispute=6]="RecvDispute",e[e.PostGame=7]="PostGame",e[e.Error=8]="Error",e}(Ke||{}),jc=function(e){return e[e.FirstRound=0]="FirstRound",e[e.SecondRound=1]="SecondRound",e[e.FinalRound=2]="FinalRound",e}(jc||{});const yv="ping";let lo="Sorry, T-Rex Trivia is not available right now. Please try again later.",mr=(()=>{class e{constructor(){this.playerSubject=new Tn,this.player={}}updatePlayer(t){this.player=t,this.playerSubject.next(this.player)}Player(){return this.player}Id(){return this.player.id}Name(){return this.player.name}CanPick(){return this.player.canPick}CanBuzz(){return this.player.canBuzz}SetCanBuzz(t){this.player.canBuzz=t,this.updatePlayer(this.player)}CanAnswer(){return this.player.canAnswer}CanWager(){return this.player.canWager}CanDispute(){return this.player.canDispute}PlayAgain(){return this.player.playAgain}FinalWager(){return this.player.finalWager}Score(){return this.player.score}Conn(){return this.player.conn}SetCanDispute(t){this.player.canDispute=t,this.updatePlayer(this.player)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),jn=(()=>{class e{constructor(t){this.player=t,this.gameStateSubject=new Tn,this.game={}}updateGameState(t){this.game=t,this.gameStateSubject.next(this.game)}Name(){return this.game.name}Code(){return this.game.code}State(){return this.game.state}Players(){return this.game.players||(this.game.players=[]),this.game.players}NumConnectedPlayers(){return this.game.players.filter(t=>t.conn).length}OtherPlayers(){return this.game.players||(this.game.players=[]),this.game.players.filter(t=>t.id!=this.player.Id())}QuestionRows(){let t=[],r=[],i=[],o=[],s=[],a=this.game.firstRound;this.game.round==jc.SecondRound&&(a=this.game.secondRound);for(let l of a)t.push(l.questions[0]),r.push(l.questions[1]),i.push(l.questions[2]),o.push(l.questions[3]),s.push(l.questions[4]);return[t,r,i,o,s]}Categories(){let t=this.game.firstRound;return this.game.round==jc.SecondRound&&(t=this.game.secondRound),t.map(r=>r.title)}PickingPlayer(){return this.game.players.find(t=>t.canPick)?.name??""}AnsweringPlayer(){return this.game.players.find(t=>t.canAnswer)?.name??""}WageringPlayer(){return this.game.players.find(t=>t.canWager)?.name??""}AnsCorrectness(){return this.game.ansCorrectness}IsPaused(){return this.game.paused}PreGame(){return this.game.state==Ke.PreGame}BoardIntro(){return this.game.state==Ke.BoardIntro}RecvPick(){return this.game.state==Ke.RecvPick}RecvBuzz(){return this.game.state==Ke.RecvBuzz}RecvAns(){return this.game.state==Ke.RecvAns}RecvWager(){return this.game.state==Ke.RecvWager}FinalRound(){return this.game.round==jc.FinalRound}PostGame(){return this.game.state==Ke.PostGame}HighestScorers(){const t=Math.max(...this.game.players.map(r=>r.score));return this.game.players.filter(r=>r.score==t).map(r=>r.name)}CurCategory(){return this.game.curQuestion.category}CurComments(){return this.game.curQuestion.comments}CurQuestion(){return this.game.curQuestion.question}OfficialAnswer(){return this.game.officialAnswer}CurValue(){return this.game.curQuestion.value}QuestionCanBePicked(t,r){let i=this.game.firstRound;return this.game.round==jc.SecondRound&&(i=this.game.secondRound),i[t].questions[r].canChoose}CurQuestionFirstBuzz(){return!this.game.guessedWrong||0==this.game.guessedWrong.length}StartFinalWagerCountdown(){return this.game.startFinalWagerCountdown}StartFinalAnswerCountdown(){return this.game.startFinalAnswerCountdown}BlockBuzz(t){this.game.buzzBlocked=t}BuzzBlocked(){return this.game.buzzBlocked}BuzzDelay(){return Math.min(Math.max(Math.floor(this.game.curQuestion.question.split(" ").length/5),3),9)}InDispute(){return this.game.state==Ke.RecvDispute}CanInitDispute(t){let r=this.game.curQuestion.answers;for(let i=0;i<r?.length;i++){let o=r[i];if(o.player.id==t&&!o.hasDisputed&&!o.correct&&"answer-timeout"!=o.answer)return!0;if(o.overturned)return!1}return!1}DisputerName(){return this.game.curQuestion.curDisputed.player.name}DisputerAnswer(){return this.game.curQuestion.curDisputed.answer}CurAnswerer(){return this.game.curQuestion.curAns.player.name}CurAnswer(){return this.game.curQuestion.curAns.answer}CurQuestionAnswers(){return this.game.curQuestion.answers}AdjustedAnswers(){let t=[],r=!1,i=this.game.curQuestion.answers;for(let o=0;o<i?.length;o++){let s=i[o];if(s.player.name==this.DisputerName()?r=!0:r&&t.push(s),s.overturned)break}return t}Disconnected(){return this.game.disconnected}Penalty(){return this.game.penalty}PickTimeout(){return this.game.pickTimeout}BuzzTimeout(){return this.game.buzzTimeout}AnswerTimeout(){return this.game.answerTimeout}WagerTimeout(){return this.game.wagerTimeout}FinalAnswerTimeout(){return this.game.finalAnswerTimeout}FinalWagerTimeout(){return this.game.finalWagerTimeout}static{this.\u0275fac=function(r){return new(r||e)(Y(mr))}}static{this.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),yn=(()=>{class e{constructor(t){this.game=t,this.answerFeedbackType="correct"}displayMessage(t){this.login=!1,this.register=!1,this.config=!1,this.instructions=!1,this.analytics=!1,clearTimeout(this.messageTimeout),this.gameMessage=t,this.message=!0,this.messageTimeout=setTimeout(()=>{this.message=!1},1e4)}displayDispute(){this.login=!1,this.register=!1,this.config=!1,this.instructions=!1,this.analytics=!1}displayInstructions(){this.game.InDispute()||(this.login=!1,this.register=!1,this.config=!1,this.analytics=!1,this.instructions=!0)}displayAnalytics(){this.game.InDispute()||(this.login=!1,this.register=!1,this.config=!1,this.instructions=!1,this.analytics=!0)}displayConfig(){this.game.InDispute()||(this.login=!1,this.register=!1,this.instructions=!1,this.analytics=!1,this.config=!0)}displayRegister(){this.game.InDispute()||(this.login=!1,this.config=!1,this.instructions=!1,this.analytics=!1,this.register=!0)}displayLogin(){this.game.InDispute()||(this.config=!1,this.instructions=!1,this.analytics=!1,this.register=!1,this.login=!0)}hideGameMessage(){this.message=!1}hideInstructions(){this.instructions=!1}hideAnalytics(){this.analytics=!1}hideConfig(){this.config=!1}hideRegister(){this.register=!1}hideLogin(){this.login=!1}getGameMessage(){return this.gameMessage}showMessage(){return this.message}showInstructions(){return this.instructions}showAnalytics(){return this.analytics}showConfig(){return this.config}showRegister(){return this.register}showLogin(){return this.login}displayAnswerFeedback(t="correct"){this.answerFeedbackType=t,this.answerFeedback=!0}hideAnswerFeedback(){this.answerFeedback=!1}showAnswerFeedback(){return this.answerFeedback}getAnswerFeedbackType(){return this.answerFeedbackType}static{this.\u0275fac=function(r){return new(r||e)(Y(jn))}}static{this.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function N6(e,n){if(1&e){const t=ge();m(0,"div",1)(1,"div",2)(2,"div"),Z(3,"app-new-password",3),y(),m(4,"div",4)(5,"button",5),U("click",function(){return z(t),G(k().updatePassword())}),C(6,"Reset Password"),y()()()()}2&e&&(_(3),S("inputFlexDirection","flex-column"))}let x6=(()=>{class e{constructor(t,r){this.auth=t,this.modal=r,this.canReset=!1}ngOnInit(){var t=this;return w(function*(){(yield t.auth.GetUser())?location.replace(""):t.canReset=!0})()}updatePassword(){var t=this;return w(function*(){t.passwords.isValid()?(yield t.auth.UpdateUserPassword(t.passwords.password))?t.modal.displayMessage("Uh oh, there was an error restting your password. Please try again later."):(yield t.auth.SignOut())||location.replace(""):t.passwords.setBorder("1px solid red")})()}static{this.\u0275fac=function(r){return new(r||e)(D(Ko),D(yn))}}static{this.\u0275cmp=$e({type:e,selectors:[["app-password-reset"]],viewQuery:function(r,i){if(1&r&&Or($h,5),2&r){let o;dr(o=hr())&&(i.passwords=o.first)}},decls:1,vars:1,consts:[["id","password-reset-container",4,"ngIf"],["id","password-reset-container"],[1,"flex-column"],[3,"inputFlexDirection"],[1,"flex-row"],[3,"click"]],template:function(r,i){1&r&&W(0,N6,7,1,"div",0),2&r&&S("ngIf",i.canReset)},dependencies:[vt,$h],styles:["#password-reset-container[_ngcontent-%COMP%]{width:30em;margin:auto;margin-top:calc(var(--header-height) + 1em)}#password-reset-container[_ngcontent-%COMP%]   .flex-column[_ngcontent-%COMP%]{gap:1em}#password-reset-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}"]})}}return e})(),co=(()=>{class e{constructor(){}Connect(t){this.ws=new WebSocket(`wss://trextrivia.com/jeopardy/${t}`)}OnOpen(t){this.ws.onopen=t}Send(t){this.ws.send(JSON.stringify(t))}OnMessage(t){this.ws.onmessage=t}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const lO="jeopardyJWT";let Jo=(()=>{class e{constructor(){}SetJWT(t){localStorage.setItem(lO,t)}GetJWT(){return localStorage.getItem(lO)??""}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),_v=(()=>{class e{constructor(){this.soundEnabled=!0,this.STORAGE_KEY="jeopardy_sound_enabled";const t=localStorage.getItem(this.STORAGE_KEY);null!==t&&(this.soundEnabled="true"===t)}toggleSound(){this.soundEnabled=!this.soundEnabled,localStorage.setItem(this.STORAGE_KEY,String(this.soundEnabled))}isSoundEnabled(){return this.soundEnabled}setSoundEnabled(t){this.soundEnabled=t,localStorage.setItem(this.STORAGE_KEY,String(t))}playAudio(t){return this.soundEnabled?t.play().catch(r=>(console.log("Audio play failed:",r),Promise.reject(r))):Promise.resolve()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function cO(e,n){const t="object"==typeof n;return new Promise((r,i)=>{const o=new Gc({next:s=>{r(s),o.unsubscribe()},error:i,complete:()=>{t?r(n.defaultValue):i(new _c)}});e.subscribe(o)})}const vv="trextrivia.com",wv="https",F6={email:"",imgUrl:"",authenticated:!1,name:"",dateJoined:"",public:!1};let uo=(()=>{class e{constructor(t,r){this.http=t,this.jwt=r}GetPlayerAnalytics(t){return this.get(`analytics/players?email=${t}`)}CreatePrivateGame(t,r,i,o,s,a,l,c,u,d,h,f){return this.post("games",{name:t,imgUrl:r,email:i,bots:o,fullGame:s,penalty:a,pickConfig:l,buzzConfig:c,answerConfig:u,wagerConfig:d,firstRoundCategories:h,secondRoundCategories:f})}JoinGameByCode(t,r,i,o){return this.put(`games/${o}`,{name:t,imgUrl:r,email:i})}JoinPublicGame(t,r,i){return this.put("games",{name:t,imgUrl:r,email:i,fullGame:!0})}AddBot(){return this.put("games/bot",{})}GetPlayerGame(){return this.get("players/game")}LeaveGame(){return this.post("leave",{})}PlayAgain(){return this.put("play-again",{})}GetAnalytics(){return this.get("analytics")}SearchCategories(t,r){return this.get(`categories?category=${t}&rounds=${r?"both":"first"}`)}StartGame(){return this.put("games/start",{})}GetUserByName(t){var r=this;return w(function*(){let i;try{i=yield cO(r.get(`users/${t}`))}catch{return{user:F6,err:Error("Error getting user by name")}}return{user:{email:i.email,imgUrl:i.imgUrl,authenticated:!1,name:i.displayName,dateJoined:CP(i.createdAt),public:i.public},err:null}})()}GetLeaderboard(t){var r=this;return w(function*(){let i;try{i=yield cO(r.get(`analytics/leaderboard?type=${t}`))}catch{return{leaderboard:[],err:Error("Error getting leaderboard")}}return{leaderboard:i,err:null}})()}post(t,r){return this.http.post(`${wv}://${vv}/jeopardy/${t}`,r,this.headers())}put(t,r){return this.http.put(`${wv}://${vv}/jeopardy/${t}`,r,this.headers())}get(t){return this.http.get(`${wv}://${vv}/jeopardy/${t}`,this.headers())}headers(){return{headers:new Yn({"Content-Type":"application/json",Accept:"application/json","Access-Token":this.jwt.GetJWT()})}}static{this.\u0275fac=function(r){return new(r||e)(Y(yI),Y(Jo))}}static{this.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function L6(e,n){if(1&e){const t=ge();m(0,"button",6),U("click",function(){return z(t),G(k().addBot())}),C(1,"Add bot"),y()}}let j6=(()=>{class e{constructor(t,r,i){this.game=t,this.api=r,this.modal=i,this.gameLink="trextrivia.com"}openJoinLink(){window.open("join/"+this.game.Name(),"_blank")}copyJoinLink(){let t=`${this.gameLink}/join/${this.game.Name()}`;navigator.clipboard.writeText(t).then(function(){},function(r){})}addBot(){this.api.AddBot().subscribe(this.handleResp())}startGame(){this.api.StartGame().subscribe(this.handleResp())}handleResp(){return{next:()=>{},error:t=>{this.modal.displayMessage(0!=t.status?t.error.message:lo)}}}static{this.\u0275fac=function(r){return new(r||e)(D(jn),D(uo),D(yn))}}static{this.\u0275cmp=$e({type:e,selectors:[["app-pre-game"]],inputs:{gameName:"gameName"},decls:20,vars:4,consts:[["id","pre-game-container"],["id","share-join"],["id","joinLink",3,"click"],["name","copy-outline","id","copyLink",3,"click"],["id","start-game",3,"click"],[3,"click",4,"ngIf"],[3,"click"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"h2"),C(2,"Waiting to start"),y(),m(3,"div",1)(4,"p"),C(5,"Share this code for other players to join "),m(6,"b"),C(7),y()(),m(8,"p"),C(9," or share this link: "),m(10,"span",2),U("click",function(){return i.openJoinLink()}),C(11),y(),C(12,"\xa0 "),m(13,"ion-icon",3),U("click",function(){return i.copyJoinLink()}),y()()(),m(14,"div")(15,"button",4),U("click",function(){return i.startGame()}),C(16,"Start game"),y(),W(17,L6,2,0,"button",5),m(18,"p"),C(19,"Other players taking too long? Add a T-Rex bot to the game to play against."),y()()()),2&r&&(_(7),Ne(i.game.Code()),_(4),bi("",i.gameLink,"/join/",i.game.Name(),""),_(6),S("ngIf",i.game.NumConnectedPlayers()<6))},dependencies:[vt],styles:['#pre-game-container[_ngcontent-%COMP%]{margin-top:20vh}@keyframes _ngcontent-%COMP%_ellipsis{25%{content:""}50%{content:"."}75%{content:".."}to{content:"..."}}#pre-game-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:after{content:"...";overflow:hidden;display:inline-block;vertical-align:bottom;animation:_ngcontent-%COMP%_ellipsis 2s infinite;animation-fill-mode:forwards;width:1.25em}#pre-game-container[_ngcontent-%COMP%]   #share-join[_ngcontent-%COMP%]{margin:1em 0}#pre-game-container[_ngcontent-%COMP%]   #share-join[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}#pre-game-container[_ngcontent-%COMP%]   #share-join[_ngcontent-%COMP%]   #joinLink[_ngcontent-%COMP%]{color:#7c3aed;text-decoration:underline}#pre-game-container[_ngcontent-%COMP%]   #share-join[_ngcontent-%COMP%]   #joinLink[_ngcontent-%COMP%]:hover{cursor:pointer}#pre-game-container[_ngcontent-%COMP%]   #share-join[_ngcontent-%COMP%]   #copyLink[_ngcontent-%COMP%]:hover{cursor:pointer;transform:scale(1.1)}#pre-game-container[_ngcontent-%COMP%]   #start-game[_ngcontent-%COMP%]{margin-right:1em}']})}}return e})();function V6(e,n){if(1&e&&(m(0,"span"),C(1),m(2,"b"),C(3),y()()),2&e){const t=k().$implicit;_(),be(" answered ",t.correct?"corrrectly":"incorrectly"," with "),_(2),Ne(t.answer)}}function U6(e,n){1&e&&(m(0,"span"),C(1," didn't answer in time "),y())}function B6(e,n){if(1&e){const t=ge();m(0,"button",3),U("click",function(){return z(t),G(k(2).disputeQuestion())}),C(1," Dispute "),y()}}function $6(e,n){if(1&e&&(m(0,"li"),C(1),W(2,V6,4,2,"span",1)(3,U6,2,0,"span",1)(4,B6,2,0,"button",2),y()),2&e){const t=n.$implicit,r=k();_(),be(" ",t.player.name==r.player.Name()?"You":t.player.name," "),_(),S("ngIf","answer-timeout"!=t.answer),_(),S("ngIf","answer-timeout"==t.answer),_(),S("ngIf",t.player.id==r.player.Id()&&r.game.CanInitDispute(r.player.Id())&&r.game.RecvPick())}}let uO=(()=>{class e{constructor(t,r,i){this.game=t,this.player=r,this.websocket=i}disputeQuestion(){this.websocket.Send({state:this.game.State(),initDispute:!0})}static{this.\u0275fac=function(r){return new(r||e)(D(jn),D(mr),D(co))}}static{this.\u0275cmp=$e({type:e,selectors:[["app-answers"]],decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],[4,"ngIf"],["class","dispute-button",3,"click",4,"ngIf"],[1,"dispute-button",3,"click"]],template:function(r,i){1&r&&(m(0,"ul"),W(1,$6,5,4,"li",0),y()),2&r&&(_(),S("ngForOf",i.game.CurQuestionAnswers()))},dependencies:[kr,vt],styles:["ul[_ngcontent-%COMP%]{margin:0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.5em}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .dispute-button[_ngcontent-%COMP%]{margin-left:1em;padding:8px 16px}"]})}}return e})();const dO=e=>({visibility:e});function H6(e,n){if(1&e&&(m(0,"td",5)(1,"div",6),C(2),y()()),2&e){const t=n.$implicit;_(2),Ne(t)}}function z6(e,n){if(1&e){const t=ge();m(0,"td",8),U("click",function(){const i=z(t).index,o=k().index;return G(k().handlePick(i,o))})("mouseover",function(){const i=z(t).$implicit;return G(k(2).changeCursor(i.canChoose,"pointer"))})("mouseout",function(){const i=z(t).$implicit;return G(k(2).changeCursor(i.canChoose,"default"))}),m(1,"div",6)(2,"span"),C(3),y()()()}if(2&e){const t=n.$implicit;_(3),Ne(t.canChoose?"$"+t.value:"")}}function G6(e,n){if(1&e&&(m(0,"tr"),W(1,z6,4,1,"td",7),y()),2&e){const t=n.$implicit;_(),S("ngForOf",t)}}let q6=(()=>{class e{constructor(t,r,i){this.websocket=t,this.game=r,this.player=i,this.categories=this.game.Categories(),this.questionRows=this.game.QuestionRows()}changeCursor(t,r){t&&this.player.CanPick()&&(document.body.style.cursor=r)}handlePick(t,r){this.player.CanPick()&&this.game.QuestionCanBePicked(t,r)&&(document.body.style.cursor="default",this.websocket.Send({state:this.game.State(),catIdx:t,valIdx:r}))}static{this.\u0275fac=function(r){return new(r||e)(D(co),D(jn),D(mr))}}static{this.\u0275cmp=$e({type:e,selectors:[["app-recv-pick"]],decls:13,vars:10,consts:[[1,"question-board"],["id","prev-question-info"],[3,"ngStyle"],["class","category-title",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"category-title"],[1,"question-board-box"],["class","question-value",3,"click","mouseover","mouseout",4,"ngFor","ngForOf"],[1,"question-value",3,"click","mouseover","mouseout"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"p",2),C(3),y(),m(4,"p",2),C(5," Correct answer: "),m(6,"b"),C(7),y()(),Z(8,"app-answers"),y(),m(9,"table")(10,"tr"),W(11,H6,3,1,"td",3),y(),W(12,G6,2,1,"tr",4),y()()),2&r&&(_(2),S("ngStyle",Zs(6,dO,""!=i.game.CurQuestion()?"visible":"hidden")),_(),be("Previous question: ",i.game.CurQuestion()," "),_(),S("ngStyle",Zs(8,dO,""!=i.game.OfficialAnswer()?"visible":"hidden")),_(3),Ne(i.game.OfficialAnswer()),_(4),S("ngForOf",i.categories),_(),S("ngForOf",i.questionRows))},dependencies:[kr,Wd,uO],styles:["#prev-question-info[_ngcontent-%COMP%]{margin:1em 0}#prev-question-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 .5em}"]})}}return e})();function W6(e,n){if(1&e&&(m(0,"p"),C(1),y()),2&e){const t=k();_(),be("$",t.game.CurValue(),"")}}function K6(e,n){if(1&e&&(m(0,"p",4),C(1),y()),2&e){const t=k();_(),be("Comments: ",t.game.CurComments(),"")}}function J6(e,n){if(1&e&&(m(0,"p"),C(1),y()),2&e){const t=k();_(),be("Wager: $",t.player.FinalWager(),"")}}let hO=(()=>{class e{constructor(t,r){this.game=t,this.player=r}static{this.\u0275fac=function(r){return new(r||e)(D(jn),D(mr))}}static{this.\u0275cmp=$e({type:e,selectors:[["app-question"]],decls:8,vars:5,consts:[["id","question-container"],[4,"ngIf"],["id","question-comments",4,"ngIf"],[1,"question-box"],["id","question-comments"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"p"),C(2),y(),W(3,W6,2,1,"p",1)(4,K6,2,1,"p",2)(5,J6,2,1,"p",1),m(6,"div",3),C(7),y()()),2&r&&(_(2),Ne(i.game.CurCategory()),_(),S("ngIf",!i.game.FinalRound()),_(),S("ngIf",""!=i.game.CurComments()),_(),S("ngIf",i.game.FinalRound()&&i.player.CanAnswer()),_(2),be(" ",i.game.CurQuestion()," "))},dependencies:[vt],styles:["p[_ngcontent-%COMP%]{font-size:1.5em;margin:15px 0}#question-comments[_ngcontent-%COMP%]{font-size:1em}"]})}}return e})();function Q6(e,n){if(1&e){const t=ge();m(0,"div",2)(1,"button",3),U("click",function(){return z(t),G(k().handleBuzz(!1))}),C(2,"Buzz"),y(),m(3,"button",3),U("click",function(){return z(t),G(k().handleBuzz(!0))}),C(4,"Pass"),y()()}}let Y6=(()=>{class e{constructor(t,r,i){this.websocket=t,this.game=r,this.player=i}handleBuzz(t){this.player.CanBuzz()&&(this.websocket.Send({state:this.game.State(),isPass:t}),this.player.SetCanBuzz(!1))}static{this.\u0275fac=function(r){return new(r||e)(D(co),D(jn),D(mr))}}static{this.\u0275cmp=$e({type:e,selectors:[["app-recv-buzz"]],decls:6,vars:1,consts:[["id","buzz-info",1,"flex-column"],["id","buzz-buttons","class","flex-row",4,"ngIf"],["id","buzz-buttons",1,"flex-row"],[3,"click"]],template:function(r,i){1&r&&(m(0,"div"),Z(1,"app-question"),m(2,"div",0),W(3,Q6,5,0,"div",1),m(4,"div"),Z(5,"app-answers"),y()()()),2&r&&(_(3),S("ngIf",i.player.CanBuzz()&&!i.game.BuzzBlocked()))},dependencies:[vt,hO,uO],styles:["#buzz-info[_ngcontent-%COMP%]{margin-top:1em;gap:1em}#buzz-info[_ngcontent-%COMP%]   #buzz-buttons[_ngcontent-%COMP%]{gap:30px}#buzz-info[_ngcontent-%COMP%]   #buzz-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:20px 0}"]})}}return e})();function Z6(e,n){1&e&&(m(0,"h2"),C(1,"Final Question"),y())}function X6(e,n){if(1&e){const t=ge();m(0,"div",2)(1,"input",3),U("keydown.enter",function(){return z(t),G(k().handleAnswer())}),Ve("ngModelChange",function(i){z(t);const o=k();return He(o.questionAnswer,i)||(o.questionAnswer=i),G(i)}),y(),m(2,"button",4),U("click",function(){return z(t),G(k().handleAnswer())}),C(3,"Answer"),y()()}if(2&e){const t=k();_(),je("ngModel",t.questionAnswer)}}function e9(e,n){if(1&e&&(m(0,"div")(1,"p"),C(2),y()()),2&e){const t=k();_(2),be("",t.game.AnsweringPlayer()," is answering the question")}}let t9=(()=>{class e{constructor(t,r,i){this.websocket=t,this.game=r,this.player=i}handleAnswer(){this.questionAnswer&&this.player.CanAnswer()&&this.websocket.Send({state:this.game.State(),answer:this.questionAnswer}),this.questionAnswer=""}static{this.\u0275fac=function(r){return new(r||e)(D(co),D(jn),D(mr))}}static{this.\u0275cmp=$e({type:e,selectors:[["app-recv-ans"]],decls:5,vars:3,consts:[[4,"ngIf"],["id","answer-input","class","flex-row",4,"ngIf"],["id","answer-input",1,"flex-row"],["type","text","placeholder","Enter your answer",3,"keydown.enter","ngModelChange","ngModel"],[3,"click"]],template:function(r,i){1&r&&(m(0,"div"),W(1,Z6,2,0,"h2",0),Z(2,"app-question"),W(3,X6,4,1,"div",1)(4,e9,3,1,"div",0),y()),2&r&&(_(),S("ngIf",i.game.FinalRound()),_(2),S("ngIf",i.player.CanAnswer()),_(),S("ngIf",!i.game.FinalRound()&&!i.player.CanAnswer()))},dependencies:[vt,Fn,Zn,Ln,hO],styles:["#answer-input[_ngcontent-%COMP%]{margin-top:15px;gap:10px}#answer-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:0}"]})}}return e})();function n9(e,n){1&e&&(m(0,"h2"),C(1,"Final Question!"),y())}function r9(e,n){if(1&e){const t=ge();m(0,"div",4)(1,"input",5),Ve("ngModelChange",function(i){z(t);const o=k();return He(o.wagerAmt,i)||(o.wagerAmt=i),G(i)}),y(),m(2,"button",6),U("click",function(){return z(t),G(k().handleWager())}),C(3,"Wager"),y()()}if(2&e){const t=k();_(),je("ngModel",t.wagerAmt)}}function i9(e,n){if(1&e&&(m(0,"div"),C(1),y()),2&e){const t=k();_(),be(" ",t.game.WageringPlayer()," is choosing a wager ")}}let o9=(()=>{class e{constructor(t,r,i){this.websocket=t,this.game=r,this.player=i}handleWager(){null!=this.wagerAmt&&""!==this.wagerAmt&&this.player.CanWager()&&this.websocket.Send({state:this.game.State(),wager:this.wagerAmt}),this.wagerAmt=""}static{this.\u0275fac=function(r){return new(r||e)(D(co),D(jn),D(mr))}}static{this.\u0275cmp=$e({type:e,selectors:[["app-recv-wager"]],decls:6,vars:4,consts:[["id","wager-container"],[4,"ngIf"],[1,"question-category"],["id","wager-input","class","flex-column",4,"ngIf"],["id","wager-input",1,"flex-column"],["type","number","placeholder","Enter your wager",3,"ngModelChange","ngModel"],[3,"click"]],template:function(r,i){1&r&&(m(0,"div",0),W(1,n9,2,0,"h2",1),m(2,"p",2),C(3),y(),W(4,r9,4,1,"div",3)(5,i9,2,1,"div",1),y()),2&r&&(_(),S("ngIf",i.game.FinalRound()),_(2),Ne(i.game.CurCategory()),_(),S("ngIf",i.player.CanWager()),_(),S("ngIf",!i.game.FinalRound()&&!i.player.CanWager()))},dependencies:[vt,Fn,fh,Zn,Ln],styles:["#wager-container[_ngcontent-%COMP%]{width:200px}#wager-container[_ngcontent-%COMP%]   #wager-input[_ngcontent-%COMP%]{gap:15px}"]})}}return e})();function s9(e,n){if(1&e&&(m(0,"span"),C(1),m(2,"b"),C(3),y(),C(4," with "),m(5,"b"),C(6),y()()),2&e){const t=k(2).$implicit;_(),be(" ",t.name," answered "),_(2),Ne(t.finalCorrect?"correctly":"incorrectly"),_(3),Ne(t.finalAnswer)}}function a9(e,n){if(1&e){const t=ge();m(0,"button",5),U("click",function(){z(t);const i=k(2).$implicit;return G(k().protestFinalCorrectness(i.id))}),C(1,"Dispute"),y()}}function l9(e,n){if(1&e&&(m(0,"span"),C(1),y()),2&e){const t=k(2).$implicit;_(),be("",t.name," didn't answer in time.")}}function c9(e,n){if(1&e&&(m(0,"div",11)(1,"span"),C(2),y(),m(3,"span",12),C(4),y()()),2&e){const t=k(2).$implicit;_(),Js("gain",t.finalCorrect)("loss",!t.finalCorrect),_(),bi(" ",t.finalCorrect?"+":"-","$",t.finalWager," "),_(2),be("Final score: $",t.score,"")}}function u9(e,n){if(1&e&&(m(0,"div",7)(1,"div",8),W(2,s9,7,3,"span",9)(3,a9,2,0,"button",4)(4,l9,2,1,"span",9),y(),W(5,c9,5,7,"div",10),y()),2&e){const t=k().$implicit,r=k();_(2),S("ngIf","answer-timeout"!=t.finalAnswer),_(),S("ngIf","answer-timeout"!=t.finalAnswer&&r.canProtestForPlayer(t)),_(),S("ngIf","answer-timeout"==t.finalAnswer),_(),S("ngIf","answer-timeout"!=t.finalAnswer)}}function d9(e,n){if(1&e&&(m(0,"div"),W(1,u9,6,4,"div",6),y()),2&e){const t=n.$implicit,r=k();_(),S("ngIf",""!=t.finalAnswer&&r.isPlayerRevealed(t.id))}}function h9(e,n){if(1&e&&(m(0,"p",13),C(1,"The winner is "),m(2,"b"),C(3),y()()),2&e){const t=k();_(3),Ne(t.game.HighestScorers()[0])}}function f9(e,n){if(1&e&&(m(0,"p",13),C(1),y()),2&e){const t=k();_(),bi("The winners are ",t.game.HighestScorers()[0]," and ",t.game.HighestScorers()[1],"")}}function p9(e,n){1&e&&(m(0,"p",13),C(1,"All players have tied"),y())}function g9(e,n){if(1&e){const t=ge();m(0,"button",5),U("click",function(){return z(t),G(k().playAgain())}),C(1,"Play again"),y()}}let m9=(()=>{class e{constructor(t,r,i,o,s,a){this.router=t,this.api=r,this.websocket=i,this.game=o,this.player=s,this.modal=a,this.revealedPlayerIds=new Set,this.showWinner=!1,this.revealTimeouts=[]}ngOnInit(){const t=this.game.Players().filter(o=>""!==o.finalAnswer);t.forEach((o,s)=>{const l=setTimeout(()=>{this.revealedPlayerIds.add(o.id)},2e3*(s+1));this.revealTimeouts.push(l)});const i=setTimeout(()=>{this.showWinner=!0},2e3*(t.length+1));this.revealTimeouts.push(i)}ngOnDestroy(){this.revealTimeouts.forEach(t=>clearTimeout(t))}isPlayerRevealed(t){return this.revealedPlayerIds.has(t)}canProtestForPlayer(t){return!Object.keys(t.finalProtestors).includes(this.player.Id())}protestFinalCorrectness(t){this.websocket.Send({state:this.game.State(),protestFor:t})}playAgain(){return this.api.PlayAgain().subscribe({next:t=>{},error:t=>{this.modal.displayMessage(0!=t.status?t.error.message:lo)}})}leaveGame(){return this.api.LeaveGame().subscribe({next:t=>{this.router.navigate(["/"])},error:t=>{console.error(0!=t.status?t.error.message:lo),this.router.navigate(["/"])}})}static{this.\u0275fac=function(r){return new(r||e)(D(Yt),D(uo),D(co),D(jn),D(mr),D(yn))}}static{this.\u0275cmp=$e({type:e,selectors:[["app-post-game"]],decls:14,vars:6,consts:[[1,"final-answer"],[4,"ngFor","ngForOf"],["class","winner-announcement",4,"ngIf"],["id","end-game-buttons",1,"flex-row"],[3,"click",4,"ngIf"],[3,"click"],["class","player-answer",4,"ngIf"],[1,"player-answer"],[1,"flex-row"],[4,"ngIf"],["class","final-result",4,"ngIf"],[1,"final-result"],[1,"final-score"],[1,"winner-announcement"]],template:function(r,i){1&r&&(m(0,"div")(1,"p",0),C(2,"Final Trivia Answer: "),m(3,"b"),C(4),y()(),W(5,d9,2,1,"div",1)(6,h9,4,1,"p",2)(7,f9,2,2,"p",2)(8,p9,2,0,"p",2),Z(9,"hr"),m(10,"div",3),W(11,g9,2,0,"button",4),m(12,"button",5),U("click",function(){return i.leaveGame()}),C(13,"Home"),y()()()),2&r&&(_(4),Ne(i.game.OfficialAnswer()),_(),S("ngForOf",i.game.Players()),_(),S("ngIf",i.showWinner&&1==i.game.HighestScorers().length),_(),S("ngIf",i.showWinner&&2==i.game.HighestScorers().length),_(),S("ngIf",i.showWinner&&i.game.HighestScorers().length>2),_(3),S("ngIf",!i.player.PlayAgain()))},dependencies:[kr,vt],styles:[".final-answer[_ngcontent-%COMP%]{font-size:1.3em;margin-bottom:30px;text-align:center}.final-answer[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{color:var(--jeopardy-blue)}.player-answer[_ngcontent-%COMP%]{margin:15px 0}.player-answer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:0;margin-left:20px}.player-answer[_ngcontent-%COMP%]   .flex-row[_ngcontent-%COMP%]{align-items:center}.player-answer[_ngcontent-%COMP%]   .final-result[_ngcontent-%COMP%]{margin-top:8px;margin-left:0;display:flex;gap:20px;font-size:1.1em}.player-answer[_ngcontent-%COMP%]   .final-result[_ngcontent-%COMP%]   .gain[_ngcontent-%COMP%]{color:#10b981;font-weight:600}.player-answer[_ngcontent-%COMP%]   .final-result[_ngcontent-%COMP%]   .loss[_ngcontent-%COMP%]{color:#ef4444;font-weight:600}.player-answer[_ngcontent-%COMP%]   .final-result[_ngcontent-%COMP%]   .final-score[_ngcontent-%COMP%]{color:var(--jeopardy-blue);font-weight:600}#end-game-buttons[_ngcontent-%COMP%]{gap:30px}#end-game-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:20px 0}hr[_ngcontent-%COMP%]{margin:30px 0}.winner-announcement[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn 1s ease-in;font-size:1.8em;font-weight:600;color:var(--jeopardy-blue);margin:30px 0}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}"]})}}return e})(),y9=(()=>{class e{constructor(){}Connect(){this.ws=new WebSocket("wss://trextrivia.com/jeopardy/chat")}OnOpen(t){this.ws.onopen=t}Send(t){this.ws.send(JSON.stringify(t))}OnMessage(t){this.ws.onmessage=t}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function _9(e,n){if(1&e&&(m(0,"div",11)(1,"span",12),C(2),y(),m(3,"span",13),C(4),y(),m(5,"p"),C(6),y()()),2&e){const t=n.$implicit,r=k(2);_(2),Ne(t.username),_(2),Ne(r.epochTo12HrFormat(t.timestamp)),_(2),Ne(t.message)}}function v9(e,n){if(1&e){const t=ge();m(0,"div",2)(1,"div",3)(2,"span"),C(3,"T-Rex Chat"),y(),m(4,"ion-icon",4),U("click",function(){return z(t),G(k().closeChat())}),y()(),m(5,"div",5),W(6,_9,7,3,"div",6),y(),m(7,"div",7)(8,"input",8),Ve("ngModelChange",function(i){z(t);const o=k();return He(o.message,i)||(o.message=i),G(i)}),U("keyup.enter",function(){return z(t),G(k().sendMessage())}),y(),m(9,"button",9),U("click",function(){return z(t),G(k().sendMessage())}),Z(10,"ion-icon",10),y()()()}if(2&e){const t=k();_(6),S("ngForOf",t.messages),_(2),je("ngModel",t.message)}}function w9(e,n){if(1&e&&(m(0,"div",17),C(1),y()),2&e){const t=k(2);_(),Ne(t.unreadMessages)}}function C9(e,n){if(1&e){const t=ge();m(0,"div",14),U("click",function(){return z(t),G(k().openChat())}),W(1,w9,2,1,"div",15),Z(2,"ion-icon",16),y()}if(2&e){const t=k();_(),S("ngIf",t.unreadMessages>0)}}let b9=(()=>{class e{constructor(t,r,i){this.chat=t,this.player=r,this.jwt=i,this.messages=[],this.hideChat=!0,this.unreadMessages=0,this.goToBottom=!1}ngOnInit(){this.chat.Connect(),this.chat.OnOpen(()=>{this.chat.Send({token:this.jwt.GetJWT()})}),this.chat.OnMessage(t=>{let r=JSON.parse(t.data);if(r.code>=4400)return console.error(r.message),void this.messages.push({username:"T-Rex System",message:r.message,timestamp:r.timeStamp});r.message!=yv&&(this.messages.push({username:r.name,message:r.message,timestamp:r.timeStamp}),this.hideChat&&this.unreadMessages++,this.goToBottom=!0)})}ngAfterViewChecked(){this.goToBottom&&(this.scrollToBottom(),this.goToBottom=!1)}sendMessage(){this.message&&(this.chat.Send({message:this.message}),this.message="")}scrollToBottom(){let t=document.getElementById("chat-messages");t&&(t.scrollTop=t.scrollHeight)}openChat(){this.hideChat=!1,this.unreadMessages=0,this.goToBottom=!0}closeChat(){this.hideChat=!0}epochTo12HrFormat(t){let r=new Date(1e3*t),i=r.getHours(),s=i>=12?"PM":"AM";return i%=12,i=i||12,i+":"+("0"+r.getMinutes()).slice(-2)+s}static{this.\u0275fac=function(r){return new(r||e)(D(y9),D(mr),D(Jo))}}static{this.\u0275cmp=$e({type:e,selectors:[["app-chat"]],decls:2,vars:2,consts:[["id","game-chat","class","flex-column",4,"ngIf"],["id","chat-box",3,"click",4,"ngIf"],["id","game-chat",1,"flex-column"],["id","chat-header"],["name","close-outline",3,"click"],["id","chat-messages"],["class","chat-message",4,"ngFor","ngForOf"],["id","chat-input",1,"flex-row"],["placeholder","Type a message...",3,"ngModelChange","keyup.enter","ngModel"],[3,"click"],["name","paper-plane-outline"],[1,"chat-message"],[1,"message-username"],[1,"message-time"],["id","chat-box",3,"click"],["id","unread-notif",4,"ngIf"],["name","chatbubbles-outline"],["id","unread-notif"]],template:function(r,i){1&r&&W(0,v9,11,2,"div",0)(1,C9,3,1,"div",1),2&r&&(S("ngIf",!i.hideChat),_(),S("ngIf",i.hideChat))},dependencies:[kr,vt,Fn,Zn,Ln],styles:["#game-chat[_ngcontent-%COMP%]{position:fixed;left:10px;bottom:10px;width:250px;min-height:200px;max-height:400px;border:2px solid black;border-radius:5px}#game-chat[_ngcontent-%COMP%]   #chat-header[_ngcontent-%COMP%]{padding:5px;border-bottom:1px solid black;background-color:#fff;flex:0}#game-chat[_ngcontent-%COMP%]   #chat-header[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{float:right;margin-top:2px}#game-chat[_ngcontent-%COMP%]   #chat-header[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]:hover{cursor:pointer;transform:scale(1.1);color:red}#game-chat[_ngcontent-%COMP%]   #chat-messages[_ngcontent-%COMP%]{flex-grow:1;overflow:auto;background-color:#fff}#game-chat[_ngcontent-%COMP%]   #chat-messages[_ngcontent-%COMP%]   .chat-message[_ngcontent-%COMP%]{padding:8px;font-size:12px}#game-chat[_ngcontent-%COMP%]   #chat-messages[_ngcontent-%COMP%]   .chat-message[_ngcontent-%COMP%]   .message-username[_ngcontent-%COMP%]{font-weight:700;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:180px;display:inline-block}#game-chat[_ngcontent-%COMP%]   #chat-messages[_ngcontent-%COMP%]   .chat-message[_ngcontent-%COMP%]   .message-time[_ngcontent-%COMP%]{float:right;font-size:10px}#game-chat[_ngcontent-%COMP%]   #chat-messages[_ngcontent-%COMP%]   .chat-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;overflow-wrap:break-word}#game-chat[_ngcontent-%COMP%]   #chat-messages[_ngcontent-%COMP%]   .chat-message[_ngcontent-%COMP%]:nth-child(odd){background-color:var(--jeopardy-lightblue)}#game-chat[_ngcontent-%COMP%]   #chat-messages[_ngcontent-%COMP%]   .chat-message[_ngcontent-%COMP%]:nth-child(2n){background-color:#f5f5f5}#game-chat[_ngcontent-%COMP%]   #chat-input[_ngcontent-%COMP%]{padding:10px;border-top:1px solid black;background-color:#fff;flex:0;gap:5px}#game-chat[_ngcontent-%COMP%]   #chat-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:12px;padding:8px}#game-chat[_ngcontent-%COMP%]   #chat-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:0;line-height:0}#chat-box[_ngcontent-%COMP%]{position:fixed;left:10px;bottom:10px;width:50px;height:50px;text-align:center;vertical-align:middle;line-height:50px;background-color:#fff;font-size:30px}#chat-box[_ngcontent-%COMP%]   #unread-notif[_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:20px;height:20px;background-color:red;color:#fff;border-radius:50%;text-align:center;line-height:20px;z-index:1;font-size:12px}#chat-box[_ngcontent-%COMP%]:hover{cursor:pointer;transform:scale(1.1)}"]})}}return e})();function E9(e,n){if(1&e&&(m(0,"td",3)(1,"div",4),C(2),y()()),2&e){const t=n.$implicit;_(2),Ne(t)}}function D9(e,n){if(1&e&&(m(0,"td",6)(1,"div",4)(2,"span"),C(3),y()()()),2&e){const t=n.$implicit;_(3),Ne(t.canChoose?"$"+t.value:"")}}function S9(e,n){if(1&e&&(m(0,"tr"),W(1,D9,4,1,"td",5),y()),2&e){const t=n.$implicit;_(),S("ngForOf",t)}}let M9=(()=>{class e{constructor(t,r){this.game=t,this.sound=r,this.boardIntroAudio=null,this.soundToggleListener=null,this.categories=this.game.Categories(),this.questionRows=this.game.QuestionRows();try{const i=Math.floor(5*Math.random())+1;console.log("[BoardIntro] Selected song:",i),this.boardIntroAudio=new Audio(`../../assets/music/song_${i}.mp3`)}catch(i){console.error("Failed to initialize board intro audio:",i)}}ngOnInit(){console.log("[BoardIntro] Component initialized, sound enabled:",this.sound.isSoundEnabled()),this.boardIntroAudio&&this.sound.isSoundEnabled()&&(console.log("[BoardIntro] Playing music..."),this.boardIntroAudio.play().catch(o=>console.log("Board intro audio play failed:",o))),this.soundToggleListener=o=>{const a=o.detail.enabled;console.log("[BoardIntro] Sound toggled:",a),this.boardIntroAudio&&(a?this.boardIntroAudio.play().catch(l=>console.log("Board intro audio play failed:",l)):this.boardIntroAudio.pause())},window.addEventListener("soundToggle",this.soundToggleListener);let t=document.getElementsByClassName("question-value"),r=Array.from({length:30},(o,s)=>s),i=[];for(let o=0;o<6;o++){let s=[];for(let a=0;a<5;a++){let l=Math.floor(Math.random()*r.length),c=r.splice(l,1)[0];s.push(c)}i.push(s)}setTimeout(()=>{let o=0,s=setInterval(()=>{if(o<i.length){for(let a=0;a<i[o].length;a++)t[i[o][a]].style.color="var(--jeopardy-yellow)";o++}else clearInterval(s)},1e3)},2e3),setTimeout(()=>{let o=document.getElementsByClassName("category-title"),s=0,a=setInterval(()=>{s<o.length?(o[s].firstChild.classList.add("fade-in"),s++):clearInterval(a)},2500)},7e3)}ngOnDestroy(){this.boardIntroAudio&&this.boardIntroAudio.pause(),this.soundToggleListener&&window.removeEventListener("soundToggle",this.soundToggleListener)}static{this.\u0275fac=function(r){return new(r||e)(D(jn),D(_v))}}static{this.\u0275cmp=$e({type:e,selectors:[["app-board-intro"]],decls:7,vars:3,consts:[[1,"question-board"],["class","category-title",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"category-title"],[1,"question-board-box"],["class","question-value",4,"ngFor","ngForOf"],[1,"question-value"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"p"),C(2),y(),m(3,"table")(4,"tr"),W(5,E9,3,1,"td",1),y(),W(6,S9,2,1,"tr",2),y()()),2&r&&(_(2),be("",i.game.PickingPlayer()," will pick a question first"),_(3),S("ngForOf",i.categories),_(),S("ngForOf",i.questionRows))},dependencies:[kr],styles:[".question-board[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:30px 0}.question-board[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .category-title[_ngcontent-%COMP%], .question-board[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .question-value[_ngcontent-%COMP%]{color:var(--jeopardy-blue)}@keyframes _ngcontent-%COMP%_toWhite{to{color:#fff}}.question-board[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_toWhite 1s forwards}"]})}}return e})();const fO=e=>({color:e});function I9(e,n){if(1&e){const t=ge();m(0,"img",10),U("error",function(){return z(t),G(k().onImageError())}),y()}2&e&&S("src",k().player.imgUrl,Ms)}function T9(e,n){1&e&&Z(0,"img",11)}function A9(e,n){1&e&&Z(0,"ion-icon",12)}function P9(e,n){if(1&e&&(m(0,"span",13),C(1),y()),2&e){const t=k();S("ngStyle",Zs(3,fO,t.scoreChange()>0?"green":"red")),_(),bi(" ",t.scoreChange()>0?"+":"-","$",t.abs(t.scoreChange())," ")}}function O9(e,n){1&e&&Z(0,"ion-icon",14)}let R9=(()=>{class e{constructor(t){this.game=t,this.scoreChanges={},this.imageError=!1}abs(t){return t?Math.abs(t):0}scoreChange(){return this.scoreChanges[this.player.id]??0}onClock(t){return t.canPick||t.canAnswer||t.canWager}onImageError(){this.imageError=!0}static{this.\u0275fac=function(r){return new(r||e)(D(jn))}}static{this.\u0275cmp=$e({type:e,selectors:[["app-player-podium"]],inputs:{player:"player",scoreChanges:"scoreChanges"},decls:12,vars:11,consts:[[1,"player-info","flex-row"],[1,"player-avatar"],["alt","",3,"src","error",4,"ngIf"],["src","https://xdlhyjzjygansfeoguvs.supabase.co/storage/v1/object/public/jeopardy_imgs/clock.png","alt","",4,"ngIf"],["name","person-circle","class","default-avatar",4,"ngIf"],[1,"player-name"],[1,"player-score","flex-column",3,"ngStyle"],[3,"ngStyle",4,"ngIf"],[1,"timer-container"],["name","timer-outline",4,"ngIf"],["alt","",3,"error","src"],["src","https://xdlhyjzjygansfeoguvs.supabase.co/storage/v1/object/public/jeopardy_imgs/clock.png","alt",""],["name","person-circle",1,"default-avatar"],[3,"ngStyle"],["name","timer-outline"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1),W(2,I9,1,1,"img",2)(3,T9,1,0,"img",3)(4,A9,1,0,"ion-icon",4),y(),m(5,"div",5),C(6),y()(),m(7,"div",6),C(8),W(9,P9,2,5,"span",7),y(),m(10,"div",8),W(11,O9,1,0,"ion-icon",9),y()),2&r&&(_(2),S("ngIf",!i.imageError&&i.player.conn),_(),S("ngIf",!i.player.conn),_(),S("ngIf",i.imageError&&i.player.conn),_(2),be(" ",i.player.conn?i.player.name:"Waiting for player to join"," "),_(),S("ngStyle",Zs(9,fO,i.player.score<0?"red":"black")),_(),bi(" ",i.player.score<0?"-":"","$",i.abs(i.player.score)," "),_(),S("ngIf",0!=i.scoreChange()),_(2),S("ngIf",!i.game.BoardIntro()&&!i.game.IsPaused()&&i.onClock(i.player)))},dependencies:[vt,Wd],styles:[".player-info[_ngcontent-%COMP%]{word-break:break-word;gap:.5em;align-items:center;margin-bottom:1em}.player-info[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{flex:0 0 auto}.player-info[_ngcontent-%COMP%]   .player-avatar[_ngcontent-%COMP%]{width:2.5em;height:2.5em;display:flex;align-items:center;justify-content:center}.player-info[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:2.5em;height:2.5em;border-radius:50%;object-fit:cover;border:1px solid black}.player-info[_ngcontent-%COMP%]   .default-avatar[_ngcontent-%COMP%]{font-size:2.5em;color:#9ca3af}.player-info[_ngcontent-%COMP%]   .player-name[_ngcontent-%COMP%]{width:calc(var(--players-container-width) - 5em)}.player-score[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_move-up-fade-out 3s}@keyframes _ngcontent-%COMP%_move-up-fade-out{0%{transform:translateY(0);opacity:1;font-weight:900}50%{opacity:1;font-weight:400}to{transform:translateY(-3em);opacity:0;font-weight:100}}.timer-container[_ngcontent-%COMP%]{position:absolute;bottom:1em;right:1em;animation-name:_ngcontent-%COMP%_shake-rotate;animation-duration:2s;animation-timing-function:ease-in-out;animation-iteration-count:infinite}.timer-container[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:2.5em}@keyframes _ngcontent-%COMP%_shake-rotate{10%{transform:translate(0) rotate(-10deg)}20%{transform:translate(0) rotate(15deg)}30%{transform:translate(0) rotate(-15deg)}40%{transform:translate(0) rotate(10deg)}0%,50%,to{transform:translate(0) rotate(0)}}"]})}}return e})(),k9=(()=>{class e{constructor(){}Connect(){this.ws=new WebSocket("wss://trextrivia.com/jeopardy/reactions")}OnOpen(t){this.ws.onopen=t}Send(t){this.ws.send(JSON.stringify(t))}OnMessage(t){this.ws.onmessage=t}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const N9=e=>({right:e});function x9(e,n){if(1&e){const t=ge();m(0,"p",10),U("click",function(){const i=z(t).$implicit;return G(k(3).sendReaction(i.emoji))}),C(1),y()}if(2&e){const t=n.$implicit;_(),Ne(t.emoji)}}function F9(e,n){if(1&e&&(m(0,"div",8),W(1,x9,2,1,"p",9),y()),2&e){const t=n.$implicit;_(),S("ngForOf",t)}}function L9(e,n){if(1&e){const t=ge();m(0,"div",3)(1,"div",4)(2,"input",5),Ve("ngModelChange",function(i){z(t);const o=k();return He(o.emojiFilter,i)||(o.emojiFilter=i),G(i)}),U("input",function(){return z(t),G(k().filterEmojis())}),y(),m(3,"ion-icon",6),U("click",function(){return z(t),G(k().closeReactions())}),y()(),W(4,F9,2,1,"div",7),y()}if(2&e){const t=k();_(2),je("ngModel",t.emojiFilter),_(2),S("ngForOf",t.emojisList)}}function j9(e,n){if(1&e&&(m(0,"div",11)(1,"p",12),C(2),y(),m(3,"p",13),C(4),y()()),2&e){const t=n.$implicit,r=k();S("ngStyle",Zs(3,N9,r.getRightPosition(t.randPos))),_(2),Ne(t.username),_(2),Ne(t.reaction)}}function V9(e,n){if(1&e){const t=ge();m(0,"div",14),U("click",function(){return z(t),G(k().openReactions())}),Z(1,"ion-icon",15),y()}}const pO=[[{emoji:"\u{1f44f}",description:"clapping"},{emoji:"\u{1f525}",description:"fire"},{emoji:"\u{1f603}",description:"smiley"},{emoji:"\u{1f914}",description:"thinking"},{emoji:"\u{1f621}",description:"angry"}],[{emoji:"\u{1f632}",description:"shocked"},{emoji:"\u{1f624}",description:"triumph"},{emoji:"\u{1f602}",description:"laughing"},{emoji:"\u{1f605}",description:"sweat"},{emoji:"\u{1f62d}",description:"crying"}],[{emoji:"\u{1f64c}",description:"raisedhands"},{emoji:"\u{1f389}",description:"party"},{emoji:"\u{1f60e}",description:"cool"},{emoji:"\u{1f612}",description:"unamused"},{emoji:"\u{1f622}",description:"sad"}],[{emoji:"\u{1f44c}",description:"ok"},{emoji:"\u{1f4aa}",description:"strong"},{emoji:"\u{1f44d}",description:"thumbsup"},{emoji:"\u{1f44e}",description:"thumbsdown"},{emoji:"\u{1f595}",description:"fu"}],[{emoji:"\u{1f635}",description:"dizzy"},{emoji:"\u{1f643}",description:"upside-down"},{emoji:"\u{1f4c8}",description:"chartup"},{emoji:"\u{1f4c9}",description:"chartdown"},{emoji:"\u{1f610}",description:"neutral"}],[{emoji:"\u{1f9e0}",description:"brain"},{emoji:"\u{1f4b8}",description:"money"},{emoji:"\u{1f3c6}",description:"trophy"},{emoji:"\u{1f4af}",description:"hundred"},{emoji:"\u{1f47d}",description:"alien"}]];let U9=(()=>{class e{constructor(t,r,i){this.reactions=t,this.player=r,this.jwt=i,this.emojisList=pO,this.emojiFilter="",this.reactionsList=[],this.hideReactions=!1,this.unseenReactions=0,this.goToBottom=!1}ngOnInit(){this.reactions.Connect(),this.reactions.OnOpen(()=>{this.reactions.Send({token:this.jwt.GetJWT()})}),this.reactions.OnMessage(t=>{let r=JSON.parse(t.data);r.code>=4400?console.error(r.reaction):r.reaction!=yv&&(this.reactionsList.push({username:r.name,reaction:r.reaction,timestamp:r.timeStamp,randPos:r.randPos}),this.hideReactions&&this.unseenReactions++,this.goToBottom=!0)})}ngAfterViewChecked(){this.goToBottom&&(this.scrollToBottom(),this.goToBottom=!1)}sendReaction(t){this.reactions.Send({reaction:t})}scrollToBottom(){let t=document.getElementById("reactions-list");t&&(t.scrollTop=t.scrollHeight)}openReactions(){this.hideReactions=!1,this.unseenReactions=0,this.goToBottom=!0}closeReactions(){this.hideReactions=!0}epochTo12HrFormat(t){let r=new Date(1e3*t),i=r.getHours(),s=i>=12?"PM":"AM";return i%=12,i=i||12,i+":"+("0"+r.getMinutes()).slice(-2)+s}getRightPosition(t){return`calc(${t}px + var(--players-container-width))`}filterEmojis(){let r=pO.flat().filter(o=>o.description.toLowerCase().includes(this.emojiFilter.toLowerCase())),i=[];for(let o=0;o<r.length;o+=5)i.push(r.slice(o,o+5));if(i.length>0&&i[i.length-1].length<5){let o=5-i[i.length-1].length;for(let s=0;s<o;s++)i[i.length-1].push({emoji:"",description:""})}this.emojisList=i}static{this.\u0275fac=function(r){return new(r||e)(D(k9),D(mr),D(Jo))}}static{this.\u0275cmp=$e({type:e,selectors:[["app-reactions"]],decls:3,vars:3,consts:[["id","game-reactions","class","flex-column",4,"ngIf"],["class","floating-reaction",3,"ngStyle",4,"ngFor","ngForOf"],["id","reaction-box",3,"click",4,"ngIf"],["id","game-reactions",1,"flex-column"],[1,"reactions-header","flex-row"],["type","text","placeholder","Search emojis",3,"ngModelChange","input","ngModel"],["name","close-outline",3,"click"],["class","reactions-input flex-row",4,"ngFor","ngForOf"],[1,"reactions-input","flex-row"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[1,"floating-reaction",3,"ngStyle"],[1,"reaction-name"],[1,"reaction-emoji"],["id","reaction-box",3,"click"],["name","happy-outline"]],template:function(r,i){1&r&&W(0,L9,5,2,"div",0)(1,j9,5,5,"div",1)(2,V9,2,0,"div",2),2&r&&(S("ngIf",!i.hideReactions),_(),S("ngForOf",i.reactionsList),_(),S("ngIf",i.hideReactions))},dependencies:[kr,vt,Wd,Fn,Zn,Ln],styles:["#game-reactions[_ngcontent-%COMP%]{position:fixed;right:calc(10px + var(--players-container-width));bottom:10px;border:1px solid black;border-radius:5px;z-index:1000;max-height:7.5em;overflow-y:auto;background-color:#fff;scrollbar-width:thin;width:13em}#game-reactions[_ngcontent-%COMP%]   .reactions-header[_ngcontent-%COMP%]{border-bottom:1px solid black;background-color:#fff;flex:0;padding:3px}#game-reactions[_ngcontent-%COMP%]   .reactions-header[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:3px;font-size:.75em}#game-reactions[_ngcontent-%COMP%]   .reactions-header[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{float:right;font-size:1.25em;margin-top:1px}#game-reactions[_ngcontent-%COMP%]   .reactions-header[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]:hover{cursor:pointer;font-weight:700;color:red}#game-reactions[_ngcontent-%COMP%]   .reactions-input[_ngcontent-%COMP%]{padding:5px;flex:0;gap:10px}#game-reactions[_ngcontent-%COMP%]   .reactions-input[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;text-align:center;-webkit-user-select:none;user-select:none;font-size:1.25em}#game-reactions[_ngcontent-%COMP%]   .reactions-input[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:hover{cursor:pointer;transform:scale(1.4)}.floating-reaction[_ngcontent-%COMP%]{position:fixed;animation:_ngcontent-%COMP%_floatUp 6s forwards;z-index:-1}.floating-reaction[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;text-align:right}.floating-reaction[_ngcontent-%COMP%]   .reaction-name[_ngcontent-%COMP%]{font-size:.75em}.floating-reaction[_ngcontent-%COMP%]   .reaction-emoji[_ngcontent-%COMP%]{font-size:1.5em}@keyframes _ngcontent-%COMP%_floatUp{0%{top:calc(100% - 4em);opacity:1}50%{opacity:1}to{top:var(--header-height);opacity:0}}#reaction-box[_ngcontent-%COMP%]{position:fixed;right:calc(var(--players-container-width)/2);bottom:10px;width:50px;height:50px;text-align:center;vertical-align:middle;line-height:50px;background-color:#fff;font-size:30px}#reaction-box[_ngcontent-%COMP%]:hover{cursor:pointer;transform:scale(1.1)}"]})}}return e})();const B9=["jeopardyAudio"];function $9(e,n){if(1&e&&(m(0,"div",2),Z(1,"app-player-podium",3),y()),2&e){const t=n.$implicit,r=k();_(),S("player",t)("scoreChanges",r.scoreChanges)}}function H9(e,n){1&e&&Z(0,"app-pre-game",13),2&e&&S("gameName",k().game.Name())}function z9(e,n){1&e&&Z(0,"app-board-intro"),2&e&&S("@boardIntroFade",void 0)}function G9(e,n){1&e&&Z(0,"app-recv-pick")}function q9(e,n){1&e&&Z(0,"app-recv-buzz")}function W9(e,n){1&e&&Z(0,"app-recv-ans")}function K9(e,n){1&e&&Z(0,"app-recv-wager")}function J9(e,n){1&e&&Z(0,"app-post-game")}function Q9(e,n){if(1&e){const t=ge();m(0,"ion-icon",19),U("click",function(){return z(t),G(k(2).toggleSound())}),y()}}function Y9(e,n){if(1&e){const t=ge();m(0,"ion-icon",20),U("click",function(){return z(t),G(k(2).toggleSound())}),y()}}function Z9(e,n){if(1&e&&(m(0,"div",14),W(1,Q9,1,0,"ion-icon",15)(2,Y9,1,0,"ion-icon",16),m(3,"audio",17,0),Z(5,"source",18),y()()),2&e){const t=k();_(),S("ngIf",t.sound.isSoundEnabled()),_(),S("ngIf",!t.sound.isSoundEnabled())}}function X9(e,n){if(1&e){const t=ge();m(0,"ion-icon",25),U("click",function(){return z(t),G(k(2).pauseGame(!1))}),y()}}function e7(e,n){if(1&e){const t=ge();m(0,"ion-icon",26),U("click",function(){return z(t),G(k(2).pauseGame(!0))}),y()}}function t7(e,n){1&e&&(m(0,"div",27)(1,"p"),Z(2,"ion-icon",28),C(3," Click to pause the game"),y()())}function n7(e,n){if(1&e&&(m(0,"div",21),W(1,X9,1,0,"ion-icon",22)(2,e7,1,0,"ion-icon",23)(3,t7,4,0,"div",24),y()),2&e){const t=k();_(),S("ngIf",t.game.IsPaused()&&!t.game.Disconnected()),_(),S("ngIf",!t.game.IsPaused()),_(),S("ngIf",t.showPauseGame)}}let a7=(()=>{class e{constructor(t,r,i,o,s,a,l,c){this.websocket=t,this.jwt=r,this.game=i,this.player=o,this.sound=s,this.modal=a,this.router=l,this.route=c,this.scoreChanges={},this.showPauseGame=!1,this.showMusicInfo=!1}ngOnInit(){this.route.paramMap.subscribe(i=>{let o=i.get("gameName");this.joinPath=o?`/join/${o}`:"/",this.websocket.Connect(`play/${o}`)}),null===localStorage.getItem("showJeopardyMusicInfo")&&(this.showMusicInfo=!0,setTimeout(()=>{this.showMusicInfo=!1},5e3),localStorage.setItem("showJeopardyMusicInfo","shown")),null===localStorage.getItem("showPauseGame")&&(this.showPauseGame=!0,setTimeout(()=>{this.showPauseGame=!1},5e3),localStorage.setItem("showPauseGame","shown")),this.websocket.OnOpen(()=>{this.websocket.Send({state:Ke.PreGame,token:this.jwt.GetJWT()})}),this.websocket.OnMessage(i=>{let o=JSON.parse(i.data);if(function s7(e){return e>=4400}(o.code)){switch(o.code){case 4400:case 4401:this.router.navigate([this.joinPath]);break;case 4500:this.modal.displayMessage(o.message)}return}if(o.message==yv)return;let s=this.game.Players(),a=this.previousState;if(this.game.updateGameState(o.game),this.player.updatePlayer(o.curPlayer),this.gameMessage=o.message,4100!=o.code)if(this.game.IsPaused())this.cancelCountdown();else{if(a===Ke.RecvAns&&this.game.State()!==Ke.RecvAns&&""!==this.game.OfficialAnswer()&&!this.game.FinalRound()){let l="incorrect";const c=this.game.CurAnswer();c&&""!==c&&"answer-timeout"!==c?this.game.AnsCorrectness()&&(l="correct"):l="timeout",this.modal.displayAnswerFeedback(l)}switch(a===Ke.RecvBuzz&&this.game.State()===Ke.RecvPick&&""!==this.game.OfficialAnswer()&&!this.game.FinalRound()&&this.modal.displayAnswerFeedback("timeout"),this.game.State()===Ke.RecvWager&&a!==Ke.RecvWager&&!this.game.FinalRound()&&this.modal.displayAnswerFeedback("daily-double"),this.previousState=this.game.State(),this.handleScoreChanges(s),this.game.State()===Ke.RecvWager&&this.game.FinalRound()&&a!==Ke.RecvWager&&this.startFinalJeopardyMusic(),a===Ke.RecvWager&&this.game.FinalRound()&&this.game.State()!==Ke.RecvWager&&this.game.State()!==Ke.RecvAns&&this.stopFinalJeopardyMusic(),this.game.State()){case Ke.PreGame:case Ke.PostGame:case Ke.BoardIntro:this.cancelCountdown();break;case Ke.RecvDispute:this.cancelCountdown(),this.modal.displayDispute();break;case Ke.RecvPick:this.startCountdownTimer(this.game.PickTimeout());break;case Ke.RecvBuzz:if(this.cancelCountdown(),this.game.CurQuestionFirstBuzz()){this.game.BlockBuzz(!0);let l=this.game.BuzzDelay();setTimeout(()=>{this.game.BlockBuzz(!1),this.startCountdownTimer(this.game.BuzzTimeout()-l)},1e3*l)}else this.startCountdownTimer(this.game.BuzzTimeout());break;case Ke.RecvAns:this.game.FinalRound()?this.game.StartFinalAnswerCountdown()&&this.startCountdownTimer(this.game.FinalAnswerTimeout()):this.startCountdownTimer(this.game.AnswerTimeout());break;case Ke.RecvWager:this.game.FinalRound()?this.game.StartFinalWagerCountdown()&&this.startCountdownTimer(this.game.FinalWagerTimeout()):this.startCountdownTimer(this.game.WagerTimeout());break;default:this.modal.displayMessage("Error while updating game")}}else this.modal.displayMessage(o.message)})}startCountdownTimer(t){if(this.cancelCountdown(),this.game.IsPaused())return;let r=document.getElementById("countdown-bar");for(let s=0;s<2*(t-1);s++){let a=document.createElement("div");a.id=`countdown-${s}`,a.style.backgroundColor="red",r?.appendChild(a)}let i=0,o=r.children.length-1;this.countdownInterval=setInterval(()=>{document.getElementById(`countdown-${i}`).style.backgroundColor="white",document.getElementById(`countdown-${o}`).style.backgroundColor="white",i+=1,o-=1},1e3)}cancelCountdown(){clearInterval(this.countdownInterval);let t=document.getElementById("countdown-bar");for(;t?.firstChild;)t.removeChild(t.firstChild)}toggleSound(){this.sound.toggleSound(),this.sound.isSoundEnabled()?this.game.FinalRound()&&(this.game.State()===Ke.RecvWager||this.game.State()===Ke.RecvAns)&&this.jeopardyAudio.nativeElement.play():this.jeopardyAudio.nativeElement.pause(),window.dispatchEvent(new CustomEvent("soundToggle",{detail:{enabled:this.sound.isSoundEnabled()}}))}startFinalJeopardyMusic(){this.sound.isSoundEnabled()&&this.jeopardyAudio.nativeElement.play()}stopFinalJeopardyMusic(){this.jeopardyAudio.nativeElement.pause()}pauseGame(t){this.modal.displayMessage("Game "+(t?"paused":"resumed")),this.websocket.Send({state:this.game.State(),pause:t?1:-1})}handleScoreChanges(t){for(let r=0;r<t.length;r++){let i=t[r];for(let o=0;o<this.game.Players().length;o++){let s=this.game.Players()[o];i.id==s.id&&(this.scoreChanges[s.id]=s.score-i.score)}}setTimeout(()=>{this.scoreChanges={}},3e3)}static{this.\u0275fac=function(r){return new(r||e)(D(co),D(Jo),D(jn),D(mr),D(_v),D(yn),D(Yt),D(Ri))}}static{this.\u0275cmp=$e({type:e,selectors:[["app-game"]],viewQuery:function(r,i){if(1&r&&Or(B9,5),2&r){let o;dr(o=hr())&&(i.jeopardyAudio=o.first)}},decls:19,vars:12,consts:[["jeopardyAudio",""],["id","players-container",1,"flex-column"],[1,"player-box","flex-column"],[3,"player","scoreChanges"],["class","player-box flex-column",4,"ngFor","ngForOf"],["id","game-container"],["id","game-state"],[3,"gameName",4,"ngIf"],[4,"ngIf"],["id","countdown-bar",1,"flex-row"],["id","game-controls"],["id","sound-control","class","game-control",4,"ngIf"],["id","pause-game","class","game-control",4,"ngIf"],[3,"gameName"],["id","sound-control",1,"game-control"],["name","volume-high-outline",3,"click",4,"ngIf"],["name","volume-mute-outline",3,"click",4,"ngIf"],["loop",""],["src","../../assets/jeopardy_music.mp3"],["name","volume-high-outline",3,"click"],["name","volume-mute-outline",3,"click"],["id","pause-game",1,"game-control"],["name","play",3,"click",4,"ngIf"],["name","pause",3,"click",4,"ngIf"],["class","control-info",4,"ngIf"],["name","play",3,"click"],["name","pause",3,"click"],[1,"control-info"],["name","chevron-back-outline"]],template:function(r,i){1&r&&(m(0,"div",1)(1,"div",2),Z(2,"app-player-podium",3),y(),W(3,$9,2,2,"div",4),y(),m(4,"div",5)(5,"div",6),W(6,H9,1,1,"app-pre-game",7)(7,z9,1,1,"app-board-intro",8)(8,G9,1,0,"app-recv-pick",8)(9,q9,1,0,"app-recv-buzz",8)(10,W9,1,0,"app-recv-ans",8)(11,K9,1,0,"app-recv-wager",8)(12,J9,1,0,"app-post-game",8),Z(13,"div",9),y()(),Z(14,"app-chat")(15,"app-reactions"),m(16,"div",10),W(17,Z9,6,2,"div",11)(18,n7,4,3,"div",12),y()),2&r&&(_(2),S("player",i.player.Player())("scoreChanges",i.scoreChanges),_(),S("ngForOf",i.game.OtherPlayers()),_(3),S("ngIf",i.game.PreGame()),_(),S("ngIf",i.game.BoardIntro()),_(),S("ngIf",i.game.RecvPick()),_(),S("ngIf",i.game.RecvBuzz()),_(),S("ngIf",i.game.RecvAns()),_(),S("ngIf",i.game.RecvWager()),_(),S("ngIf",i.game.PostGame()),_(5),S("ngIf",!i.game.PreGame()),_(),S("ngIf",!i.game.InDispute()&&!i.game.PreGame()))},dependencies:[kr,vt,j6,q6,Y6,t9,o9,m9,b9,M9,R9,U9],styles:["#players-container[_ngcontent-%COMP%]{position:fixed;right:0;top:var(--header-height);width:var(--players-container-width);height:calc(100vh - var(--header-height));border-left:1px solid black}#players-container[_ngcontent-%COMP%]   .player-box[_ngcontent-%COMP%]{padding:1em;border-bottom:1px solid black;gap:1em;position:relative}#game-container[_ngcontent-%COMP%]{position:fixed;left:0;top:var(--header-height);height:calc(100vh - var(--header-height) - 10px);width:calc(100% - var(--players-container-width));display:flex;justify-content:center}#game-container[_ngcontent-%COMP%]   #game-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}#game-container[_ngcontent-%COMP%]   #game-state[_ngcontent-%COMP%]   #countdown-bar[_ngcontent-%COMP%]{height:15px;gap:1px}#game-controls[_ngcontent-%COMP%]   .game-control[_ngcontent-%COMP%]{position:fixed;left:15px}#game-controls[_ngcontent-%COMP%]   .game-control[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:2em}#game-controls[_ngcontent-%COMP%]   .game-control[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]:hover{cursor:pointer;transform:scale(1.1)}@keyframes _ngcontent-%COMP%_moveUpDown{0%,1000%{transform:translate(0)}50%{transform:translate(-5px)}}#game-controls[_ngcontent-%COMP%]   .game-control[_ngcontent-%COMP%]   .control-info[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_moveUpDown 1s infinite;position:fixed;left:50px}#game-controls[_ngcontent-%COMP%]   .game-control[_ngcontent-%COMP%]   .control-info[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1em}#game-controls[_ngcontent-%COMP%]   .game-control[_ngcontent-%COMP%]   .control-info[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]:hover{cursor:default;transform:none}#game-controls[_ngcontent-%COMP%]   .game-control[_ngcontent-%COMP%]   .control-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}#game-controls[_ngcontent-%COMP%]   #sound-control[_ngcontent-%COMP%]{top:calc(var(--header-height) + 15px)}#game-controls[_ngcontent-%COMP%]   #sound-control[_ngcontent-%COMP%]   .control-info[_ngcontent-%COMP%]{top:calc(var(--header-height) + 22px)}#game-controls[_ngcontent-%COMP%]   #pause-game[_ngcontent-%COMP%]{top:calc(var(--header-height) + 60px)}#game-controls[_ngcontent-%COMP%]   #pause-game[_ngcontent-%COMP%]   .control-info[_ngcontent-%COMP%]{top:calc(var(--header-height) + 67px)}"],data:{animation:[xT("boardIntroFade",[Ay("void",dc({opacity:0})),LT("void => *",FT(2e3))])]}})}}return e})();function l7(e,n){if(1&e){const t=ge();m(0,"div")(1,"input",28),Ve("ngModelChange",function(i){z(t);const o=k();return He(o.user.name,i)||(o.user.name=i),G(i)}),y()()}if(2&e){const t=k();_(),je("ngModel",t.user.name)}}function c7(e,n){1&e&&Z(0,"div",36)}function u7(e,n){if(1&e){const t=ge();m(0,"div",37),U("click",function(){const i=z(t).$implicit;return G(k(2).addCategory(i))}),C(1),y()}if(2&e){const t=n.$implicit,r=k(2);_(),bi(" ",t.category," ",r.twoRoundChecked?"("+t.round+")":""," ")}}function d7(e,n){if(1&e){const t=ge();m(0,"li"),C(1),m(2,"span",38),U("click",function(){const i=z(t).$implicit;return G(k(2).removeCategory(i))}),C(3,"\xa0\u2715"),y()()}if(2&e){const t=n.$implicit;_(),be(" ",t.category,"")}}function h7(e,n){if(1&e){const t=ge();m(0,"li"),C(1),m(2,"span",38),U("click",function(){const i=z(t).$implicit;return G(k(3).removeCategory(i))}),C(3,"\xa0\u2715"),y()()}if(2&e){const t=n.$implicit;_(),be(" ",t.category,"")}}function f7(e,n){if(1&e&&(m(0,"div")(1,"p"),C(2,"Second Round"),y(),m(3,"ol"),W(4,h7,4,1,"li",35),y()()),2&e){const t=k(2);_(4),S("ngForOf",t.secondRoundCategories)}}function p7(e,n){if(1&e){const t=ge();m(0,"div")(1,"div",29)(2,"input",30),Ve("ngModelChange",function(i){z(t);const o=k();return He(o.categorySearch,i)||(o.categorySearch=i),G(i)}),U("input",function(){return z(t),G(k().searchCategories())})("click",function(){return z(t),G(k().searchCategories())}),y(),W(3,c7,1,0,"div",31),m(4,"div",32),W(5,u7,2,2,"div",33),y()(),m(6,"div",34)(7,"div")(8,"p"),C(9,"First Round"),y(),m(10,"ol"),W(11,d7,4,1,"li",35),y()(),W(12,f7,5,1,"div",4),y()()}if(2&e){const t=k();_(2),je("ngModel",t.categorySearch),_(),S("ngIf",t.searchLoader),_(2),S("ngForOf",t.searchResults),_(6),S("ngForOf",t.firstRoundCategories),_(),S("ngIf",t.twoRoundChecked)}}let g7=(()=>{class e{get twoRoundChecked(){return!this.oneRoundChecked}constructor(t,r,i,o){this.api=t,this.modal=r,this.jwt=i,this.router=o,this.oneRoundChecked=!0,this.penaltyChecked=!0,this.botConfig=0,this.pickConfig=30,this.buzzConfig=30,this.answerConfig=15,this.wagerConfig=30,this.firstRoundCategories=[],this.secondRoundCategories=[],this.searchResults=[],this.categorySearch="",this.searchLoader=!1,this.questionMode="cyo",this.maxPlayers=6}searchCategories(){if(this.searchLoader=!0,""==this.categorySearch)return this.searchResults=[],document.getElementById("results-dropdown").style.borderBottom="none",void(this.searchLoader=!1);this.api.SearchCategories(this.categorySearch,this.twoRoundChecked).subscribe({next:t=>{this.searchResults=t,document.getElementById("results-dropdown").style.borderBottom=t.length>0?"1px solid black":"none",this.searchLoader=!1},error:t=>{this.searchResults=[0!=t.status?t.error.message:lo]}})}canAddCategory(t,r,i){return t.round==r&&i.length<6&&!i.some(o=>o.category==t.category&&o.airDate==t.airDate)}addCategory(t){this.canAddCategory(t,1,this.firstRoundCategories)?this.firstRoundCategories.push(t):this.canAddCategory(t,2,this.secondRoundCategories)&&this.secondRoundCategories.push(t),this.searchResults=[],document.getElementById("results-dropdown").style.borderBottom="none"}removeCategory(t){this.firstRoundCategories=this.firstRoundCategories.filter(r=>r.category!=t.category&&r.airDate!=t.airDate),this.secondRoundCategories=this.secondRoundCategories.filter(r=>r.category!=t.category&&r.airDate!=t.airDate)}validateBotConfig(){this.botConfig=Math.min(Math.max(this.botConfig,0),this.maxPlayers-1)}validatePickConfig(){this.pickConfig=Math.min(Math.max(this.pickConfig,3),60)}validateBuzzConfig(){this.buzzConfig=Math.min(Math.max(this.buzzConfig,10),60)}validateAnswerConfig(){this.answerConfig=Math.min(Math.max(this.answerConfig,3),60)}validateWagerConfig(){this.wagerConfig=Math.min(Math.max(this.wagerConfig,3),60)}hideConfig(){this.modal.hideConfig()}createPrivateGame(t){if(""==this.user.name)return document.getElementById("player-name-config").focus(),document.getElementById("player-name-config").style.border="1px solid red",void setTimeout(()=>{document.getElementById("player-name-config").style.border="1px solid grey"},1e3);this.api.CreatePrivateGame(this.user.name,this.user.imgUrl,this.user.email,t,this.twoRoundChecked,this.penaltyChecked,this.pickConfig,this.buzzConfig,this.answerConfig,this.wagerConfig,this.firstRoundCategories,this.secondRoundCategories).subscribe({next:r=>{this.modal.hideConfig(),this.jwt.SetJWT(r.token),this.router.navigate([`/game/${r.game.name}`])},error:r=>{this.modal.displayMessage(0!=r.status?r.error.message:lo)}})}static{this.\u0275fac=function(r){return new(r||e)(D(uo),D(yn),D(Jo),D(Yt))}}static{this.\u0275cmp=$e({type:e,selectors:[["app-config"]],inputs:{user:"user",oneRoundChecked:"oneRoundChecked",penaltyChecked:"penaltyChecked"},decls:51,vars:13,consts:[[1,"modal-container"],[1,"modal-message"],["id","config-inputs",1,"flex-row"],[1,"game-inputs"],[4,"ngIf"],["type","radio","id","one-round-config","name","rounds",3,"ngModelChange","value","ngModel"],["for","one-round-config",2,"margin-right","1em"],["type","radio","id","two-round-config","name","rounds",3,"ngModelChange","value","ngModel"],["for","two-round-config"],["type","checkbox","id","penalty-input-config",3,"ngModelChange","ngModel"],["for","penalty-input-config"],["id","bot-config","type","number","min","0","max","5",3,"ngModelChange","change","ngModel"],["for","bot-config"],["id","pick-config","type","number","min","3","max","60",3,"ngModelChange","change","ngModel"],["for","pick-config"],["id","buzz-config","type","number","min","10","max","60",3,"ngModelChange","change","ngModel"],["for","buzz-config"],["id","answer-config","type","number","min","3","max","60",3,"ngModelChange","change","ngModel"],["for","answer-config"],["id","wager-config","type","number","min","3","max","60",3,"ngModelChange","change","ngModel"],["for","wager-config"],["id","question-inputs"],[3,"ngModelChange","ngModel"],["value","random"],["value","cyo"],["id","config-buttons",1,"flex-row"],[1,"secondary",3,"click"],[3,"click"],["id","player-name-config","type","text","placeholder","Enter your name",3,"ngModelChange","ngModel"],["id","search-container"],["type","text","placeholder","Search categories",3,"ngModelChange","input","click","ngModel"],["id","loader",4,"ngIf"],["id","results-dropdown"],["class","search-result",3,"click",4,"ngFor","ngForOf"],["id","question-lists"],[4,"ngFor","ngForOf"],["id","loader"],[1,"search-result",3,"click"],[1,"remove-category",3,"click"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"h3"),C(3,"Game Configuration"),y(),m(4,"div",2)(5,"div",3),W(6,l7,2,1,"div",4),m(7,"div")(8,"input",5),Ve("ngModelChange",function(s){return He(i.oneRoundChecked,s)||(i.oneRoundChecked=s),s}),y(),m(9,"label",6),C(10,"1 Round"),y(),m(11,"input",7),Ve("ngModelChange",function(s){return He(i.oneRoundChecked,s)||(i.oneRoundChecked=s),s}),y(),m(12,"label",8),C(13,"2 Rounds"),y()(),m(14,"div")(15,"input",9),Ve("ngModelChange",function(s){return He(i.penaltyChecked,s)||(i.penaltyChecked=s),s}),y(),m(16,"label",10),C(17,"Penalty for incorrect answers"),y()(),m(18,"div")(19,"input",11),Ve("ngModelChange",function(s){return He(i.botConfig,s)||(i.botConfig=s),s}),U("change",function(){return i.validateBotConfig()}),y(),m(20,"label",12),C(21," Bots"),y()(),m(22,"div")(23,"input",13),Ve("ngModelChange",function(s){return He(i.pickConfig,s)||(i.pickConfig=s),s}),U("change",function(){return i.validatePickConfig()}),y(),m(24,"label",14),C(25," Pick Timeout"),y()(),m(26,"div")(27,"input",15),Ve("ngModelChange",function(s){return He(i.buzzConfig,s)||(i.buzzConfig=s),s}),U("change",function(){return i.validateBuzzConfig()}),y(),m(28,"label",16),C(29," Buzz Timeout"),y()(),m(30,"div")(31,"input",17),Ve("ngModelChange",function(s){return He(i.answerConfig,s)||(i.answerConfig=s),s}),U("change",function(){return i.validateAnswerConfig()}),y(),m(32,"label",18),C(33," Answer Timeout"),y()(),m(34,"div")(35,"input",19),Ve("ngModelChange",function(s){return He(i.wagerConfig,s)||(i.wagerConfig=s),s}),U("change",function(){return i.validateWagerConfig()}),y(),m(36,"label",20),C(37," Wager Timeout"),y()()(),m(38,"div",21)(39,"div")(40,"select",22),Ve("ngModelChange",function(s){return He(i.questionMode,s)||(i.questionMode=s),s}),m(41,"option",23),C(42,"Random Questions"),y(),m(43,"option",24),C(44,"Choose your own"),y()()(),W(45,p7,13,5,"div",4),y()()(),m(46,"div",25)(47,"button",26),U("click",function(){return i.hideConfig()}),C(48,"Cancel"),y(),m(49,"button",27),U("click",function(){return i.createPrivateGame(i.botConfig)}),C(50,"Start Game"),y()()()),2&r&&(_(6),S("ngIf",!i.user.authenticated),_(2),S("value",!0),je("ngModel",i.oneRoundChecked),_(3),S("value",!1),je("ngModel",i.oneRoundChecked),_(4),je("ngModel",i.penaltyChecked),_(4),je("ngModel",i.botConfig),_(4),je("ngModel",i.pickConfig),_(4),je("ngModel",i.buzzConfig),_(4),je("ngModel",i.answerConfig),_(4),je("ngModel",i.wagerConfig),_(5),je("ngModel",i.questionMode),_(5),S("ngIf","cyo"==i.questionMode))},dependencies:[kr,vt,Ey,Sy,Fn,fh,oc,uc,vy,Zn,Iy,My,Ln],styles:["#config-inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:5px}#config-inputs[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-bottom:10px}#config-inputs[_ngcontent-%COMP%]   .game-inputs[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:85%}#config-inputs[_ngcontent-%COMP%]   .game-inputs[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{width:3em}#config-inputs[_ngcontent-%COMP%]   .game-inputs[_ngcontent-%COMP%]   #player-name-config[_ngcontent-%COMP%]{border:1px solid grey}#config-inputs[_ngcontent-%COMP%]   #question-inputs[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;height:2em}#config-inputs[_ngcontent-%COMP%]   #question-inputs[_ngcontent-%COMP%]   #search-container[_ngcontent-%COMP%]{position:relative;width:100%}#config-inputs[_ngcontent-%COMP%]   #question-inputs[_ngcontent-%COMP%]   #search-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:calc(100% - 12px);margin:0}#config-inputs[_ngcontent-%COMP%]   #question-inputs[_ngcontent-%COMP%]   #search-container[_ngcontent-%COMP%]   #results-dropdown[_ngcontent-%COMP%]{background-color:#fff;z-index:1;position:absolute;width:100%;max-height:15em;overflow-y:auto}#config-inputs[_ngcontent-%COMP%]   #question-inputs[_ngcontent-%COMP%]   #search-container[_ngcontent-%COMP%]   #results-dropdown[_ngcontent-%COMP%]   .search-result[_ngcontent-%COMP%]{border:1px solid black;border-top:none;border-right:none;margin:0;padding:3px}#config-inputs[_ngcontent-%COMP%]   #question-inputs[_ngcontent-%COMP%]   #search-container[_ngcontent-%COMP%]   #results-dropdown[_ngcontent-%COMP%]   .search-result[_ngcontent-%COMP%]:hover{background-color:#d3d3d3}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}#config-inputs[_ngcontent-%COMP%]   #question-inputs[_ngcontent-%COMP%]   #search-container[_ngcontent-%COMP%]   #loader[_ngcontent-%COMP%]{border:4px solid lightgrey;border-top:4px solid var(--jeopardy-blue);border-radius:50%;width:.75em;height:.75em;animation:_ngcontent-%COMP%_spin 2s linear infinite;position:absolute;right:10px;top:3px;transform:translateY(-50%)}#config-inputs[_ngcontent-%COMP%]   #question-inputs[_ngcontent-%COMP%]   #question-lists[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], #config-inputs[_ngcontent-%COMP%]   #question-inputs[_ngcontent-%COMP%]   #question-lists[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{margin:0}#config-inputs[_ngcontent-%COMP%]   #question-inputs[_ngcontent-%COMP%]   #question-lists[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:3px 0}#config-inputs[_ngcontent-%COMP%]   #question-inputs[_ngcontent-%COMP%]   #question-lists[_ngcontent-%COMP%]   .remove-category[_ngcontent-%COMP%]{font-size:.9em}#config-inputs[_ngcontent-%COMP%]   #question-inputs[_ngcontent-%COMP%]   #question-lists[_ngcontent-%COMP%]   .remove-category[_ngcontent-%COMP%]:hover{color:red;cursor:pointer;font-weight:bolder}#config-buttons[_ngcontent-%COMP%]{gap:15px}"]})}}return e})();function m7(e,n){if(1&e){const t=ge();m(0,"input",20),Ve("ngModelChange",function(i){z(t);const o=k();return He(o.user.name,i)||(o.user.name=i),G(i)}),y()}2&e&&je("ngModel",k().user.name)}function y7(e,n){if(1&e&&(m(0,"p",21),C(1),y()),2&e){const t=k();_(),be("Welcome, ",t.user.name,"")}}function _7(e,n){if(1&e){const t=ge();m(0,"input",22),U("keydown.enter",function(){return z(t),G(k().joinGameByCode())}),Ve("ngModelChange",function(i){z(t);const o=k();return He(o.joinCode,i)||(o.joinCode=i),G(i)}),y()}2&e&&je("ngModel",k().joinCode)}function v7(e,n){if(1&e&&Z(0,"app-config",23),2&e){const t=k();S("user",t.user)("oneRoundChecked",t.oneRoundChecked)("twoRoundChecked",t.twoRoundChecked)("penaltyChecked",t.penaltyChecked)}}let gO=(()=>{class e{constructor(t,r,i,o,s){this.router=t,this.jwt=r,this.api=i,this.modal=o,this.auth=s,this.joinCode="",this.showJoinCodeInput=!1,this.oneRoundChecked=!0,this.twoRoundChecked=!1,this.penaltyChecked=!0}ngOnInit(){this.auth.user.subscribe(t=>{this.user=t}),setTimeout(()=>{this.modal.displayAnswerFeedback("birthday")},500)}joinResp(){return{next:t=>{this.jwt.SetJWT(t.token),this.router.navigate([`/game/${t.game.name}`])},error:t=>{this.modal.displayMessage(0!=t.status?t.error.message:lo)}}}showInvalidName(){document.getElementById("player-name-join").focus(),document.getElementById("player-name-join").style.border="1px solid red",setTimeout(()=>{document.getElementById("player-name-join").style.border="1px solid grey"},1e3)}createPrivateGame(t){""!=this.user.name?this.api.CreatePrivateGame(this.user.name,this.user.imgUrl,this.user.email,t,this.twoRoundChecked,this.penaltyChecked,30,30,15,30,[],[]).subscribe(this.joinResp()):this.showInvalidName()}joinGameByCode(){""!=this.user.name?this.api.JoinGameByCode(this.user.name,this.user.imgUrl,this.user.email,this.joinCode).subscribe(this.joinResp()):this.showInvalidName()}joinPublicGame(){""!=this.user.name?this.api.JoinPublicGame(this.user.name,this.user.imgUrl,this.user.email).subscribe(this.joinResp()):this.showInvalidName()}rejoin(){this.api.GetPlayerGame().subscribe({next:t=>{this.router.navigate([`/game/${t.game.name}`])},error:t=>{this.modal.displayMessage(0!=t.status?t.error.message:lo)}})}toggleJoinCodeInput(){this.showJoinCodeInput&&this.joinCode&&this.user.name?this.joinGameByCode():this.showJoinCodeInput=!this.showJoinCodeInput}static{this.\u0275fac=function(r){return new(r||e)(D(Yt),D(Jo),D(uo),D(yn),D(Ko))}}static{this.\u0275cmp=$e({type:e,selectors:[["app-join"]],decls:42,vars:7,consts:[[1,"join-container-wrapper","flex-row"],[1,"graphic-container"],["src","assets/graphic.jpg","alt","Jeopardy graphic"],[1,"join-container","flex-column"],[1,"flex-column","gap15"],["id","player-name-join","type","text","placeholder","Enter your name",3,"ngModel","ngModelChange",4,"ngIf"],["style","margin: 0;",4,"ngIf"],[1,"flex-row","gap15"],[3,"click"],[1,"flex-column","game-inputs"],["type","checkbox","id","one-round",3,"ngModelChange","change","ngModel"],["for","one-round",2,"margin-right","1em"],["type","checkbox","id","two-round",3,"ngModelChange","change","ngModel"],["for","two-round"],["type","checkbox","id","penalty-input",3,"ngModelChange","ngModel"],["for","penalty-input"],["id","advanced-options",3,"click"],["id","game-code","type","text","placeholder","Game code",3,"ngModel","keydown.enter","ngModelChange",4,"ngIf"],["id","bots-container",1,"flex-column"],[3,"user","oneRoundChecked","twoRoundChecked","penaltyChecked",4,"ngIf"],["id","player-name-join","type","text","placeholder","Enter your name",3,"ngModelChange","ngModel"],[2,"margin","0"],["id","game-code","type","text","placeholder","Game code",3,"keydown.enter","ngModelChange","ngModel"],[3,"user","oneRoundChecked","twoRoundChecked","penaltyChecked"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1),Z(2,"img",2),y(),m(3,"div",3)(4,"div",4),W(5,m7,1,1,"input",5)(6,y7,2,1,"p",6),m(7,"div",7)(8,"button",8),U("click",function(){return i.createPrivateGame(0)}),C(9,"Start a new game"),y(),m(10,"button",8),U("click",function(){return i.toggleJoinCodeInput()}),C(11,"Join game by code"),y()(),m(12,"div",7)(13,"div",9)(14,"div")(15,"input",10),Ve("ngModelChange",function(s){return He(i.oneRoundChecked,s)||(i.oneRoundChecked=s),s}),U("change",function(){return i.twoRoundChecked=!i.oneRoundChecked}),y(),m(16,"label",11),C(17,"1 Round"),y(),m(18,"input",12),Ve("ngModelChange",function(s){return He(i.twoRoundChecked,s)||(i.twoRoundChecked=s),s}),U("change",function(){return i.oneRoundChecked=!i.twoRoundChecked}),y(),m(19,"label",13),C(20,"2 Rounds"),y()(),m(21,"div")(22,"input",14),Ve("ngModelChange",function(s){return He(i.penaltyChecked,s)||(i.penaltyChecked=s),s}),y(),m(23,"label",15),C(24,"Penalty for incorrect answers"),y()(),m(25,"div")(26,"button",16),U("click",function(){return i.modal.displayConfig()}),C(27,"+"),y(),m(28,"span"),C(29," Advanced options"),y()()(),m(30,"div"),W(31,_7,1,1,"input",17),y()()(),Z(32,"hr"),m(33,"div",18)(34,"button",8),U("click",function(){return i.createPrivateGame(2)}),C(35,"Play against bots"),y(),m(36,"p"),C(37,"No one to play with right now? Play against the T-Rex bots."),y()(),Z(38,"hr"),m(39,"button",8),U("click",function(){return i.rejoin()}),C(40,"Disconnected? Click to rejoin"),y()()(),W(41,v7,1,4,"app-config",19)),2&r&&(_(5),S("ngIf",!i.user.authenticated),_(),S("ngIf",i.user.authenticated),_(9),je("ngModel",i.oneRoundChecked),_(3),je("ngModel",i.twoRoundChecked),_(4),je("ngModel",i.penaltyChecked),_(9),S("ngIf",i.showJoinCodeInput),_(10),S("ngIf",i.modal.showConfig()))},dependencies:[vt,Fn,oc,Zn,Ln,g7],styles:[".join-container-wrapper[_ngcontent-%COMP%]{gap:96px;align-items:center;justify-content:center}.join-container-wrapper[_ngcontent-%COMP%]   .graphic-container[_ngcontent-%COMP%], .join-container-wrapper[_ngcontent-%COMP%]   .join-container[_ngcontent-%COMP%]{flex:0 0 auto}@media (max-width: 768px){.join-container-wrapper[_ngcontent-%COMP%]{flex-direction:column}}.graphic-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:400px;max-height:500px;width:auto;height:auto;object-fit:contain}@media (max-width: 768px){.graphic-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:300px}}.join-container[_ngcontent-%COMP%]{gap:30px;margin:0!important;margin-top:calc(var(--header-height) + 30px)!important}.join-container[_ngcontent-%COMP%]   .gap15[_ngcontent-%COMP%]{gap:15px}.join-container[_ngcontent-%COMP%]   .game-inputs[_ngcontent-%COMP%]{gap:5px}.join-container[_ngcontent-%COMP%]   .game-inputs[_ngcontent-%COMP%]   #advanced-options[_ngcontent-%COMP%]{padding:1px 5px}.join-container[_ngcontent-%COMP%]   #game-code[_ngcontent-%COMP%]{width:calc(100% - 20px)}.join-container[_ngcontent-%COMP%]   #bots-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;margin-bottom:0}.join-container[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{margin:0}"]})}}return e})(),mO=(()=>{class e{constructor(t,r){this.api=t,this.modal=r}ngOnInit(){this.api.GetAnalytics().subscribe(t=>{this.gamesPlayed=t.gamesPlayed,this.firstRoundScore=t.firstRoundScore,this.secondRoundScore=t.secondRoundScore,this.firstRoundAnsRate=t.firstRoundAnsRate,this.firstRoundCorrRate=t.firstRoundCorrRate,this.secondRoundAnsRate=t.secondRoundAnsRate,this.secondRoundCorrRate=t.secondRoundCorrRate})}static{this.\u0275fac=function(r){return new(r||e)(D(uo),D(yn))}}static{this.\u0275cmp=$e({type:e,selectors:[["app-analytics"]],decls:33,vars:7,template:function(r,i){1&r&&(m(0,"div")(1,"p"),C(2),y(),m(3,"p"),C(4,"Average 1"),m(5,"sup"),C(6,"st"),y(),C(7),y(),m(8,"p"),C(9,"Average 2"),m(10,"sup"),C(11,"nd"),y(),C(12),y(),m(13,"p"),C(14,"1"),m(15,"sup"),C(16,"st"),y(),C(17),y(),m(18,"p"),C(19,"2"),m(20,"sup"),C(21,"nd"),y(),C(22),y(),m(23,"p"),C(24,"1"),m(25,"sup"),C(26,"st"),y(),C(27),y(),m(28,"p"),C(29,"2"),m(30,"sup"),C(31,"nd"),y(),C(32),y()()),2&r&&(_(2),be("Games played: ",i.gamesPlayed,""),_(5),be(" round score: $",i.firstRoundScore,""),_(5),be(" round score: $",i.secondRoundScore,""),_(5),be(" round buzz-in rate: ",i.firstRoundAnsRate,"%"),_(5),be(" round buzz-in rate: ",i.secondRoundAnsRate,"%"),_(5),be(" round correctness rate: ",i.firstRoundCorrRate,"%"),_(5),be(" round correctness rate: ",i.secondRoundCorrRate,"%"))}})}}return e})();function w7(e,n){if(1&e&&(m(0,"span"),C(1),y()),2&e){const t=k().$implicit;_(),Oo("",t.correctRate,"% (",t.correct,"/",t.answers,")")}}function C7(e,n){if(1&e&&(m(0,"span"),C(1),y()),2&e){const t=k().$implicit;_(),Oo("",t.winRate,"% (",t.wins.toLocaleString(),"-",(t.games-t.wins).toLocaleString(),")")}}function b7(e,n){if(1&e&&(m(0,"span"),C(1),y()),2&e){const t=k().$implicit;_(),Ne(t.wins.toLocaleString())}}function E7(e,n){if(1&e&&(m(0,"span"),C(1),y()),2&e){const t=k().$implicit;_(),Ne(t.games.toLocaleString())}}function D7(e,n){if(1&e&&(m(0,"span"),C(1),y()),2&e){const t=k().$implicit;_(),be("$",t.points.toLocaleString(),"")}}function S7(e,n){if(1&e&&(m(0,"span"),C(1),y()),2&e){const t=k().$implicit;_(),Ne(t.correct.toLocaleString())}}function M7(e,n){if(1&e&&(m(0,"span"),C(1),y()),2&e){const t=k().$implicit;_(),Ne(t.answers.toLocaleString())}}function I7(e,n){if(1&e&&(m(0,"span"),C(1),y()),2&e){const t=k().$implicit;_(),be("$",t.maxPoints.toLocaleString(),"")}}function T7(e,n){if(1&e&&(m(0,"span"),C(1),y()),2&e){const t=k().$implicit;_(),Ne(t.maxCorrect.toLocaleString())}}function A7(e,n){if(1&e){const t=ge();m(0,"div",13)(1,"div",14),Z(2,"img",15),y(),m(3,"div",16),U("click",function(){const i=z(t).$implicit;return G(k().router.navigate(["/profile/"+i.displayName]))}),C(4),y(),m(5,"div",17),W(6,w7,2,3,"span",18)(7,C7,2,3,"span",18)(8,b7,2,1,"span",18)(9,E7,2,1,"span",18)(10,D7,2,1,"span",18)(11,S7,2,1,"span",18)(12,M7,2,1,"span",18)(13,I7,2,1,"span",18)(14,T7,2,1,"span",18),y()()}if(2&e){const t=n.$implicit,r=k();_(2),S("src",t.imgUrl,Ms),_(2),be(" ",t.displayName," "),_(2),S("ngIf","correct_rate"==r.leaderboardType),_(),S("ngIf","win_rate"==r.leaderboardType),_(),S("ngIf","wins"==r.leaderboardType),_(),S("ngIf","games"==r.leaderboardType),_(),S("ngIf","points"==r.leaderboardType),_(),S("ngIf","correct"==r.leaderboardType),_(),S("ngIf","answers"==r.leaderboardType),_(),S("ngIf","max_points"==r.leaderboardType),_(),S("ngIf","max_correct"==r.leaderboardType)}}let P7=(()=>{class e{constructor(t,r,i){this.api=t,this.modal=r,this.router=i,this.leaderboardType="correct_rate"}ngOnInit(){var t=this;return w(function*(){yield t.updateLeaderboard()})()}updateLeaderboard(){var t=this;return w(function*(){let{leaderboard:r,err:i}=yield t.api.GetLeaderboard(t.leaderboardType);i?t.modal.displayMessage("Uh oh, we were unable to get the leaderboards right now. Please try again later."):t.leaderboard=r})()}static{this.\u0275fac=function(r){return new(r||e)(D(uo),D(yn),D(Yt))}}static{this.\u0275cmp=$e({type:e,selectors:[["app-leaderboards"]],decls:27,vars:2,consts:[["id","leaderboards-container",1,"flex-row"],[1,"analytics-panel"],[3,"ngModelChange","change","ngModel"],["value","correct_rate"],["value","win_rate"],["value","wins"],["value","games"],["value","points"],["value","correct"],["value","max_points"],["value","max_correct"],["id","leaderboard",1,"flex-column"],["class","player-container flex-row",4,"ngFor","ngForOf"],[1,"player-container","flex-row"],[1,"center-vert",2,"flex","0"],["alt","",3,"src"],[1,"leader-name","center-vert","leader-text",2,"margin-right","2em","word-break","break-word",3,"click"],[1,"center-vert","leader-text"],[4,"ngIf"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"h2"),C(3,"Leaderboards"),y(),m(4,"select",2),Ve("ngModelChange",function(s){return He(i.leaderboardType,s)||(i.leaderboardType=s),s}),U("change",function(){return i.updateLeaderboard()}),m(5,"option",3),C(6,"By % correct answers"),y(),m(7,"option",4),C(8,"By win %"),y(),m(9,"option",5),C(10,"By # of wins"),y(),m(11,"option",6),C(12,"By # of games"),y(),m(13,"option",7),C(14,"By total points (all-time)"),y(),m(15,"option",8),C(16,"By correct answers (all-time)"),y(),m(17,"option",9),C(18,"By total points (1 game)"),y(),m(19,"option",10),C(20,"By correct answers (1 game)"),y()(),m(21,"div",11),W(22,A7,15,11,"div",12),y()(),m(23,"div",1)(24,"h2"),C(25,"Analytics"),y(),Z(26,"app-analytics"),y()()),2&r&&(_(4),je("ngModel",i.leaderboardType),_(18),S("ngForOf",i.leaderboard))},dependencies:[kr,vt,Ey,Sy,uc,Zn,Ln,mO],styles:["#leaderboards-container[_ngcontent-%COMP%]{margin-top:calc(var(--header-height));padding:2em;gap:1em;min-height:calc(100vh - var(--header-height) - 4em)}#leaderboards-container[_ngcontent-%COMP%]   .analytics-panel[_ngcontent-%COMP%]{border:1px solid var(--jeopardy-blue);border-radius:1em;background-color:var(--jeopardy-lightblue);padding:1.5em 2em}#leaderboards-container[_ngcontent-%COMP%]   .analytics-panel[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0}#leaderboards-container[_ngcontent-%COMP%]   .analytics-panel[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{margin-top:1em;padding:.25em;border-radius:5px}#leaderboards-container[_ngcontent-%COMP%]   #leaderboard[_ngcontent-%COMP%]{margin-top:1em}#leaderboards-container[_ngcontent-%COMP%]   #leaderboard[_ngcontent-%COMP%]   .player-container[_ngcontent-%COMP%]{border-bottom:1px solid var(--jeopardy-blue);padding:.5em}#leaderboards-container[_ngcontent-%COMP%]   #leaderboard[_ngcontent-%COMP%]   .player-container[_ngcontent-%COMP%]   .center-vert[_ngcontent-%COMP%]{display:flex;align-items:center}#leaderboards-container[_ngcontent-%COMP%]   #leaderboard[_ngcontent-%COMP%]   .player-container[_ngcontent-%COMP%]   .leader-text[_ngcontent-%COMP%]{font-size:1.5em}#leaderboards-container[_ngcontent-%COMP%]   #leaderboard[_ngcontent-%COMP%]   .player-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:2.5em;height:2.5em;object-fit:cover;border-radius:50%;border:1px solid black;margin-right:1em}#leaderboards-container[_ngcontent-%COMP%]   #leaderboard[_ngcontent-%COMP%]   .player-container[_ngcontent-%COMP%]   .leader-name[_ngcontent-%COMP%]:hover{text-decoration:underline;cursor:pointer}#leaderboards-container[_ngcontent-%COMP%]   #leaderboard[_ngcontent-%COMP%]   .player-container[_ngcontent-%COMP%]:first-child{border-top:1px solid var(--jeopardy-blue)}#leaderboards-container[_ngcontent-%COMP%]   app-analytics[_ngcontent-%COMP%]{font-size:1.5em}"]})}}return e})(),O7=(()=>{class e{constructor(t,r,i,o,s,a){this.route=t,this.router=r,this.api=i,this.jwt=o,this.modal=s,this.auth=a,this.joinCode=this.route.snapshot.paramMap.get("joinCode")??""}ngOnInit(){this.auth.user.subscribe(t=>{this.user=t,this.user.authenticated&&this.joinGame()})}joinGame(){this.api.JoinGameByCode(this.user.name,this.user.imgUrl,this.user.email,this.joinCode).subscribe({next:t=>{this.jwt.SetJWT(t.token),this.router.navigate([`/game/${t.game.name}`])},error:t=>{this.modal.displayMessage(0!=t.status?t.error.message:lo)}})}static{this.\u0275fac=function(r){return new(r||e)(D(Ri),D(Yt),D(uo),D(Jo),D(yn),D(Ko))}}static{this.\u0275cmp=$e({type:e,selectors:[["app-link-join"]],decls:5,vars:1,consts:[[1,"join-container","flex-column"],["type","text","placeholder","Enter your name",3,"ngModelChange","ngModel"],[1,"flex-row"],[3,"click"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"input",1),Ve("ngModelChange",function(s){return He(i.user.name,s)||(i.user.name=s),s}),y(),m(2,"div",2)(3,"button",3),U("click",function(){return i.joinGame()}),C(4,"Join game"),y()()()),2&r&&(_(),je("ngModel",i.user.name))},dependencies:[Fn,Zn,Ln],styles:[".join-container[_ngcontent-%COMP%]{gap:15px}"]})}}return e})();const yO={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let Cv;const R7=new Uint8Array(16),on=[];for(let e=0;e<256;++e)on.push((e+256).toString(16).slice(1));const x7=function N7(e,n,t){if(yO.randomUUID&&!n&&!e)return yO.randomUUID();const r=(e=e||{}).random??e.rng?.()??function k7(){if(!Cv){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Cv=crypto.getRandomValues.bind(crypto)}return Cv(R7)}();if(r.length<16)throw new Error("Random bytes length must be >= 16");if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,n){if((t=t||0)<0||t+16>n.length)throw new RangeError(`UUID byte range ${t}:${t+15} is out of buffer bounds`);for(let i=0;i<16;++i)n[t+i]=r[i];return n}return function _O(e,n=0){return(on[e[n+0]]+on[e[n+1]]+on[e[n+2]]+on[e[n+3]]+"-"+on[e[n+4]]+on[e[n+5]]+"-"+on[e[n+6]]+on[e[n+7]]+"-"+on[e[n+8]]+on[e[n+9]]+"-"+on[e[n+10]]+on[e[n+11]]+on[e[n+12]]+on[e[n+13]]+on[e[n+14]]+on[e[n+15]]).toLowerCase()}(r)};let vO=(()=>{class e{constructor(t){this.supabase=t,this.UserImgs="jeopardy_user_imgs"}UploadImg(t,r){var i=this;return w(function*(){let{data:o,error:s}=yield i.supabase.Storage().from(i.UserImgs).upload(`${t}/${x7()}-${r.name}`,r);return s?(console.error(s),{error:s,url:""}):{error:null,url:`${jt_supabaseUrl}/storage/v1/object/public/${i.UserImgs}/${o?.path}`}})()}static{this.\u0275fac=function(r){return new(r||e)(Y(aO))}}static{this.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function F7(e,n){if(1&e){const t=ge();m(0,"div")(1,"input",10,0),U("change",function(i){return z(t),G(k(3).changeProfilePicture(i))}),y()()}}function L7(e,n){if(1&e){const t=ge();m(0,"div")(1,"p",9),U("click",function(){z(t);const i=k(2);return G(i.showImgUpload=!i.showImgUpload)}),C(2,"Change profile picture"),y(),W(3,F7,3,0,"div",5),y()}if(2&e){const t=k(2);_(3),S("ngIf",t.showImgUpload)}}function j7(e,n){if(1&e){const t=ge();m(0,"div")(1,"ion-icon",13),U("click",function(){return z(t),G(k(3).showEditName(!0))}),y()()}}function V7(e,n){if(1&e&&(m(0,"div",11)(1,"p",12),C(2),y(),W(3,j7,2,0,"div",5),y()),2&e){const t=k(2);_(2),Ne(t.profileUser.name),_(),S("ngIf",t.user.email==t.profileUser.email)}}function U7(e,n){if(1&e){const t=ge();m(0,"div",11)(1,"input",14),Ve("ngModelChange",function(i){z(t);const o=k(2);return He(o.editedUserName,i)||(o.editedUserName=i),G(i)}),y(),m(2,"div")(3,"ion-icon",15),U("click",function(){return z(t),G(k(2).showEditName(!1))}),y()(),m(4,"div")(5,"ion-icon",16),U("click",function(){return z(t),G(k(2).updateUserName())}),y()()()}if(2&e){const t=k(2);_(),je("ngModel",t.editedUserName)}}function B7(e,n){if(1&e){const t=ge();m(0,"div")(1,"input",17),Ve("ngModelChange",function(i){z(t);const o=k(2);return He(o.privateProfile,i)||(o.privateProfile=i),G(i)}),U("change",function(){return z(t),G(k(2).updateProfileVisibility(!1))}),y(),m(2,"label",18),C(3,"Private"),y(),m(4,"input",19),Ve("ngModelChange",function(i){z(t);const o=k(2);return He(o.publicProfile,i)||(o.publicProfile=i),G(i)}),U("change",function(){return z(t),G(k(2).updateProfileVisibility(!0))}),y(),m(5,"label",20),C(6,"Public"),y()()}if(2&e){const t=k(2);_(),je("ngModel",t.privateProfile),_(3),je("ngModel",t.publicProfile)}}function $7(e,n){if(1&e){const t=ge();m(0,"div")(1,"button",21),U("click",function(){return z(t),G(k(3).sendPasswordResetEmail())}),m(2,"div",22)(3,"div"),Z(4,"ion-icon",23),y(),m(5,"p"),C(6,"Send password reset email"),y()()()()}}function H7(e,n){if(1&e){const t=ge();m(0,"div")(1,"p",9),U("click",function(){z(t);const i=k(2);return G(i.showPasswordReset=!i.showPasswordReset)}),C(2,"Reset password"),y(),W(3,$7,7,0,"div",5),y()}if(2&e){const t=k(2);_(3),S("ngIf",t.showPasswordReset)}}function z7(e,n){1&e&&(m(0,"div")(1,"p"),C(2,"No player analytics found. Play some games to start generating analytics."),y()())}function G7(e,n){if(1&e&&(m(0,"div",24)(1,"div")(2,"h2"),C(3,"Record"),y(),m(4,"p"),C(5),y()(),m(6,"div")(7,"h2"),C(8,"All-time Totals"),y(),m(9,"p"),C(10),y(),m(11,"p"),C(12),y()(),m(13,"div")(14,"h2"),C(15,"All-time Highs"),y(),m(16,"p"),C(17),y(),m(18,"p"),C(19),y()()()),2&e){const t=k(2);_(5),Oo("",t.analytics.wins.toLocaleString(),"-",(t.analytics.games-t.analytics.wins).toLocaleString()," (",t.analytics.winPercentage,"%)"),_(5),be("Points: $",t.analytics.points.toLocaleString(),""),_(2),Oo("Correct answers: ",t.analytics.correct.toLocaleString(),"/",t.analytics.answers.toLocaleString()," (",t.analytics.correctPercentage,"%)"),_(5),be("Points: $",t.analytics.maxPoints.toLocaleString(),""),_(2),be("Correct answers: ",t.analytics.maxCorrect.toLocaleString(),"")}}function q7(e,n){if(1&e&&(m(0,"div",2)(1,"div",3)(2,"div"),Z(3,"img",4),W(4,L7,4,1,"div",5),y(),W(5,V7,4,2,"div",6)(6,U7,6,1,"div",6),m(7,"div")(8,"p"),C(9),y()(),m(10,"div")(11,"p"),C(12),y()(),W(13,B7,7,2,"div",5)(14,H7,4,1,"div",5),y(),m(15,"div",7),W(16,z7,3,0,"div",5)(17,G7,20,9,"div",8),y()()),2&e){const t=k();_(3),S("src",t.profileUser.imgUrl,Ms),_(),S("ngIf",t.user.email==t.profileUser.email),_(),S("ngIf",!t.editName),_(),S("ngIf",t.editName&&t.user.email==t.profileUser.email),_(3),Ne(t.profileUser.email),_(3),be("Date joined: ",t.profileUser.dateJoined,""),_(),S("ngIf",t.user.email==t.profileUser.email),_(),S("ngIf",t.user.email==t.profileUser.email),_(2),S("ngIf",t.playSomeGames&&t.user.email==t.profileUser.email),_(),S("ngIf",t.analytics)}}let wO=(()=>{class e{constructor(t,r,i,o,s){this.auth=t,this.storage=r,this.modal=i,this.api=o,this.route=s,this.showImgUpload=!1,this.showPasswordReset=!1,this.editName=!1,this.editedUserName="",this.playSomeGames=!1,this.auth.user.subscribe(a=>{this.user=a,this.editedUserName=this.user.name}),this.profileName=this.route.snapshot.paramMap.get("name")??""}ngOnInit(){var t=this;return w(function*(){if(!(yield t.auth.GetUser())||t.profileName){if(t.profileName&&t.profileName!=t.user.name){let{user:r,err:i}=yield t.api.GetUserByName(t.profileName);if(i)return void t.modal.displayMessage("Sorry, there is no user with this name and a public profile.");t.profileUser=r}else t.profileUser=t.user;t.api.GetPlayerAnalytics(t.profileUser.email).subscribe({next:r=>{t.analytics=r,t.analytics.winPercentage=Math.round(r.wins/r.games*1e3)/10,t.analytics.correctPercentage=Math.round(r.correct/r.answers*1e3)/10},error:r=>{console.error(r),t.playSomeGames=!0,t.analytics={wins:0,games:0,points:0,answers:0,correct:0,maxPoints:0,maxCorrect:0,winPercentage:0,correctPercentage:0}}})}else t.modal.displayMessage("You must be logged in to view your profile.")})()}changeProfilePicture(t){var r=this;return w(function*(){let{url:i,error:o}=yield r.storage.UploadImg(r.user.email,t.target.files[0]);o?r.modal.displayMessage("Uh oh, there was an error upadting your profile picture. Please try again later."):(o=yield r.auth.UpdateUserImg(i),o?r.modal.displayMessage("Uh oh, there was an error upadting your profile picture. Please try again later."):(r.showImgUpload=!1,yield r.auth.GetUser(),r.profileUser=r.user))})()}sendPasswordResetEmail(){var t=this;return w(function*(){(yield t.auth.SendPasswordResetEmail(t.user.email))?t.modal.displayMessage("Uh oh, there was an error restting your password. Please try again later."):t.modal.displayMessage("Password reset email sent. Please check your email.")})()}showEditName(t){t||(this.editedUserName=this.user.name),this.editName=t}updateUserName(){var t=this;return w(function*(){(yield t.auth.UpdateUserName(t.editedUserName))?t.modal.displayMessage("Uh oh, there was an error updating your name. Please try again later."):(t.profileUser.name=t.editedUserName,t.showEditName(!1))})()}updateProfileVisibility(t){var r=this;return w(function*(){(yield r.auth.UpdateProfileVisibility(t))?r.modal.displayMessage("Uh oh, there was an error updating your profile visibility. Please try again later."):yield r.auth.GetUser()})()}get publicProfile(){return this.user.public}get privateProfile(){return!this.user.public}set publicProfile(t){this.user.public=t}set privateProfile(t){this.user.public=!t}static{this.\u0275fac=function(r){return new(r||e)(D(Ko),D(vO),D(yn),D(uo),D(Ri))}}static{this.\u0275cmp=$e({type:e,selectors:[["app-profile"]],decls:1,vars:1,consts:[["userImg",""],["id","profile-container","class","flex-row",4,"ngIf"],["id","profile-container",1,"flex-row"],["id","profile-side-panel",1,"flex-column","profile-panel"],["alt","",3,"src"],[4,"ngIf"],["class","profile-username",4,"ngIf"],["id","profile-main-panel",1,"profile-panel","flex-column"],["id","player-analytics","class","flex-column",4,"ngIf"],[1,"link",3,"click"],["type","file","accept",".jpg, .jpeg, .png",3,"change"],[1,"profile-username"],[2,"font-size","2em","max-width","10em","word-break","break-word"],["name","pencil-outline",3,"click"],["type","text",3,"ngModelChange","ngModel"],["name","close-outline",3,"click"],["name","checkmark-outline",3,"click"],["id","private-profile","type","checkbox",3,"ngModelChange","change","ngModel"],["for","private-profile",2,"margin-right","1em"],["id","public-profile","type","checkbox",3,"ngModelChange","change","ngModel"],["for","public-profile"],[3,"click"],[1,"icon-text"],["name","paper-plane-outline"],["id","player-analytics",1,"flex-column"]],template:function(r,i){1&r&&W(0,q7,18,10,"div",1),2&r&&S("ngIf",i.profileUser&&(i.profileUser.public||i.profileUser.email==i.user.email))},dependencies:[vt,Fn,oc,Zn,Ln],styles:["#profile-container[_ngcontent-%COMP%]{margin-top:calc(var(--header-height));padding:2em;gap:.5em;min-height:calc(100vh - var(--header-height) - 4em)}#profile-container[_ngcontent-%COMP%]   #profile-side-panel[_ngcontent-%COMP%]{flex-grow:0;gap:1em}#profile-container[_ngcontent-%COMP%]   #profile-side-panel[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{flex-grow:0}#profile-container[_ngcontent-%COMP%]   #profile-side-panel[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}#profile-container[_ngcontent-%COMP%]   #profile-side-panel[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:20em;width:20em;object-fit:cover;border-radius:50%;border:.75em solid lightgrey}#profile-container[_ngcontent-%COMP%]   #profile-side-panel[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], #profile-container[_ngcontent-%COMP%]   #profile-side-panel[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.5em}#profile-container[_ngcontent-%COMP%]   #profile-side-panel[_ngcontent-%COMP%]   .profile-username[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:1em;width:max-content}#profile-container[_ngcontent-%COMP%]   #profile-side-panel[_ngcontent-%COMP%]   .profile-username[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{flex-grow:1}#profile-container[_ngcontent-%COMP%]   #profile-side-panel[_ngcontent-%COMP%]   .profile-username[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{flex-grow:0}#profile-container[_ngcontent-%COMP%]   #profile-side-panel[_ngcontent-%COMP%]   .profile-username[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]:hover{transform:scale(1.25);cursor:pointer}#profile-container[_ngcontent-%COMP%]   #profile-side-panel[_ngcontent-%COMP%]   .profile-username[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   ion-icon[name=close-outline][_ngcontent-%COMP%], #profile-container[_ngcontent-%COMP%]   #profile-side-panel[_ngcontent-%COMP%]   .profile-username[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   ion-icon[name=checkmark-outline][_ngcontent-%COMP%]{font-size:1.5em;font-weight:700}#profile-container[_ngcontent-%COMP%]   #profile-side-panel[_ngcontent-%COMP%]   .profile-username[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   ion-icon[name=close-outline][_ngcontent-%COMP%]:hover{color:red}#profile-container[_ngcontent-%COMP%]   #profile-side-panel[_ngcontent-%COMP%]   .profile-username[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   ion-icon[name=checkmark-outline][_ngcontent-%COMP%]:hover{color:green}#profile-container[_ngcontent-%COMP%]   #profile-side-panel[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{margin-bottom:.5em}#profile-container[_ngcontent-%COMP%]   #profile-main-panel[_ngcontent-%COMP%]{flex-grow:1;gap:1em}#profile-container[_ngcontent-%COMP%]   #profile-main-panel[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{flex-grow:0}#profile-container[_ngcontent-%COMP%]   #profile-main-panel[_ngcontent-%COMP%]   #player-analytics[_ngcontent-%COMP%]{gap:2em}#profile-container[_ngcontent-%COMP%]   #profile-main-panel[_ngcontent-%COMP%]   #player-analytics[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], #profile-container[_ngcontent-%COMP%]   #profile-main-panel[_ngcontent-%COMP%]   #player-analytics[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5em;margin:0}#profile-container[_ngcontent-%COMP%]   #profile-main-panel[_ngcontent-%COMP%]   #player-analytics[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5em 0}#profile-container[_ngcontent-%COMP%]   .profile-panel[_ngcontent-%COMP%]{border:1px solid var(--jeopardy-blue);background-color:var(--jeopardy-lightblue);border-radius:1em;padding:2em}"]})}}return e})();const W7=[{path:"",component:gO},{path:"join",component:gO},{path:"join/:joinCode",component:O7},{path:"game/:gameName",component:a7},{path:"warning",component:(()=>{class e{constructor(){}ngOnInit(){this.message=history.state.message}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=$e({type:e,selectors:[["app-warning"]],decls:2,vars:1,template:function(r,i){1&r&&(m(0,"div"),C(1),y()),2&r&&(_(),be(" ",i.message,"\n"))},styles:["div[_ngcontent-%COMP%]{margin-top:calc(var(--header-height) + 15px);margin-left:15px}"]})}}return e})()},{path:"profile",component:wO},{path:"profile/:name",component:wO},{path:"password-reset",component:x6},{path:"leaderboards",component:P7}];let K7=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=br({type:e})}static{this.\u0275inj=lr({imports:[vP.forRoot(W7),vP]})}}return e})(),J7=(()=>{class e{constructor(t){this.modal=t}static{this.\u0275fac=function(r){return new(r||e)(D(yn))}}static{this.\u0275cmp=$e({type:e,selectors:[["app-instructions"]],decls:39,vars:0,consts:[[1,"modal-container"],[1,"modal-message"],["id","instructions"],["name","information-circle-outline"],["target","_blank","href","https://docs.google.com/forms/d/e/1FAIpQLSdzHFumIhdsgNksr8lDUO3hHhVwaIqeO9asIhBWsroNfYZW4Q/viewform"],["id","exit-instructions"],[3,"click"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"h3"),C(3,"T-Rex Trivia Instructions"),y(),m(4,"div",2)(5,"p"),C(6," This is a multiplayer Jeopardy game. It should be familiar to anyone who has seen it on TV, but there are a few differences to make it playable online. Please take a moment to carefully read the instructions below, paying close attention to the "),m(7,"b"),C(8,"bolded"),y(),C(9," sections. If you ever need to refer to these instructions again, you can click the "),Z(10,"ion-icon",3),C(11," icon in the top right corner of the page. "),y(),m(12,"p"),C(13," Picking: Players have 30 seconds to pick a question. If no question is picked, the lowest value question will be chosen."),y(),m(14,"p"),C(15,"Buzzing: Players have 30 seconds to read the question and buzz in. If all 3 players pass or answer incorrectly, the question will be skipped."),y(),m(16,"p")(17,"b"),C(18,"Answering"),y(),C(19,": Players have 15 seconds to type in an answer after buzzing in. "),m(20,"b"),C(21,"Do not"),y(),C(22,' phrase your answer in the form of a question like on TV. For example, answer "This city is the capital of Germany" with "Berlin" rather than "What is Berlin?" '),y(),m(23,"p")(24,"b"),C(25,"Disputing"),y(),C(26,": If your answer was marked incorrect and you believe it was correct, you can dispute the question. This will give each player 1 minute to review the question and vote on whether or not the answer should have been marked as correct. If the question is overturned, then the players' scores will be adjusted accordingly. "),y(),m(27,"p"),C(28,"Wagering: Players have 30 seconds to wager during Double and Final Jeopardy. If no wager is given, the lowest allowed wager will be chosen."),y(),m(29,"p")(30,"b"),C(31,"Note"),y(),C(32,": This game is still in development. If you encounter any issues or have any suggestions, please provide feedback "),m(33,"a",4),C(34,"here"),y(),C(35,". All responses are anonymous. "),y()()(),m(36,"div",5)(37,"button",6),U("click",function(){return i.modal.hideInstructions()}),C(38," Continue "),y()()())},styles:["#instructions[_ngcontent-%COMP%]{max-height:450px;overflow-y:auto}#instructions[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{margin-bottom:0}#exit-instructions[_ngcontent-%COMP%]{margin-top:1em}"]})}}return e})();function Q7(e,n){if(1&e&&(m(0,"p"),C(1),y()),2&e){const t=k(2);_(),be("The following adjustments will be made for players who answered after ",t.game.DisputerName(),"")}}function Y7(e,n){if(1&e&&(m(0,"li"),C(1),y()),2&e){const t=n.$implicit,r=k(2);_(),Oo(" ",t.player.name," will have $",r.game.CurValue()," ",t.correct?"removed from":"added to"," their score ")}}function Z7(e,n){if(1&e){const t=ge();m(0,"div",6)(1,"button",7),U("click",function(){return z(t),G(k(2).disputeQuestion(!0))}),C(2),y(),m(3,"button",7),U("click",function(){return z(t),G(k(2).disputeQuestion(!1))}),C(4),y()()}if(2&e){const t=k(2);_(2),be(" Yes, ",t.game.DisputerName(),"'s answer was correct. "),_(2),be(" No, ",t.game.DisputerName(),"'s answer was incorrect. ")}}function X7(e,n){1&e&&(m(0,"div")(1,"p"),C(2,"Waiting for other players to vote on the dispute..."),y()())}function eK(e,n){if(1&e&&(m(0,"div",1)(1,"div",2)(2,"h3"),C(3,"Dispute"),y(),m(4,"p"),C(5),y(),m(6,"p"),C(7),y(),W(8,Q7,2,1,"p",3),m(9,"ul"),W(10,Y7,2,3,"li",4),y(),m(11,"p"),C(12),y(),m(13,"p"),C(14),y(),m(15,"p"),C(16,"Official answer: "),m(17,"b"),C(18),y()(),m(19,"p"),C(20),m(21,"b"),C(22),y()(),m(23,"p"),C(24),y()(),W(25,Z7,5,2,"div",5)(26,X7,3,0,"div",3),y()),2&e){const t=k();_(5),be("",t.game.DisputerName()," has disputed the previous question."),_(2),bi("Overturning this question means ",t.game.DisputerName()," will be given the $",t.game.CurValue()," as if they had answered correctly."),_(),S("ngIf",t.game.AdjustedAnswers().length>0),_(2),S("ngForOf",t.game.AdjustedAnswers()),_(2),be("",t.game.DisputerName()," will also pick the next question."),_(2),be("Previous question: ",t.game.CurQuestion(),""),_(4),Ne(t.game.OfficialAnswer()),_(2),be("",t.game.DisputerName(),"'s answer: "),_(2),Ne(t.game.DisputerAnswer()),_(2),be("Should ",t.game.DisputerName(),"'s' answer have been marked as correct?"),_(),S("ngIf",t.player.CanDispute()),_(),S("ngIf",!t.player.CanDispute())}}let tK=(()=>{class e{constructor(t,r,i){this.game=t,this.player=r,this.websocket=i}disputeQuestion(t){this.player.CanDispute()&&(this.websocket.Send({state:this.game.State(),dispute:t}),this.player.SetCanDispute(!1))}static{this.\u0275fac=function(r){return new(r||e)(D(jn),D(mr),D(co))}}static{this.\u0275cmp=$e({type:e,selectors:[["app-dispute"]],decls:1,vars:1,consts:[["class","modal-container",4,"ngIf"],[1,"modal-container"],[1,"modal-message"],[4,"ngIf"],[4,"ngFor","ngForOf"],["class","flex-row","id","dispute-buttons",4,"ngIf"],["id","dispute-buttons",1,"flex-row"],[3,"click"]],template:function(r,i){1&r&&W(0,eK,27,13,"div",0),2&r&&S("ngIf",i.game.InDispute())},dependencies:[kr,vt],styles:["#dispute-buttons[_ngcontent-%COMP%]{gap:30px}"]})}}return e})(),nK=(()=>{class e{constructor(t){this.modal=t}static{this.\u0275fac=function(r){return new(r||e)(D(yn))}}static{this.\u0275cmp=$e({type:e,selectors:[["app-game-message"]],decls:7,vars:1,consts:[[1,"modal-container"],[1,"modal-message"],[3,"click"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"p"),C(3),y()(),m(4,"div")(5,"button",2),U("click",function(){return i.modal.hideGameMessage()}),C(6," Continue "),y()()()),2&r&&(_(3),Ne(i.modal.getGameMessage()))}})}}return e})();function rK(e,n){1&e&&Z(0,"ion-icon",9)}function iK(e,n){1&e&&Z(0,"ion-icon",10)}function oK(e,n){1&e&&Z(0,"ion-icon",11)}function sK(e,n){1&e&&Z(0,"ion-icon",12)}function aK(e,n){1&e&&(m(0,"h2"),C(1,"Correct!"),y())}function lK(e,n){1&e&&(m(0,"h2"),C(1,"Incorrect"),y())}function cK(e,n){if(1&e&&(m(0,"div")(1,"h2"),C(2,"Time's Up!"),y(),m(3,"p",13),C(4,"Correct answer: "),m(5,"b"),C(6),y()()()),2&e){const t=k();_(6),Ne(t.game.OfficialAnswer())}}function uK(e,n){1&e&&(m(0,"h2"),C(1,"Daily Double!"),y())}function dK(e,n){1&e&&(m(0,"div")(1,"h2"),C(2,"Happy Birthday Tera!"),y(),m(3,"p",14),C(4,"\u{1f382}\u{1f389}"),y()())}let hK=(()=>{class e{constructor(t,r,i){this.game=t,this.modal=r,this.sound=i,this.correctAudio=new Audio("../../../assets/correct.mp3"),this.wrongAudio=new Audio("../../../assets/wrong.mp3"),this.dailyDoubleAudio=new Audio("../../../assets/daily_double.mp3")}ngOnInit(){this.playSound();const t=this.isBirthday()?3e3:1e3;this.hideTimeout=setTimeout(()=>{this.modal.hideAnswerFeedback()},t)}ngOnDestroy(){this.hideTimeout&&clearTimeout(this.hideTimeout)}playSound(){this.sound.isSoundEnabled()&&(this.isDailyDouble()?this.dailyDoubleAudio.play().catch(t=>console.log("Audio play failed:",t)):this.isCorrect()?this.correctAudio.play().catch(t=>console.log("Audio play failed:",t)):this.isBirthday()||this.wrongAudio.play().catch(t=>console.log("Audio play failed:",t)))}isCorrect(){return"correct"===this.modal.getAnswerFeedbackType()}isIncorrect(){return"incorrect"===this.modal.getAnswerFeedbackType()}isTimeout(){return"timeout"===this.modal.getAnswerFeedbackType()}isDailyDouble(){return"daily-double"===this.modal.getAnswerFeedbackType()}isBirthday(){return"birthday"===this.modal.getAnswerFeedbackType()}static{this.\u0275fac=function(r){return new(r||e)(D(jn),D(yn),D(_v))}}static{this.\u0275cmp=$e({type:e,selectors:[["app-answer-feedback"]],decls:13,vars:17,consts:[[1,"feedback-container"],[1,"feedback-content"],[1,"feedback-icon"],["name","checkmark-circle",4,"ngIf"],["name","close-circle",4,"ngIf"],["name","star",4,"ngIf"],["name","cake",4,"ngIf"],[1,"feedback-text"],[4,"ngIf"],["name","checkmark-circle"],["name","close-circle"],["name","star"],["name","cake"],[1,"correct-answer"],[1,"birthday-emoji"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"div",2),W(3,rK,1,0,"ion-icon",3)(4,iK,1,0,"ion-icon",4)(5,oK,1,0,"ion-icon",5)(6,sK,1,0,"ion-icon",6),y(),m(7,"div",7),W(8,aK,2,0,"h2",8)(9,lK,2,0,"h2",8)(10,cK,7,1,"div",8)(11,uK,2,0,"h2",8)(12,dK,5,0,"div",8),y()()()),2&r&&(Js("correct",i.isCorrect())("incorrect",i.isIncorrect()||i.isTimeout())("daily-double",i.isDailyDouble())("birthday",i.isBirthday()),_(3),S("ngIf",i.isCorrect()),_(),S("ngIf",i.isIncorrect()||i.isTimeout()),_(),S("ngIf",i.isDailyDouble()),_(),S("ngIf",i.isBirthday()),_(2),S("ngIf",i.isCorrect()),_(),S("ngIf",i.isIncorrect()),_(),S("ngIf",i.isTimeout()),_(),S("ngIf",i.isDailyDouble()),_(),S("ngIf",i.isBirthday()))},dependencies:[vt],styles:[".feedback-container[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:1000;animation:_ngcontent-%COMP%_feedbackZoom 1s ease-out}@keyframes _ngcontent-%COMP%_feedbackZoom{0%{transform:translate(-50%,-50%) scale(.5);opacity:0}50%{transform:translate(-50%,-50%) scale(1.1);opacity:1}to{transform:translate(-50%,-50%) scale(1);opacity:1}}.feedback-content[_ngcontent-%COMP%]{background:#fff;border-radius:20px;padding:3em 4em;box-shadow:0 20px 60px #0000004d;text-align:center;min-width:400px}.feedback-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:6em;margin-bottom:.3em}.correct[_ngcontent-%COMP%]   .feedback-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#10b981}.correct[_ngcontent-%COMP%]   .feedback-content[_ngcontent-%COMP%]{border:4px solid #10b981}.correct[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#10b981}.incorrect[_ngcontent-%COMP%]   .feedback-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#ef4444}.incorrect[_ngcontent-%COMP%]   .feedback-content[_ngcontent-%COMP%]{border:4px solid #ef4444}.incorrect[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#ef4444}.daily-double[_ngcontent-%COMP%]   .feedback-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--jeopardy-yellow)}.daily-double[_ngcontent-%COMP%]   .feedback-content[_ngcontent-%COMP%]{border:4px solid var(--jeopardy-yellow);background:linear-gradient(135deg,#fffbeb,#fef3c7)}.daily-double[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#92400e;font-size:3em}.birthday[_ngcontent-%COMP%]   .feedback-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#ec4899}.birthday[_ngcontent-%COMP%]   .feedback-content[_ngcontent-%COMP%]{border:4px solid #ec4899;background:linear-gradient(135deg,#fdf2f8,#fce7f3)}.birthday[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#831843;font-size:3em}.birthday[_ngcontent-%COMP%]   .birthday-emoji[_ngcontent-%COMP%]{font-size:4em;margin:.3em 0 0;line-height:1}.feedback-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5em;margin:0 0 .3em;font-weight:700}.feedback-text[_ngcontent-%COMP%]   .correct-answer[_ngcontent-%COMP%]{font-size:1.3em;color:#333;margin:.5em 0 0}.feedback-text[_ngcontent-%COMP%]   .correct-answer[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{color:var(--jeopardy-blue)}"]})}}return e})();const fK=["userImg"],pK=["usernameInput"],gK=["emailInput"];function mK(e,n){1&e&&Z(0,"ion-icon",15)}function yK(e,n){1&e&&Z(0,"img",16),2&e&&S("src",k().uploadedImgUrl,Ms)}function _K(e,n){if(1&e){const t=ge();m(0,"div",17)(1,"input",18,2),U("change",function(i){return z(t),G(k().handleUserUpload(i))}),y()()}}function vK(e,n){if(1&e){const t=ge();m(0,"div",4)(1,"button",19),U("click",function(){return z(t),G(k().createAccount())}),C(2,"Create an account"),y(),m(3,"button",19),U("click",function(){return z(t),G(k().modal.hideRegister())}),C(4,"Exit"),y()()}}function wK(e,n){if(1&e&&(m(0,"div")(1,"p"),C(2),y()()),2&e){const t=k();_(2),be("Thanks for creating an account! A confirmation email has been sent to ",t.email,".")}}let CK=(()=>{class e{constructor(t,r,i){this.storage=t,this.auth=r,this.modal=i,this.uploadedImg=!1,this.imgUpload=!1,this.uploadedImgUrl=`${jt_supabaseUrl}/storage/v1/object/public/${this.storage.UserImgs}/anonymous-user.jpg`,this.email="",this.username="",this.registerDone=!1}showImgUpload(){this.imgUpload=!this.imgUpload}handleUserUpload(t){var r=this;return w(function*(){let i=t.target.files[0],{url:o,error:s}=yield r.storage.UploadImg("anon",i);if(s)return r.userImg.nativeElement.value="",r.userImg.nativeElement.style.border="1px solid red",void setTimeout(()=>{r.userImg.nativeElement.style.border="1px solid grey"},2e3);r.uploadedImg=!0,r.uploadedImgUrl=o})()}validUsername(){return this.username.length>0&&this.username.length<50}validEmail(){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(this.email)}usernameBorder(t){this.usernameInput.nativeElement.style.border=t}emailBorder(t){this.emailInput.nativeElement.style.border=t}createAccount(){var t=this;return w(function*(){let r=!1;if(t.validUsername()||(t.usernameBorder("1px solid red"),r=!0),t.validEmail()||(t.emailBorder("1px solid red"),r=!0),t.passwords.isValid()||(t.passwords.setBorder("1px solid red"),r=!0),r)return;let i=yield t.auth.SignUp(t.email,t.passwords.password,t.username,t.uploadedImgUrl);if(i)return console.error(i),void t.modal.displayMessage("Uh oh, we're not able to create new accounts right now. Please try again later.");t.usernameInput.nativeElement.disabled=!0,t.emailInput.nativeElement.disabled=!0,t.passwords.disableInput(),t.registerDone=!0})()}static{this.\u0275fac=function(r){return new(r||e)(D(vO),D(Ko),D(yn))}}static{this.\u0275cmp=$e({type:e,selectors:[["app-register"]],viewQuery:function(r,i){if(1&r&&(Or(fK,5),Or(pK,5),Or(gK,5),Or($h,5)),2&r){let o;dr(o=hr())&&(i.userImg=o.first),dr(o=hr())&&(i.usernameInput=o.first),dr(o=hr())&&(i.emailInput=o.first),dr(o=hr())&&(i.passwords=o.first)}},decls:18,vars:8,consts:[["usernameInput",""],["emailInput",""],["userImg",""],[1,"modal-container","flex-column"],[1,"flex-row"],[1,"flex-row",2,"flex-grow","1"],["type","text","placeholder","Username",3,"focus","ngModelChange","ngModel"],[1,"user-img",2,"flex-grow","0",3,"click"],["name","image-outline",4,"ngIf"],[3,"src",4,"ngIf"],["id","user-img-input",4,"ngIf"],["type","email","autocomplete","email","placeholder","Email",3,"focus","ngModelChange","ngModel"],[3,"inputFlexDirection"],["class","flex-row",4,"ngIf"],[4,"ngIf"],["name","image-outline"],[3,"src"],["id","user-img-input"],["type","file","accept",".jpg, .jpeg, .png",3,"change"],[3,"click"]],template:function(r,i){if(1&r){const o=ge();m(0,"div",3)(1,"h3"),C(2,"Create an account"),y(),m(3,"div",4)(4,"div",5)(5,"input",6,0),U("focus",function(){return z(o),G(i.usernameBorder("1px solid grey"))}),Ve("ngModelChange",function(a){return z(o),He(i.username,a)||(i.username=a),G(a)}),y()(),m(7,"div",7),U("click",function(){return z(o),G(i.showImgUpload())}),W(8,mK,1,0,"ion-icon",8)(9,yK,1,1,"img",9),y()(),W(10,_K,3,0,"div",10),m(11,"div",4)(12,"input",11,1),U("focus",function(){return z(o),G(i.emailBorder("1px solid grey"))}),Ve("ngModelChange",function(a){return z(o),He(i.email,a)||(i.email=a),G(a)}),y()(),m(14,"div"),Z(15,"app-new-password",12),y(),W(16,vK,5,0,"div",13)(17,wK,3,1,"div",14),y()}2&r&&(_(5),je("ngModel",i.username),_(3),S("ngIf",!i.uploadedImg),_(),S("ngIf",i.uploadedImg),_(),S("ngIf",i.imgUpload),_(2),je("ngModel",i.email),_(3),S("inputFlexDirection","flex-row"),_(),S("ngIf",!i.registerDone),_(),S("ngIf",i.registerDone))},dependencies:[vt,Fn,Zn,Ln,$h],styles:[".flex-column[_ngcontent-%COMP%], .flex-row[_ngcontent-%COMP%]{gap:1em}h3[_ngcontent-%COMP%]{margin:0}.user-img[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-width:2.5em}.user-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover, .user-img[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]:hover{transform:scale(1.1);cursor:pointer}.user-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:2.5em;height:2.5em;object-fit:cover;border-radius:50%;border:1px solid black}.user-img[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:2.5em}#user-img-input[_ngcontent-%COMP%]{align-self:flex-end}#user-img-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:.5em}"]})}}return e})();const bK=["emailInput"],EK=["passwordInput"];function DK(e,n){if(1&e){const t=ge();m(0,"ion-icon",16),U("click",function(){return z(t),G(k().showPassword(!0))}),y()}}function SK(e,n){if(1&e){const t=ge();m(0,"ion-icon",17),U("click",function(){return z(t),G(k().showPassword(!1))}),y()}}function MK(e,n){if(1&e){const t=ge();m(0,"button",18),U("click",function(){return z(t),G(k().sendPasswordResetEmail())}),m(1,"div",19)(2,"div"),Z(3,"ion-icon",20),y(),m(4,"p"),C(5,"Send password reset email"),y()()()}}function IK(e,n){if(1&e&&(m(0,"p"),C(1),y()),2&e){const t=k();_(),Ne(t.loginMessage)}}let TK=(()=>{class e{constructor(t,r){this.auth=t,this.modal=r,this.password="",this.email="",this.showEye=!0,this.loginMessage="",this.showSendReset=!1}emailBorder(t){this.emailInput.nativeElement.style.border=t}passwordsBorder(t){this.passwordInput.nativeElement.style.border=t}logIn(){var t=this;return w(function*(){let r=!1;if(t.validEmail()||(t.emailBorder("1px solid red"),r=!0),t.password||(t.passwordsBorder("1px solid red"),r=!0),!r){if(yield t.auth.SignInWithPassword(t.email,t.password))return t.loginMessage="Sorry, the email or password you entered is incorrect. Please try again.",t.emailBorder("1px solid red"),void t.passwordsBorder("1px solid red");location.replace("")}})()}showPassword(t){this.passwordInput.nativeElement.type=t?"text":"password",this.showEye=!t}sendPasswordResetEmail(){var t=this;return w(function*(){t.validEmail()?(yield t.auth.SendPasswordResetEmail(t.email))?t.loginMessage="Sorry, there was an error sending the password reset email. Please try again later.":(t.loginMessage="Password reset email sent.",t.showSendReset=!1):t.emailBorder("1px solid red")})()}validEmail(){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(this.email)}static{this.\u0275fac=function(r){return new(r||e)(D(Ko),D(yn))}}static{this.\u0275cmp=$e({type:e,selectors:[["app-login"]],viewQuery:function(r,i){if(1&r&&(Or(bK,5),Or(EK,5)),2&r){let o;dr(o=hr())&&(i.emailInput=o.first),dr(o=hr())&&(i.passwordInput=o.first)}},decls:24,vars:6,consts:[["emailInput",""],["passwordInput",""],[1,"modal-container","flex-column"],[1,"modal-message"],["id","login-inputs",1,"flex-column"],[1,"flex-row"],["type","email","autocomplete","email","placeholder","Email",3,"focus","ngModelChange","ngModel"],["id","password",1,"flex-row"],["type","password","autocomplete","current-password","placeholder","Password",3,"keydown.enter","focus","ngModelChange","ngModel"],["name","eye-outline",3,"click",4,"ngIf"],["name","eye-off-outline",3,"click",4,"ngIf"],[1,"link",3,"click"],["id","reset-button",3,"click",4,"ngIf"],[4,"ngIf"],["id","login-buttons",1,"flex-row"],[3,"click"],["name","eye-outline",3,"click"],["name","eye-off-outline",3,"click"],["id","reset-button",3,"click"],[1,"icon-text"],["name","paper-plane-outline"]],template:function(r,i){if(1&r){const o=ge();m(0,"div",2)(1,"div",3)(2,"h3"),C(3,"Sign in with email"),y(),m(4,"div",4)(5,"div",5)(6,"input",6,0),U("focus",function(){return z(o),G(i.emailBorder("1px solid grey"))}),Ve("ngModelChange",function(a){return z(o),He(i.email,a)||(i.email=a),G(a)}),y()(),m(8,"div")(9,"div",7)(10,"input",8,1),U("keydown.enter",function(){return z(o),G(i.logIn())})("focus",function(){return z(o),G(i.passwordsBorder("1px solid grey"))}),Ve("ngModelChange",function(a){return z(o),He(i.password,a)||(i.password=a),G(a)}),y(),W(12,DK,1,0,"ion-icon",9)(13,SK,1,0,"ion-icon",10),y(),m(14,"p",11),U("click",function(){return z(o),G(i.showSendReset=!i.showSendReset)}),C(15,"Forgot your password?"),y(),W(16,MK,6,0,"button",12),y()()(),m(17,"div"),W(18,IK,2,1,"p",13),y(),m(19,"div",14)(20,"button",15),U("click",function(){return z(o),G(i.logIn())}),C(21,"Sign in"),y(),m(22,"button",15),U("click",function(){return z(o),G(i.modal.hideLogin())}),C(23,"Exit"),y()()()}2&r&&(_(6),je("ngModel",i.email),_(4),je("ngModel",i.password),_(2),S("ngIf",i.showEye),_(),S("ngIf",!i.showEye),_(3),S("ngIf",i.showSendReset),_(2),S("ngIf",""!=i.loginMessage))},dependencies:[vt,Fn,Zn,Ln],styles:[".flex-row[_ngcontent-%COMP%], .flex-column[_ngcontent-%COMP%]{gap:1em}.modal-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.modal-container[_ngcontent-%COMP%]   #login-inputs[_ngcontent-%COMP%]   #password[_ngcontent-%COMP%]{align-items:center;justify-content:center;position:relative;margin-bottom:.5em}.modal-container[_ngcontent-%COMP%]   #login-inputs[_ngcontent-%COMP%]   #password[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.5em;position:absolute;right:.5em}.modal-container[_ngcontent-%COMP%]   #login-inputs[_ngcontent-%COMP%]   #password[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]:hover{cursor:pointer;transform:scale(1.1)}.modal-container[_ngcontent-%COMP%]   #login-inputs[_ngcontent-%COMP%]   #reset-button[_ngcontent-%COMP%]{padding:.5em;margin-top:.5em}"]})}}return e})();function AK(e,n){1&e&&Z(0,"app-game-message")}function PK(e,n){1&e&&Z(0,"app-answer-feedback")}function OK(e,n){1&e&&Z(0,"app-instructions")}function RK(e,n){1&e&&Z(0,"app-analytics")}function kK(e,n){1&e&&Z(0,"app-register")}function NK(e,n){1&e&&Z(0,"app-login")}let xK=(()=>{class e{constructor(t,r,i){this.router=t,this.modal=r,this.auth=i,this.showAuthOptions=!1,this.showRegistration=!1}ngOnInit(){(window.innerHeight<600||window.innerWidth<1140)&&this.router.navigate(["/warning"],{state:{message:"Your screen is to small to play this game. Please try on a larger screen."}}),console.log("   ___                                _       \n  |_  |                              | |      \n    | | ___  ___  _ __   __ _ _ __ __| |_   _ \n\t| |/ _ \\/ _ \\|  _ \\ / _  |  __/ _  | | | |\n/\\__/ /  __/ (_) | |_) | (_| | | | (_| | |_| |\n\\____/ \\___|\\___/|  __/ \\____|_|  \\____|\\___ |\n\t\t\t     | |                     __/ |\n\t\t\t     |_|                    |___/ \t\t\n\nPlease report any issues to https://docs.google.com/forms/d/e/1FAIpQLSdzHFumIhdsgNksr8lDUO3hHhVwaIqeO9asIhBWsroNfYZW4Q/viewform\n"),this.auth.user.subscribe(r=>{this.user=r}),this.auth.GetUser()}ngAfterViewInit(){window.innerHeight<600||window.innerWidth<1140||null===localStorage.getItem("showJeopardyInfo")&&(localStorage.setItem("showJeopardyInfo","shown"),this.modal.displayInstructions())}signIn(t){var r=this;return w(function*(){(yield r.auth.SignIn(t))&&r.handleAuthError("Uh oh, there was an unexpected error signing in. Please try again.")})()}signOut(){var t=this;return w(function*(){(yield t.auth.SignOut())?t.handleAuthError("Uh oh, there was an unexpected error signing out. Please try again."):location.replace("")})()}startRegistration(){this.showAuthOptions=!1,this.modal.displayRegister()}handleAuthError(t){this.showAuthOptions=!1,this.modal.displayMessage(t)}startLogin(){this.showAuthOptions=!1,this.modal.displayLogin()}goToProfile(){this.showAuthOptions=!1,this.router.navigate(["/profile"])}static{this.\u0275fac=function(r){return new(r||e)(D(Yt),D(yn),D(Ko))}}static{this.\u0275cmp=$e({type:e,selectors:[["app-root"]],decls:20,vars:6,consts:[["role","banner",1,"toolbar","flex-row"],[1,"flex-row",2,"align-items","center","gap","0.5em","overflow","hidden","height","100%"],["src","assets/trex-profile.jpg","alt","T-Rex",1,"app-icon"],["id","header-icons",1,"flex-row"],["href","/"],["name","home-outline"],["name","information-circle-outline",3,"click"],["role","main"],[4,"ngIf"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1),Z(2,"img",2),m(3,"h2"),C(4,"T-Rex Trivia"),y()(),m(5,"div",3)(6,"div")(7,"a",4),Z(8,"ion-icon",5),y()(),m(9,"div")(10,"ion-icon",6),U("click",function(){return i.modal.displayInstructions()}),y()()()(),m(11,"div",7),Z(12,"router-outlet"),y(),W(13,AK,1,0,"app-game-message",8)(14,PK,1,0,"app-answer-feedback",8)(15,OK,1,0,"app-instructions",8)(16,RK,1,0,"app-analytics",8),Z(17,"app-dispute"),W(18,kK,1,0,"app-register",8)(19,NK,1,0,"app-login",8)),2&r&&(_(13),S("ngIf",i.modal.showMessage()),_(),S("ngIf",i.modal.showAnswerFeedback()),_(),S("ngIf",i.modal.showInstructions()),_(),S("ngIf",i.modal.showAnalytics()),_(2),S("ngIf",i.modal.showRegister()),_(),S("ngIf",i.modal.showLogin()))},dependencies:[vt,C_,mO,J7,tK,nK,hK,CK,TK],styles:["[_nghost-%COMP%]{font-family:Poppins,-apple-system,BlinkMacSystemFont,Segoe UI,sans-serif;font-size:16px;color:#333;box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.toolbar[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;height:var(--header-height);align-items:center;background-color:var(--jeopardy-blue);color:#fff}.toolbar[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0}.toolbar[_ngcontent-%COMP%]   .app-icon[_ngcontent-%COMP%]{width:2.4em;height:2.4em;max-width:2.4em;max-height:2.4em;min-width:2.4em;min-height:2.4em;object-fit:cover;border:1px solid rgba(255,255,255,.3);margin-left:1em;flex-shrink:0;display:block}.toolbar[_ngcontent-%COMP%]   #header-icons[_ngcontent-%COMP%]{gap:2em;margin-right:2em;justify-content:flex-end}.toolbar[_ngcontent-%COMP%]   #header-icons[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{flex-grow:0}.toolbar[_ngcontent-%COMP%]   #header-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}.toolbar[_ngcontent-%COMP%]   #header-icons[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:2em}.toolbar[_ngcontent-%COMP%]   #header-icons[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]:hover, .toolbar[_ngcontent-%COMP%]   #header-icons[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{cursor:pointer;transform:scale(1.1)}.toolbar[_ngcontent-%COMP%]   #header-icons[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:2em;height:2em;border-radius:50%;object-fit:cover;border:2px solid white}.toolbar[_ngcontent-%COMP%]   #auth-options[_ngcontent-%COMP%]{position:absolute;top:calc(100% + .5em + 4px);right:0;padding:1em;background-color:var(--jeopardy-lightblue);border:1px solid var(--jeopardy-blue);border-radius:.5em;z-index:1;transform-origin:top}.toolbar[_ngcontent-%COMP%]   #auth-options[_ngcontent-%COMP%]   .flex-column[_ngcontent-%COMP%]{gap:1em}"],data:{animation:[xT("slideDownUp",[Ay("void",dc({transform:"scaleY(0)"})),Ay("*",dc({transform:"scaleY(1)"})),LT("* <=> void",FT("0.3s"))])]}})}}return e})(),FK=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=br({type:e,bootstrap:[xK]})}static{this.\u0275inj=lr({imports:[JM,K7,x4,MH,AG]})}}return e})();R3().bootstrapModule(FK).catch(e=>console.error(e))},53:(an,De,Re)=>{"use strict";var et=Re(424).default;Object.defineProperty(De,"__esModule",{value:!0});const Dt=Re(482).__importDefault(Re(272));De.default=class Ie{constructor(T){var P,L;this.shouldThrowOnError=!1,this.method=T.method,this.url=T.url,this.headers=new Headers(T.headers),this.schema=T.schema,this.body=T.body,this.shouldThrowOnError=null!==(P=T.shouldThrowOnError)&&void 0!==P&&P,this.signal=T.signal,this.isMaybeSingle=null!==(L=T.isMaybeSingle)&&void 0!==L&&L,this.fetch=T.fetch?T.fetch:fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(T,P){return this.headers=new Headers(this.headers),this.headers.set(T,P),this}then(T,P){var L=this;void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let Ae=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(function(){var me=et(function*(ke){var wt,It,ln,kt;let Be=null,st=null,mt=null,Vn=ke.status,Ut=ke.statusText;if(ke.ok){if("HEAD"!==L.method){const Un=yield ke.text();""===Un||(st="text/csv"===L.headers.get("Accept")||L.headers.get("Accept")&&null!==(wt=L.headers.get("Accept"))&&void 0!==wt&&wt.includes("application/vnd.pgrst.plan+text")?Un:JSON.parse(Un))}const vr=null===(It=L.headers.get("Prefer"))||void 0===It?void 0:It.match(/count=(exact|planned|estimated)/),sr=null===(ln=ke.headers.get("content-range"))||void 0===ln?void 0:ln.split("/");vr&&sr&&sr.length>1&&(mt=parseInt(sr[1])),L.isMaybeSingle&&"GET"===L.method&&Array.isArray(st)&&(st.length>1?(Be={code:"PGRST116",details:`Results contain ${st.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},st=null,mt=null,Vn=406,Ut="Not Acceptable"):st=1===st.length?st[0]:null)}else{const vr=yield ke.text();try{Be=JSON.parse(vr),Array.isArray(Be)&&404===ke.status&&(st=[],Be=null,Vn=200,Ut="OK")}catch{404===ke.status&&""===vr?(Vn=204,Ut="No Content"):Be={message:vr}}if(Be&&L.isMaybeSingle&&!(null===(kt=Be?.details)||void 0===kt)&&kt.includes("0 rows")&&(Be=null,Vn=200,Ut="OK"),Be&&L.shouldThrowOnError)throw new Dt.default(Be)}return{error:Be,data:st,count:mt,status:Vn,statusText:Ut}});return function(ke){return me.apply(this,arguments)}}());return this.shouldThrowOnError||(Ae=Ae.catch(me=>{var ke,wt,It,ln,kt,Be;let st="";const mt=me?.cause;if(mt){const Vn=null!==(ke=mt?.message)&&void 0!==ke?ke:"",Ut=null!==(wt=mt?.code)&&void 0!==wt?wt:"";st=`${null!==(It=me?.name)&&void 0!==It?It:"FetchError"}: ${me?.message}`,st+=`\n\nCaused by: ${null!==(ln=mt?.name)&&void 0!==ln?ln:"Error"}: ${Vn}`,Ut&&(st+=` (${Ut})`),mt?.stack&&(st+=`\n${mt.stack}`)}else st=null!==(kt=me?.stack)&&void 0!==kt?kt:"";return{error:{message:`${null!==(Be=me?.name)&&void 0!==Be?Be:"FetchError"}: ${me?.message}`,details:st,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),Ae.then(T,P)}returns(){return this}overrideTypes(){return this}}},547:(an,De,Re)=>{"use strict";Object.defineProperty(De,"__esModule",{value:!0});const et=Re(482),w=et.__importDefault(Re(627)),Dt=et.__importDefault(Re(335));class Ie{constructor(T,{headers:P={},schema:L,fetch:Se}={}){this.url=T,this.headers=new Headers(P),this.schemaName=L,this.fetch=Se}from(T){if(!T||"string"!=typeof T||""===T.trim())throw new Error("Invalid relation name: relation must be a non-empty string.");const P=new URL(`${this.url}/${T}`);return new w.default(P,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(T){return new Ie(this.url,{headers:this.headers,schema:T,fetch:this.fetch})}rpc(T,P={},{head:L=!1,get:Se=!1,count:Ae}={}){var me;let ke;const wt=new URL(`${this.url}/rpc/${T}`);let It;L||Se?(ke=L?"HEAD":"GET",Object.entries(P).filter(([kt,Be])=>void 0!==Be).map(([kt,Be])=>[kt,Array.isArray(Be)?`{${Be.join(",")}}`:`${Be}`]).forEach(([kt,Be])=>{wt.searchParams.append(kt,Be)})):(ke="POST",It=P);const ln=new Headers(this.headers);return Ae&&ln.set("Prefer",`count=${Ae}`),new Dt.default({method:ke,url:wt,headers:ln,schema:this.schemaName,body:It,fetch:null!==(me=this.fetch)&&void 0!==me?me:fetch})}}De.default=Ie},272:(an,De)=>{"use strict";Object.defineProperty(De,"__esModule",{value:!0});class Re extends Error{constructor(w){super(w.message),this.name="PostgrestError",this.details=w.details,this.hint=w.hint,this.code=w.code}}De.default=Re},335:(an,De,Re)=>{"use strict";Object.defineProperty(De,"__esModule",{value:!0});const w=Re(482).__importDefault(Re(431)),Dt=new RegExp("[,()]");De.default=class Ie extends w.default{eq(T,P){return this.url.searchParams.append(T,`eq.${P}`),this}neq(T,P){return this.url.searchParams.append(T,`neq.${P}`),this}gt(T,P){return this.url.searchParams.append(T,`gt.${P}`),this}gte(T,P){return this.url.searchParams.append(T,`gte.${P}`),this}lt(T,P){return this.url.searchParams.append(T,`lt.${P}`),this}lte(T,P){return this.url.searchParams.append(T,`lte.${P}`),this}like(T,P){return this.url.searchParams.append(T,`like.${P}`),this}likeAllOf(T,P){return this.url.searchParams.append(T,`like(all).{${P.join(",")}}`),this}likeAnyOf(T,P){return this.url.searchParams.append(T,`like(any).{${P.join(",")}}`),this}ilike(T,P){return this.url.searchParams.append(T,`ilike.${P}`),this}ilikeAllOf(T,P){return this.url.searchParams.append(T,`ilike(all).{${P.join(",")}}`),this}ilikeAnyOf(T,P){return this.url.searchParams.append(T,`ilike(any).{${P.join(",")}}`),this}regexMatch(T,P){return this.url.searchParams.append(T,`match.${P}`),this}regexIMatch(T,P){return this.url.searchParams.append(T,`imatch.${P}`),this}is(T,P){return this.url.searchParams.append(T,`is.${P}`),this}isDistinct(T,P){return this.url.searchParams.append(T,`isdistinct.${P}`),this}in(T,P){const L=Array.from(new Set(P)).map(Se=>"string"==typeof Se&&Dt.test(Se)?`"${Se}"`:`${Se}`).join(",");return this.url.searchParams.append(T,`in.(${L})`),this}contains(T,P){return"string"==typeof P?this.url.searchParams.append(T,`cs.${P}`):Array.isArray(P)?this.url.searchParams.append(T,`cs.{${P.join(",")}}`):this.url.searchParams.append(T,`cs.${JSON.stringify(P)}`),this}containedBy(T,P){return"string"==typeof P?this.url.searchParams.append(T,`cd.${P}`):Array.isArray(P)?this.url.searchParams.append(T,`cd.{${P.join(",")}}`):this.url.searchParams.append(T,`cd.${JSON.stringify(P)}`),this}rangeGt(T,P){return this.url.searchParams.append(T,`sr.${P}`),this}rangeGte(T,P){return this.url.searchParams.append(T,`nxl.${P}`),this}rangeLt(T,P){return this.url.searchParams.append(T,`sl.${P}`),this}rangeLte(T,P){return this.url.searchParams.append(T,`nxr.${P}`),this}rangeAdjacent(T,P){return this.url.searchParams.append(T,`adj.${P}`),this}overlaps(T,P){return this.url.searchParams.append(T,"string"==typeof P?`ov.${P}`:`ov.{${P.join(",")}}`),this}textSearch(T,P,{config:L,type:Se}={}){let Ae="";return"plain"===Se?Ae="pl":"phrase"===Se?Ae="ph":"websearch"===Se&&(Ae="w"),this.url.searchParams.append(T,`${Ae}fts${void 0===L?"":`(${L})`}.${P}`),this}match(T){return Object.entries(T).forEach(([P,L])=>{this.url.searchParams.append(P,`eq.${L}`)}),this}not(T,P,L){return this.url.searchParams.append(T,`not.${P}.${L}`),this}or(T,{foreignTable:P,referencedTable:L=P}={}){return this.url.searchParams.append(L?`${L}.or`:"or",`(${T})`),this}filter(T,P,L){return this.url.searchParams.append(T,`${P}.${L}`),this}}},627:(an,De,Re)=>{"use strict";Object.defineProperty(De,"__esModule",{value:!0});const w=Re(482).__importDefault(Re(335));De.default=class Dt{constructor(ne,{headers:T={},schema:P,fetch:L}){this.url=ne,this.headers=new Headers(T),this.schema=P,this.fetch=L}select(ne,T){const{head:P=!1,count:L}=T??{},Se=P?"HEAD":"GET";let Ae=!1;const me=(ne??"*").split("").map(ke=>/\s/.test(ke)&&!Ae?"":('"'===ke&&(Ae=!Ae),ke)).join("");return this.url.searchParams.set("select",me),L&&this.headers.append("Prefer",`count=${L}`),new w.default({method:Se,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(ne,{count:T,defaultToNull:P=!0}={}){var L;if(T&&this.headers.append("Prefer",`count=${T}`),P||this.headers.append("Prefer","missing=default"),Array.isArray(ne)){const Ae=ne.reduce((me,ke)=>me.concat(Object.keys(ke)),[]);if(Ae.length>0){const me=[...new Set(Ae)].map(ke=>`"${ke}"`);this.url.searchParams.set("columns",me.join(","))}}return new w.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:ne,fetch:null!==(L=this.fetch)&&void 0!==L?L:fetch})}upsert(ne,{onConflict:T,ignoreDuplicates:P=!1,count:L,defaultToNull:Se=!0}={}){var Ae;if(this.headers.append("Prefer",`resolution=${P?"ignore":"merge"}-duplicates`),void 0!==T&&this.url.searchParams.set("on_conflict",T),L&&this.headers.append("Prefer",`count=${L}`),Se||this.headers.append("Prefer","missing=default"),Array.isArray(ne)){const ke=ne.reduce((wt,It)=>wt.concat(Object.keys(It)),[]);if(ke.length>0){const wt=[...new Set(ke)].map(It=>`"${It}"`);this.url.searchParams.set("columns",wt.join(","))}}return new w.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:ne,fetch:null!==(Ae=this.fetch)&&void 0!==Ae?Ae:fetch})}update(ne,{count:T}={}){var P;return T&&this.headers.append("Prefer",`count=${T}`),new w.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:ne,fetch:null!==(P=this.fetch)&&void 0!==P?P:fetch})}delete({count:ne}={}){var T;return ne&&this.headers.append("Prefer",`count=${ne}`),new w.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:null!==(T=this.fetch)&&void 0!==T?T:fetch})}}},431:(an,De,Re)=>{"use strict";Object.defineProperty(De,"__esModule",{value:!0});const w=Re(482).__importDefault(Re(53));De.default=class Dt extends w.default{select(ne){let T=!1;const P=(ne??"*").split("").map(L=>/\s/.test(L)&&!T?"":('"'===L&&(T=!T),L)).join("");return this.url.searchParams.set("select",P),this.headers.append("Prefer","return=representation"),this}order(ne,{ascending:T=!0,nullsFirst:P,foreignTable:L,referencedTable:Se=L}={}){const Ae=Se?`${Se}.order`:"order",me=this.url.searchParams.get(Ae);return this.url.searchParams.set(Ae,`${me?`${me},`:""}${ne}.${T?"asc":"desc"}${void 0===P?"":P?".nullsfirst":".nullslast"}`),this}limit(ne,{foreignTable:T,referencedTable:P=T}={}){return this.url.searchParams.set(typeof P>"u"?"limit":`${P}.limit`,`${ne}`),this}range(ne,T,{foreignTable:P,referencedTable:L=P}={}){const Ae=typeof L>"u"?"limit":`${L}.limit`;return this.url.searchParams.set(typeof L>"u"?"offset":`${L}.offset`,`${ne}`),this.url.searchParams.set(Ae,""+(T-ne+1)),this}abortSignal(ne){return this.signal=ne,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.headers.set("Accept","GET"===this.method?"application/json":"application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:ne=!1,verbose:T=!1,settings:P=!1,buffers:L=!1,wal:Se=!1,format:Ae="text"}={}){var me;const ke=[ne?"analyze":null,T?"verbose":null,P?"settings":null,L?"buffers":null,Se?"wal":null].filter(Boolean).join("|"),wt=null!==(me=this.headers.get("Accept"))&&void 0!==me?me:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${Ae}; for="${wt}"; options=${ke};`),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(ne){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${ne}`),this}}},817:(an,De,Re)=>{"use strict";Object.defineProperty(De,"__esModule",{value:!0}),De.PostgrestError=De.PostgrestBuilder=De.PostgrestTransformBuilder=De.PostgrestFilterBuilder=De.PostgrestQueryBuilder=De.PostgrestClient=void 0;const et=Re(482),w=et.__importDefault(Re(547));De.PostgrestClient=w.default;const Dt=et.__importDefault(Re(627));De.PostgrestQueryBuilder=Dt.default;const Ie=et.__importDefault(Re(335));De.PostgrestFilterBuilder=Ie.default;const ne=et.__importDefault(Re(431));De.PostgrestTransformBuilder=ne.default;const T=et.__importDefault(Re(53));De.PostgrestBuilder=T.default;const P=et.__importDefault(Re(272));De.PostgrestError=P.default,De.default={PostgrestClient:w.default,PostgrestQueryBuilder:Dt.default,PostgrestFilterBuilder:Ie.default,PostgrestTransformBuilder:ne.default,PostgrestBuilder:T.default,PostgrestError:P.default}},424:an=>{function De(et,w,Dt,Ie,ne,T,P){try{var L=et[T](P),Se=L.value}catch(Ae){return void Dt(Ae)}L.done?w(Se):Promise.resolve(Se).then(Ie,ne)}an.exports=function Re(et){return function(){var w=this,Dt=arguments;return new Promise(function(Ie,ne){var T=et.apply(w,Dt);function P(Se){De(T,Ie,ne,P,L,"next",Se)}function L(Se){De(T,Ie,ne,P,L,"throw",Se)}P(void 0)})}},an.exports.__esModule=!0,an.exports.default=an.exports},482:(an,De,Re)=>{"use strict";Re.r(De),Re.d(De,{__addDisposableResource:()=>rf,__assign:()=>Dt,__asyncDelegator:()=>vr,__asyncGenerator:()=>Zo,__asyncValues:()=>sr,__await:()=>Ut,__awaiter:()=>ke,__classPrivateFieldGet:()=>nf,__classPrivateFieldIn:()=>Uc,__classPrivateFieldSet:()=>Vc,__createBinding:()=>It,__decorate:()=>ne,__disposeResources:()=>ka,__esDecorate:()=>P,__exportStar:()=>ln,__extends:()=>w,__generator:()=>wt,__importDefault:()=>tf,__importStar:()=>ef,__makeTemplateObject:()=>Un,__metadata:()=>me,__param:()=>T,__propKey:()=>Se,__read:()=>Be,__rest:()=>Ie,__rewriteRelativeImportExtension:()=>$c,__runInitializers:()=>L,__setFunctionName:()=>Ae,__spread:()=>st,__spreadArray:()=>Vn,__spreadArrays:()=>mt,__values:()=>kt,default:()=>Na});var et=function(M,A){return(et=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,N){x.__proto__=N}||function(x,N){for(var $ in N)Object.prototype.hasOwnProperty.call(N,$)&&(x[$]=N[$])})(M,A)};function w(M,A){if("function"!=typeof A&&null!==A)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");function x(){this.constructor=M}et(M,A),M.prototype=null===A?Object.create(A):(x.prototype=A.prototype,new x)}var Dt=function(){return Dt=Object.assign||function(A){for(var x,N=1,$=arguments.length;N<$;N++)for(var B in x=arguments[N])Object.prototype.hasOwnProperty.call(x,B)&&(A[B]=x[B]);return A},Dt.apply(this,arguments)};function Ie(M,A){var x={};for(var N in M)Object.prototype.hasOwnProperty.call(M,N)&&A.indexOf(N)<0&&(x[N]=M[N]);if(null!=M&&"function"==typeof Object.getOwnPropertySymbols){var $=0;for(N=Object.getOwnPropertySymbols(M);$<N.length;$++)A.indexOf(N[$])<0&&Object.prototype.propertyIsEnumerable.call(M,N[$])&&(x[N[$]]=M[N[$]])}return x}function ne(M,A,x,N){var re,$=arguments.length,B=$<3?A:null===N?N=Object.getOwnPropertyDescriptor(A,x):N;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)B=Reflect.decorate(M,A,x,N);else for(var tt=M.length-1;tt>=0;tt--)(re=M[tt])&&(B=($<3?re(B):$>3?re(A,x,B):re(A,x))||B);return $>3&&B&&Object.defineProperty(A,x,B),B}function T(M,A){return function(x,N){A(x,N,M)}}function P(M,A,x,N,$,B){function re(Ur){if(void 0!==Ur&&"function"!=typeof Ur)throw new TypeError("Function expected");return Ur}for(var Ee,tt=N.kind,Jt="getter"===tt?"get":"setter"===tt?"set":"value",we=!A&&M?N.static?M:M.prototype:null,St=A||(we?Object.getOwnPropertyDescriptor(we,N.name):{}),hi=!1,nt=x.length-1;nt>=0;nt--){var en={};for(var at in N)en[at]="access"===at?{}:N[at];for(var at in N.access)en.access[at]=N.access[at];en.addInitializer=function(Ur){if(hi)throw new TypeError("Cannot add initializers after decoration has completed");B.push(re(Ur||null))};var ar=(0,x[nt])("accessor"===tt?{get:St.get,set:St.set}:St[Jt],en);if("accessor"===tt){if(void 0===ar)continue;if(null===ar||"object"!=typeof ar)throw new TypeError("Object expected");(Ee=re(ar.get))&&(St.get=Ee),(Ee=re(ar.set))&&(St.set=Ee),(Ee=re(ar.init))&&$.unshift(Ee)}else(Ee=re(ar))&&("field"===tt?$.unshift(Ee):St[Jt]=Ee)}we&&Object.defineProperty(we,N.name,St),hi=!0}function L(M,A,x){for(var N=arguments.length>2,$=0;$<A.length;$++)x=N?A[$].call(M,x):A[$].call(M);return N?x:void 0}function Se(M){return"symbol"==typeof M?M:"".concat(M)}function Ae(M,A,x){return"symbol"==typeof A&&(A=A.description?"[".concat(A.description,"]"):""),Object.defineProperty(M,"name",{configurable:!0,value:x?"".concat(x," ",A):A})}function me(M,A){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(M,A)}function ke(M,A,x,N){return new(x||(x=Promise))(function(B,re){function tt(St){try{we(N.next(St))}catch(Ee){re(Ee)}}function Jt(St){try{we(N.throw(St))}catch(Ee){re(Ee)}}function we(St){St.done?B(St.value):function $(B){return B instanceof x?B:new x(function(re){re(B)})}(St.value).then(tt,Jt)}we((N=N.apply(M,A||[])).next())})}function wt(M,A){var N,$,B,x={label:0,sent:function(){if(1&B[0])throw B[1];return B[1]},trys:[],ops:[]},re=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return re.next=tt(0),re.throw=tt(1),re.return=tt(2),"function"==typeof Symbol&&(re[Symbol.iterator]=function(){return this}),re;function tt(we){return function(St){return function Jt(we){if(N)throw new TypeError("Generator is already executing.");for(;re&&(re=0,we[0]&&(x=0)),x;)try{if(N=1,$&&(B=2&we[0]?$.return:we[0]?$.throw||((B=$.return)&&B.call($),0):$.next)&&!(B=B.call($,we[1])).done)return B;switch($=0,B&&(we=[2&we[0],B.value]),we[0]){case 0:case 1:B=we;break;case 4:return x.label++,{value:we[1],done:!1};case 5:x.label++,$=we[1],we=[0];continue;case 7:we=x.ops.pop(),x.trys.pop();continue;default:if(!(B=(B=x.trys).length>0&&B[B.length-1])&&(6===we[0]||2===we[0])){x=0;continue}if(3===we[0]&&(!B||we[1]>B[0]&&we[1]<B[3])){x.label=we[1];break}if(6===we[0]&&x.label<B[1]){x.label=B[1],B=we;break}if(B&&x.label<B[2]){x.label=B[2],x.ops.push(we);break}B[2]&&x.ops.pop(),x.trys.pop();continue}we=A.call(M,x)}catch(St){we=[6,St],$=0}finally{N=B=0}if(5&we[0])throw we[1];return{value:we[0]?we[1]:void 0,done:!0}}([we,St])}}}var It=Object.create?function(M,A,x,N){void 0===N&&(N=x);var $=Object.getOwnPropertyDescriptor(A,x);(!$||("get"in $?!A.__esModule:$.writable||$.configurable))&&($={enumerable:!0,get:function(){return A[x]}}),Object.defineProperty(M,N,$)}:function(M,A,x,N){void 0===N&&(N=x),M[N]=A[x]};function ln(M,A){for(var x in M)"default"!==x&&!Object.prototype.hasOwnProperty.call(A,x)&&It(A,M,x)}function kt(M){var A="function"==typeof Symbol&&Symbol.iterator,x=A&&M[A],N=0;if(x)return x.call(M);if(M&&"number"==typeof M.length)return{next:function(){return M&&N>=M.length&&(M=void 0),{value:M&&M[N++],done:!M}}};throw new TypeError(A?"Object is not iterable.":"Symbol.iterator is not defined.")}function Be(M,A){var x="function"==typeof Symbol&&M[Symbol.iterator];if(!x)return M;var $,re,N=x.call(M),B=[];try{for(;(void 0===A||A-- >0)&&!($=N.next()).done;)B.push($.value)}catch(tt){re={error:tt}}finally{try{$&&!$.done&&(x=N.return)&&x.call(N)}finally{if(re)throw re.error}}return B}function st(){for(var M=[],A=0;A<arguments.length;A++)M=M.concat(Be(arguments[A]));return M}function mt(){for(var M=0,A=0,x=arguments.length;A<x;A++)M+=arguments[A].length;var N=Array(M),$=0;for(A=0;A<x;A++)for(var B=arguments[A],re=0,tt=B.length;re<tt;re++,$++)N[$]=B[re];return N}function Vn(M,A,x){if(x||2===arguments.length)for(var B,N=0,$=A.length;N<$;N++)(B||!(N in A))&&(B||(B=Array.prototype.slice.call(A,0,N)),B[N]=A[N]);return M.concat(B||Array.prototype.slice.call(A))}function Ut(M){return this instanceof Ut?(this.v=M,this):new Ut(M)}function Zo(M,A,x){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $,N=x.apply(M,A||[]),B=[];return $=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),tt("next"),tt("throw"),tt("return",function re(nt){return function(en){return Promise.resolve(en).then(nt,Ee)}}),$[Symbol.asyncIterator]=function(){return this},$;function tt(nt,en){N[nt]&&($[nt]=function(at){return new Promise(function(ar,Ur){B.push([nt,at,ar,Ur])>1||Jt(nt,at)})},en&&($[nt]=en($[nt])))}function Jt(nt,en){try{!function we(nt){nt.value instanceof Ut?Promise.resolve(nt.value.v).then(St,Ee):hi(B[0][2],nt)}(N[nt](en))}catch(at){hi(B[0][3],at)}}function St(nt){Jt("next",nt)}function Ee(nt){Jt("throw",nt)}function hi(nt,en){nt(en),B.shift(),B.length&&Jt(B[0][0],B[0][1])}}function vr(M){var A,x;return A={},N("next"),N("throw",function($){throw $}),N("return"),A[Symbol.iterator]=function(){return this},A;function N($,B){A[$]=M[$]?function(re){return(x=!x)?{value:Ut(M[$](re)),done:!1}:B?B(re):re}:B}}function sr(M){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var x,A=M[Symbol.asyncIterator];return A?A.call(M):(M=kt(M),x={},N("next"),N("throw"),N("return"),x[Symbol.asyncIterator]=function(){return this},x);function N(B){x[B]=M[B]&&function(re){return new Promise(function(tt,Jt){!function $(B,re,tt,Jt){Promise.resolve(Jt).then(function(we){B({value:we,done:tt})},re)}(tt,Jt,(re=M[B](re)).done,re.value)})}}}function Un(M,A){return Object.defineProperty?Object.defineProperty(M,"raw",{value:A}):M.raw=A,M}var ki=Object.create?function(M,A){Object.defineProperty(M,"default",{enumerable:!0,value:A})}:function(M,A){M.default=A},Xo=function(M){return(Xo=Object.getOwnPropertyNames||function(A){var x=[];for(var N in A)Object.prototype.hasOwnProperty.call(A,N)&&(x[x.length]=N);return x})(M)};function ef(M){if(M&&M.__esModule)return M;var A={};if(null!=M)for(var x=Xo(M),N=0;N<x.length;N++)"default"!==x[N]&&It(A,M,x[N]);return ki(A,M),A}function tf(M){return M&&M.__esModule?M:{default:M}}function nf(M,A,x,N){if("a"===x&&!N)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof A?M!==A||!N:!A.has(M))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===x?N:"a"===x?N.call(M):N?N.value:A.get(M)}function Vc(M,A,x,N,$){if("m"===N)throw new TypeError("Private method is not writable");if("a"===N&&!$)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof A?M!==A||!$:!A.has(M))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===N?$.call(M,x):$?$.value=x:A.set(M,x),x}function Uc(M,A){if(null===A||"object"!=typeof A&&"function"!=typeof A)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof M?A===M:M.has(A)}function rf(M,A,x){if(null!=A){if("object"!=typeof A&&"function"!=typeof A)throw new TypeError("Object expected.");var N,$;if(x){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");N=A[Symbol.asyncDispose]}if(void 0===N){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");N=A[Symbol.dispose],x&&($=N)}if("function"!=typeof N)throw new TypeError("Object not disposable.");$&&(N=function(){try{$.call(this)}catch(B){return Promise.reject(B)}}),M.stack.push({value:A,dispose:N,async:x})}else x&&M.stack.push({async:!0});return A}var Bc="function"==typeof SuppressedError?SuppressedError:function(M,A,x){var N=new Error(x);return N.name="SuppressedError",N.error=M,N.suppressed=A,N};function ka(M){function A(B){M.error=M.hasError?new Bc(B,M.error,"An error was suppressed during disposal."):B,M.hasError=!0}var x,N=0;return function $(){for(;x=M.stack.pop();)try{if(!x.async&&1===N)return N=0,M.stack.push(x),Promise.resolve().then($);if(x.dispose){var B=x.dispose.call(x.value);if(x.async)return N|=2,Promise.resolve(B).then($,function(re){return A(re),$()})}else N|=1}catch(re){A(re)}if(1===N)return M.hasError?Promise.reject(M.error):Promise.resolve();if(M.hasError)throw M.error}()}function $c(M,A){return"string"==typeof M&&/^\.\.?\//.test(M)?M.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(x,N,$,B,re){return N?A?".jsx":".js":!$||B&&re?$+B+"."+re.toLowerCase()+"js":x}):M}const Na={__extends:w,__assign:Dt,__rest:Ie,__decorate:ne,__param:T,__esDecorate:P,__runInitializers:L,__propKey:Se,__setFunctionName:Ae,__metadata:me,__awaiter:ke,__generator:wt,__createBinding:It,__exportStar:ln,__values:kt,__read:Be,__spread:st,__spreadArrays:mt,__spreadArray:Vn,__await:Ut,__asyncGenerator:Zo,__asyncDelegator:vr,__asyncValues:sr,__makeTemplateObject:Un,__importStar:ef,__importDefault:tf,__classPrivateFieldGet:nf,__classPrivateFieldSet:Vc,__classPrivateFieldIn:Uc,__addDisposableResource:rf,__disposeResources:ka,__rewriteRelativeImportExtension:$c}}},an=>{an(an.s=599)}]);